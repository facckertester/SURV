var eT=n=>{throw TypeError(n)};var ps=(n,e,o)=>e.has(n)?eT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,o);function tT(n,e){for(var o=0;o<e.length;o++){const s=e[o];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in n)){const u=Object.getOwnPropertyDescriptor(s,l);u&&Object.defineProperty(n,l,u.get?u:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function o(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=o(l);fetch(l.href,u)}})();function Rc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vu={exports:{}},hs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh;function nT(){if(qh)return hs;qh=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:n,type:s,key:f,ref:l!==void 0?l:null,props:u}}return hs.Fragment=e,hs.jsx=o,hs.jsxs=o,hs}var Fh;function iT(){return Fh||(Fh=1,Vu.exports=nT()),Vu.exports}var N=iT(),zu={exports:{}},le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh;function oT(){if(Jh)return le;Jh=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function E(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,I={};function z(x,B,Q){this.props=x,this.context=B,this.refs=I,this.updater=Q||b}z.prototype.isReactComponent={},z.prototype.setState=function(x,B){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,B,"setState")},z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function $(){}$.prototype=z.prototype;function q(x,B,Q){this.props=x,this.context=B,this.refs=I,this.updater=Q||b}var Y=q.prototype=new $;Y.constructor=q,w(Y,z.prototype),Y.isPureReactComponent=!0;var W=Array.isArray;function O(){}var F={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function j(x,B,Q){var te=Q.ref;return{$$typeof:n,type:x,key:B,ref:te!==void 0?te:null,props:Q}}function ae(x,B){return j(x.type,B,x.props)}function Te(x){return typeof x=="object"&&x!==null&&x.$$typeof===n}function J(x){var B={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(Q){return B[Q]})}var pe=/\/+/g;function Se(x,B){return typeof x=="object"&&x!==null&&x.key!=null?J(""+x.key):B.toString(36)}function Be(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(O,O):(x.status="pending",x.then(function(B){x.status==="pending"&&(x.status="fulfilled",x.value=B)},function(B){x.status==="pending"&&(x.status="rejected",x.reason=B)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function P(x,B,Q,te,ue){var he=typeof x;(he==="undefined"||he==="boolean")&&(x=null);var be=!1;if(x===null)be=!0;else switch(he){case"bigint":case"string":case"number":be=!0;break;case"object":switch(x.$$typeof){case n:case e:be=!0;break;case v:return be=x._init,P(be(x._payload),B,Q,te,ue)}}if(be)return ue=ue(x),be=te===""?"."+Se(x,0):te,W(ue)?(Q="",be!=null&&(Q=be.replace(pe,"$&/")+"/"),P(ue,B,Q,"",function(To){return To})):ue!=null&&(Te(ue)&&(ue=ae(ue,Q+(ue.key==null||x&&x.key===ue.key?"":(""+ue.key).replace(pe,"$&/")+"/")+be)),B.push(ue)),1;be=0;var ut=te===""?".":te+":";if(W(x))for(var qe=0;qe<x.length;qe++)te=x[qe],he=ut+Se(te,qe),be+=P(te,B,Q,he,ue);else if(qe=E(x),typeof qe=="function")for(x=qe.call(x),qe=0;!(te=x.next()).done;)te=te.value,he=ut+Se(te,qe++),be+=P(te,B,Q,he,ue);else if(he==="object"){if(typeof x.then=="function")return P(Be(x),B,Q,te,ue);throw B=String(x),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return be}function K(x,B,Q){if(x==null)return x;var te=[],ue=0;return P(x,te,"","",function(he){return B.call(Q,he,ue++)}),te}function ie(x){if(x._status===-1){var B=x._result;B=B(),B.then(function(Q){(x._status===0||x._status===-1)&&(x._status=1,x._result=Q)},function(Q){(x._status===0||x._status===-1)&&(x._status=2,x._result=Q)}),x._status===-1&&(x._status=0,x._result=B)}if(x._status===1)return x._result.default;throw x._result}var Ce=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},we={map:K,forEach:function(x,B,Q){K(x,function(){B.apply(this,arguments)},Q)},count:function(x){var B=0;return K(x,function(){B++}),B},toArray:function(x){return K(x,function(B){return B})||[]},only:function(x){if(!Te(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return le.Activity=_,le.Children=we,le.Component=z,le.Fragment=o,le.Profiler=l,le.PureComponent=q,le.StrictMode=s,le.Suspense=y,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,le.__COMPILER_RUNTIME={__proto__:null,c:function(x){return F.H.useMemoCache(x)}},le.cache=function(x){return function(){return x.apply(null,arguments)}},le.cacheSignal=function(){return null},le.cloneElement=function(x,B,Q){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var te=w({},x.props),ue=x.key;if(B!=null)for(he in B.key!==void 0&&(ue=""+B.key),B)!fe.call(B,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&B.ref===void 0||(te[he]=B[he]);var he=arguments.length-2;if(he===1)te.children=Q;else if(1<he){for(var be=Array(he),ut=0;ut<he;ut++)be[ut]=arguments[ut+2];te.children=be}return j(x.type,ue,te)},le.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},le.createElement=function(x,B,Q){var te,ue={},he=null;if(B!=null)for(te in B.key!==void 0&&(he=""+B.key),B)fe.call(B,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ue[te]=B[te]);var be=arguments.length-2;if(be===1)ue.children=Q;else if(1<be){for(var ut=Array(be),qe=0;qe<be;qe++)ut[qe]=arguments[qe+2];ue.children=ut}if(x&&x.defaultProps)for(te in be=x.defaultProps,be)ue[te]===void 0&&(ue[te]=be[te]);return j(x,he,ue)},le.createRef=function(){return{current:null}},le.forwardRef=function(x){return{$$typeof:h,render:x}},le.isValidElement=Te,le.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:ie}},le.memo=function(x,B){return{$$typeof:m,type:x,compare:B===void 0?null:B}},le.startTransition=function(x){var B=F.T,Q={};F.T=Q;try{var te=x(),ue=F.S;ue!==null&&ue(Q,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(O,Ce)}catch(he){Ce(he)}finally{B!==null&&Q.types!==null&&(B.types=Q.types),F.T=B}},le.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},le.use=function(x){return F.H.use(x)},le.useActionState=function(x,B,Q){return F.H.useActionState(x,B,Q)},le.useCallback=function(x,B){return F.H.useCallback(x,B)},le.useContext=function(x){return F.H.useContext(x)},le.useDebugValue=function(){},le.useDeferredValue=function(x,B){return F.H.useDeferredValue(x,B)},le.useEffect=function(x,B){return F.H.useEffect(x,B)},le.useEffectEvent=function(x){return F.H.useEffectEvent(x)},le.useId=function(){return F.H.useId()},le.useImperativeHandle=function(x,B,Q){return F.H.useImperativeHandle(x,B,Q)},le.useInsertionEffect=function(x,B){return F.H.useInsertionEffect(x,B)},le.useLayoutEffect=function(x,B){return F.H.useLayoutEffect(x,B)},le.useMemo=function(x,B){return F.H.useMemo(x,B)},le.useOptimistic=function(x,B){return F.H.useOptimistic(x,B)},le.useReducer=function(x,B,Q){return F.H.useReducer(x,B,Q)},le.useRef=function(x){return F.H.useRef(x)},le.useState=function(x){return F.H.useState(x)},le.useSyncExternalStore=function(x,B,Q){return F.H.useSyncExternalStore(x,B,Q)},le.useTransition=function(){return F.H.useTransition()},le.version="19.2.4",le}var Yh;function xc(){return Yh||(Yh=1,zu.exports=oT()),zu.exports}var Le=xc();const sT=Rc(Le);var Bu={exports:{}},ms={},qu={exports:{}},Fu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh;function rT(){return Kh||(Kh=1,(function(n){function e(P,K){var ie=P.length;P.push(K);e:for(;0<ie;){var Ce=ie-1>>>1,we=P[Ce];if(0<l(we,K))P[Ce]=K,P[ie]=we,ie=Ce;else break e}}function o(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var K=P[0],ie=P.pop();if(ie!==K){P[0]=ie;e:for(var Ce=0,we=P.length,x=we>>>1;Ce<x;){var B=2*(Ce+1)-1,Q=P[B],te=B+1,ue=P[te];if(0>l(Q,ie))te<we&&0>l(ue,Q)?(P[Ce]=ue,P[te]=ie,Ce=te):(P[Ce]=Q,P[B]=ie,Ce=B);else if(te<we&&0>l(ue,ie))P[Ce]=ue,P[te]=ie,Ce=te;else break e}}return K}function l(P,K){var ie=P.sortIndex-K.sortIndex;return ie!==0?ie:P.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();n.unstable_now=function(){return f.now()-h}}var y=[],m=[],v=1,_=null,S=3,E=!1,b=!1,w=!1,I=!1,z=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function Y(P){for(var K=o(m);K!==null;){if(K.callback===null)s(m);else if(K.startTime<=P)s(m),K.sortIndex=K.expirationTime,e(y,K);else break;K=o(m)}}function W(P){if(w=!1,Y(P),!b)if(o(y)!==null)b=!0,O||(O=!0,J());else{var K=o(m);K!==null&&Be(W,K.startTime-P)}}var O=!1,F=-1,fe=5,j=-1;function ae(){return I?!0:!(n.unstable_now()-j<fe)}function Te(){if(I=!1,O){var P=n.unstable_now();j=P;var K=!0;try{e:{b=!1,w&&(w=!1,$(F),F=-1),E=!0;var ie=S;try{t:{for(Y(P),_=o(y);_!==null&&!(_.expirationTime>P&&ae());){var Ce=_.callback;if(typeof Ce=="function"){_.callback=null,S=_.priorityLevel;var we=Ce(_.expirationTime<=P);if(P=n.unstable_now(),typeof we=="function"){_.callback=we,Y(P),K=!0;break t}_===o(y)&&s(y),Y(P)}else s(y);_=o(y)}if(_!==null)K=!0;else{var x=o(m);x!==null&&Be(W,x.startTime-P),K=!1}}break e}finally{_=null,S=ie,E=!1}K=void 0}}finally{K?J():O=!1}}}var J;if(typeof q=="function")J=function(){q(Te)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Se=pe.port2;pe.port1.onmessage=Te,J=function(){Se.postMessage(null)}}else J=function(){z(Te,0)};function Be(P,K){F=z(function(){P(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(P){switch(S){case 1:case 2:case 3:var K=3;break;default:K=S}var ie=S;S=K;try{return P()}finally{S=ie}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(P,K){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var ie=S;S=P;try{return K()}finally{S=ie}},n.unstable_scheduleCallback=function(P,K,ie){var Ce=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Ce+ie:Ce):ie=Ce,P){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ie+we,P={id:v++,callback:K,priorityLevel:P,startTime:ie,expirationTime:we,sortIndex:-1},ie>Ce?(P.sortIndex=ie,e(m,P),o(y)===null&&P===o(m)&&(w?($(F),F=-1):w=!0,Be(W,ie-Ce))):(P.sortIndex=we,e(y,P),b||E||(b=!0,O||(O=!0,J()))),P},n.unstable_shouldYield=ae,n.unstable_wrapCallback=function(P){var K=S;return function(){var ie=S;S=K;try{return P.apply(this,arguments)}finally{S=ie}}}})(Fu)),Fu}var $h;function lT(){return $h||($h=1,qu.exports=rT()),qu.exports}var Ju={exports:{}},rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh;function aT(){if(Xh)return rt;Xh=1;var n=xc();function e(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,m,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:_==null?null:""+_,children:y,containerInfo:m,implementation:v}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rt.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(y,m,null,v)},rt.flushSync=function(y){var m=f.T,v=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=m,s.p=v,s.d.f()}},rt.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(y,m))},rt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},rt.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,_=h(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:E}):v==="script"&&s.d.X(y,{crossOrigin:_,integrity:S,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},rt.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=h(m.as,m.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(y)},rt.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,_=h(v,m.crossOrigin);s.d.L(y,v,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},rt.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=h(m.as,m.crossOrigin);s.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(y)},rt.requestFormReset=function(y){s.d.r(y)},rt.unstable_batchedUpdates=function(y,m){return y(m)},rt.useFormState=function(y,m,v){return f.H.useFormState(y,m,v)},rt.useFormStatus=function(){return f.H.useHostTransitionStatus()},rt.version="19.2.4",rt}var Qh;function uT(){if(Qh)return Ju.exports;Qh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ju.exports=aT(),Ju.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function cT(){if(Zh)return ms;Zh=1;var n=lT(),e=xc(),o=uT();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(s(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var r=t,a=i;;){var p=r.return;if(p===null)break;var g=p.alternate;if(g===null){if(a=p.return,a!==null){r=a;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===r)return y(p),t;if(g===a)return y(p),i;g=g.sibling}throw Error(s(188))}if(r.return!==a.return)r=p,a=g;else{for(var T=!1,C=p.child;C;){if(C===r){T=!0,r=p,a=g;break}if(C===a){T=!0,a=p,r=g;break}C=C.sibling}if(!T){for(C=g.child;C;){if(C===r){T=!0,r=g,a=p;break}if(C===a){T=!0,a=g,r=p;break}C=C.sibling}if(!T)throw Error(s(189))}}if(r.alternate!==a)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),q=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),Te=Symbol.iterator;function J(t){return t===null||typeof t!="object"?null:(t=Te&&t[Te]||t["@@iterator"],typeof t=="function"?t:null)}var pe=Symbol.for("react.client.reference");function Se(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===pe?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case w:return"Fragment";case z:return"Profiler";case I:return"StrictMode";case W:return"Suspense";case O:return"SuspenseList";case j:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case q:return t.displayName||"Context";case $:return(t._context.displayName||"Context")+".Consumer";case Y:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F:return i=t.displayName||null,i!==null?i:Se(t.type)||"Memo";case fe:i=t._payload,t=t._init;try{return Se(t(i))}catch{}}return null}var Be=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},Ce=[],we=-1;function x(t){return{current:t}}function B(t){0>we||(t.current=Ce[we],Ce[we]=null,we--)}function Q(t,i){we++,Ce[we]=t.current,t.current=i}var te=x(null),ue=x(null),he=x(null),be=x(null);function ut(t,i){switch(Q(he,i),Q(ue,t),Q(te,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?dh(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=dh(i),t=ph(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(te),Q(te,t)}function qe(){B(te),B(ue),B(he)}function To(t){t.memoizedState!==null&&Q(be,t);var i=te.current,r=ph(i,t.type);i!==r&&(Q(ue,t),Q(te,r))}function Ms(t){ue.current===t&&(B(te),B(ue)),be.current===t&&(B(be),us._currentValue=ie)}var Cl,zc;function ei(t){if(Cl===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);Cl=i&&i[1]||"",zc=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cl+t+zc}var El=!1;function Al(t,i){if(!t||El)return"";El=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(i){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(L){var k=L}Reflect.construct(t,[],V)}else{try{V.call()}catch(L){k=L}t.call(V.prototype)}}else{try{throw Error()}catch(L){k=L}(V=t())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(L){if(L&&k&&typeof L.stack=="string")return[L.stack,k.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=a.DetermineComponentFrameRoot(),T=g[0],C=g[1];if(T&&C){var A=T.split(`
`),U=C.split(`
`);for(p=a=0;a<A.length&&!A[a].includes("DetermineComponentFrameRoot");)a++;for(;p<U.length&&!U[p].includes("DetermineComponentFrameRoot");)p++;if(a===A.length||p===U.length)for(a=A.length-1,p=U.length-1;1<=a&&0<=p&&A[a]!==U[p];)p--;for(;1<=a&&0<=p;a--,p--)if(A[a]!==U[p]){if(a!==1||p!==1)do if(a--,p--,0>p||A[a]!==U[p]){var G=`
`+A[a].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=a&&0<=p);break}}}finally{El=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ei(r):""}function Dv(t,i){switch(t.tag){case 26:case 27:case 5:return ei(t.type);case 16:return ei("Lazy");case 13:return t.child!==i&&i!==null?ei("Suspense Fallback"):ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return Al(t.type,!1);case 11:return Al(t.type.render,!1);case 1:return Al(t.type,!0);case 31:return ei("Activity");default:return""}}function Bc(t){try{var i="",r=null;do i+=Dv(t,r),r=t,t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Rl=Object.prototype.hasOwnProperty,xl=n.unstable_scheduleCallback,bl=n.unstable_cancelCallback,Uv=n.unstable_shouldYield,wv=n.unstable_requestPaint,Ct=n.unstable_now,kv=n.unstable_getCurrentPriorityLevel,qc=n.unstable_ImmediatePriority,Fc=n.unstable_UserBlockingPriority,Ns=n.unstable_NormalPriority,Lv=n.unstable_LowPriority,Jc=n.unstable_IdlePriority,Pv=n.log,Gv=n.unstable_setDisableYieldValue,So=null,Et=null;function xn(t){if(typeof Pv=="function"&&Gv(t),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(So,t)}catch{}}var At=Math.clz32?Math.clz32:Vv,Ov=Math.log,Hv=Math.LN2;function Vv(t){return t>>>=0,t===0?32:31-(Ov(t)/Hv|0)|0}var Is=256,Ds=262144,Us=4194304;function ti(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ws(t,i,r){var a=t.pendingLanes;if(a===0)return 0;var p=0,g=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var C=a&134217727;return C!==0?(a=C&~g,a!==0?p=ti(a):(T&=C,T!==0?p=ti(T):r||(r=C&~t,r!==0&&(p=ti(r))))):(C=a&~g,C!==0?p=ti(C):T!==0?p=ti(T):r||(r=a&~t,r!==0&&(p=ti(r)))),p===0?0:i!==0&&i!==p&&(i&g)===0&&(g=p&-p,r=i&-i,g>=r||g===32&&(r&4194048)!==0)?i:p}function Co(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function zv(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yc(){var t=Us;return Us<<=1,(Us&62914560)===0&&(Us=4194304),t}function Ml(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function Eo(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bv(t,i,r,a,p,g){var T=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var C=t.entanglements,A=t.expirationTimes,U=t.hiddenUpdates;for(r=T&~r;0<r;){var G=31-At(r),V=1<<G;C[G]=0,A[G]=-1;var k=U[G];if(k!==null)for(U[G]=null,G=0;G<k.length;G++){var L=k[G];L!==null&&(L.lane&=-536870913)}r&=~V}a!==0&&Kc(t,a,0),g!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=g&~(T&~i))}function Kc(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var a=31-At(i);t.entangledLanes|=i,t.entanglements[a]=t.entanglements[a]|1073741824|r&261930}function $c(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var a=31-At(r),p=1<<a;p&i|t[a]&i&&(t[a]|=i),r&=~p}}function Xc(t,i){var r=i&-i;return r=(r&42)!==0?1:Nl(r),(r&(t.suspendedLanes|i))!==0?0:r}function Nl(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Il(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qc(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:Ph(t.type))}function Zc(t,i){var r=K.p;try{return K.p=t,i()}finally{K.p=r}}var bn=Math.random().toString(36).slice(2),tt="__reactFiber$"+bn,ht="__reactProps$"+bn,Ri="__reactContainer$"+bn,Dl="__reactEvents$"+bn,qv="__reactListeners$"+bn,Fv="__reactHandles$"+bn,Wc="__reactResources$"+bn,Ao="__reactMarker$"+bn;function Ul(t){delete t[tt],delete t[ht],delete t[Dl],delete t[qv],delete t[Fv]}function xi(t){var i=t[tt];if(i)return i;for(var r=t.parentNode;r;){if(i=r[Ri]||r[tt]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=Th(t);t!==null;){if(r=t[tt])return r;t=Th(t)}return i}t=r,r=t.parentNode}return null}function bi(t){if(t=t[tt]||t[Ri]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Ro(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Mi(t){var i=t[Wc];return i||(i=t[Wc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ze(t){t[Ao]=!0}var jc=new Set,ef={};function ni(t,i){Ni(t,i),Ni(t+"Capture",i)}function Ni(t,i){for(ef[t]=i,t=0;t<i.length;t++)jc.add(i[t])}var Jv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tf={},nf={};function Yv(t){return Rl.call(nf,t)?!0:Rl.call(tf,t)?!1:Jv.test(t)?nf[t]=!0:(tf[t]=!0,!1)}function ks(t,i,r){if(Yv(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var a=i.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function Ls(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function on(t,i,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+a)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function of(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Kv(t,i,r){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,g=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return p.call(this)},set:function(T){r=""+T,g.call(this,T)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(T){r=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function wl(t){if(!t._valueTracker){var i=of(t)?"checked":"value";t._valueTracker=Kv(t,i,""+t[i])}}function sf(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),a="";return t&&(a=of(t)?t.checked?"true":"false":t.value),t=a,t!==r?(i.setValue(t),!0):!1}function Ps(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $v=/[\n"\\]/g;function wt(t){return t.replace($v,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function kl(t,i,r,a,p,g,T,C){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ut(i)):t.value!==""+Ut(i)&&(t.value=""+Ut(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?Ll(t,T,Ut(i)):r!=null?Ll(t,T,Ut(r)):a!=null&&t.removeAttribute("value"),p==null&&g!=null&&(t.defaultChecked=!!g),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+Ut(C):t.removeAttribute("name")}function rf(t,i,r,a,p,g,T,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),i!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){wl(t);return}r=r!=null?""+Ut(r):"",i=i!=null?""+Ut(i):r,C||i===t.value||(t.value=i),t.defaultValue=i}a=a??p,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=C?t.checked:!!a,t.defaultChecked=!!a,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),wl(t)}function Ll(t,i,r){i==="number"&&Ps(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ii(t,i,r,a){if(t=t.options,i){i={};for(var p=0;p<r.length;p++)i["$"+r[p]]=!0;for(r=0;r<t.length;r++)p=i.hasOwnProperty("$"+t[r].value),t[r].selected!==p&&(t[r].selected=p),p&&a&&(t[r].defaultSelected=!0)}else{for(r=""+Ut(r),i=null,p=0;p<t.length;p++){if(t[p].value===r){t[p].selected=!0,a&&(t[p].defaultSelected=!0);return}i!==null||t[p].disabled||(i=t[p])}i!==null&&(i.selected=!0)}}function lf(t,i,r){if(i!=null&&(i=""+Ut(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+Ut(r):""}function af(t,i,r,a){if(i==null){if(a!=null){if(r!=null)throw Error(s(92));if(Be(a)){if(1<a.length)throw Error(s(93));a=a[0]}r=a}r==null&&(r=""),i=r}r=Ut(i),t.defaultValue=r,a=t.textContent,a===r&&a!==""&&a!==null&&(t.value=a),wl(t)}function Di(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var Xv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uf(t,i,r){var a=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?a?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":a?t.setProperty(i,r):typeof r!="number"||r===0||Xv.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function cf(t,i,r){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,r!=null){for(var a in r)!r.hasOwnProperty(a)||i!=null&&i.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var p in i)a=i[p],i.hasOwnProperty(p)&&r[p]!==a&&uf(t,p,a)}else for(var g in i)i.hasOwnProperty(g)&&uf(t,g,i[g])}function Pl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gs(t){return Zv.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function sn(){}var Gl=null;function Ol(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ui=null,wi=null;function ff(t){var i=bi(t);if(i&&(t=i.stateNode)){var r=t[ht]||null;e:switch(t=i.stateNode,i.type){case"input":if(kl(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+wt(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var a=r[i];if(a!==t&&a.form===t.form){var p=a[ht]||null;if(!p)throw Error(s(90));kl(a,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<r.length;i++)a=r[i],a.form===t.form&&sf(a)}break e;case"textarea":lf(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&Ii(t,!!r.multiple,i,!1)}}}var Hl=!1;function df(t,i,r){if(Hl)return t(i,r);Hl=!0;try{var a=t(i);return a}finally{if(Hl=!1,(Ui!==null||wi!==null)&&(Ar(),Ui&&(i=Ui,t=wi,wi=Ui=null,ff(i),t)))for(i=0;i<t.length;i++)ff(t[i])}}function xo(t,i){var r=t.stateNode;if(r===null)return null;var a=r[ht]||null;if(a===null)return null;r=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,i,typeof r));return r}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vl=!1;if(rn)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{Vl=!1}var Mn=null,zl=null,Os=null;function pf(){if(Os)return Os;var t,i=zl,r=i.length,a,p="value"in Mn?Mn.value:Mn.textContent,g=p.length;for(t=0;t<r&&i[t]===p[t];t++);var T=r-t;for(a=1;a<=T&&i[r-a]===p[g-a];a++);return Os=p.slice(t,1<a?1-a:void 0)}function Hs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Vs(){return!0}function hf(){return!1}function mt(t){function i(r,a,p,g,T){this._reactName=r,this._targetInst=p,this.type=a,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(r=t[C],this[C]=r?r(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Vs:hf,this.isPropagationStopped=hf,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),i}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zs=mt(ii),Mo=_({},ii,{view:0,detail:0}),Wv=mt(Mo),Bl,ql,No,Bs=_({},Mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==No&&(No&&t.type==="mousemove"?(Bl=t.screenX-No.screenX,ql=t.screenY-No.screenY):ql=Bl=0,No=t),Bl)},movementY:function(t){return"movementY"in t?t.movementY:ql}}),mf=mt(Bs),jv=_({},Bs,{dataTransfer:0}),e0=mt(jv),t0=_({},Mo,{relatedTarget:0}),Fl=mt(t0),n0=_({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),i0=mt(n0),o0=_({},ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),s0=mt(o0),r0=_({},ii,{data:0}),gf=mt(r0),l0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c0(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=u0[t])?!!i[t]:!1}function Jl(){return c0}var f0=_({},Mo,{key:function(t){if(t.key){var i=l0[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Hs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?a0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jl,charCode:function(t){return t.type==="keypress"?Hs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d0=mt(f0),p0=_({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yf=mt(p0),h0=_({},Mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jl}),m0=mt(h0),g0=_({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),y0=mt(g0),v0=_({},Bs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_0=mt(v0),T0=_({},ii,{newState:0,oldState:0}),S0=mt(T0),C0=[9,13,27,32],Yl=rn&&"CompositionEvent"in window,Io=null;rn&&"documentMode"in document&&(Io=document.documentMode);var E0=rn&&"TextEvent"in window&&!Io,vf=rn&&(!Yl||Io&&8<Io&&11>=Io),_f=" ",Tf=!1;function Sf(t,i){switch(t){case"keyup":return C0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ki=!1;function A0(t,i){switch(t){case"compositionend":return Cf(i);case"keypress":return i.which!==32?null:(Tf=!0,_f);case"textInput":return t=i.data,t===_f&&Tf?null:t;default:return null}}function R0(t,i){if(ki)return t==="compositionend"||!Yl&&Sf(t,i)?(t=pf(),Os=zl=Mn=null,ki=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return vf&&i.locale!=="ko"?null:i.data;default:return null}}var x0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ef(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!x0[t.type]:i==="textarea"}function Af(t,i,r,a){Ui?wi?wi.push(a):wi=[a]:Ui=a,i=Dr(i,"onChange"),0<i.length&&(r=new zs("onChange","change",null,r,a),t.push({event:r,listeners:i}))}var Do=null,Uo=null;function b0(t){rh(t,0)}function qs(t){var i=Ro(t);if(sf(i))return t}function Rf(t,i){if(t==="change")return i}var xf=!1;if(rn){var Kl;if(rn){var $l="oninput"in document;if(!$l){var bf=document.createElement("div");bf.setAttribute("oninput","return;"),$l=typeof bf.oninput=="function"}Kl=$l}else Kl=!1;xf=Kl&&(!document.documentMode||9<document.documentMode)}function Mf(){Do&&(Do.detachEvent("onpropertychange",Nf),Uo=Do=null)}function Nf(t){if(t.propertyName==="value"&&qs(Uo)){var i=[];Af(i,Uo,t,Ol(t)),df(b0,i)}}function M0(t,i,r){t==="focusin"?(Mf(),Do=i,Uo=r,Do.attachEvent("onpropertychange",Nf)):t==="focusout"&&Mf()}function N0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qs(Uo)}function I0(t,i){if(t==="click")return qs(i)}function D0(t,i){if(t==="input"||t==="change")return qs(i)}function U0(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Rt=typeof Object.is=="function"?Object.is:U0;function wo(t,i){if(Rt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),a=Object.keys(i);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var p=r[a];if(!Rl.call(i,p)||!Rt(t[p],i[p]))return!1}return!0}function If(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Df(t,i){var r=If(t);t=0;for(var a;r;){if(r.nodeType===3){if(a=t+r.textContent.length,t<=i&&a>=i)return{node:r,offset:i-t};t=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=If(r)}}function Uf(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Uf(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function wf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ps(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=Ps(t.document)}return i}function Xl(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var w0=rn&&"documentMode"in document&&11>=document.documentMode,Li=null,Ql=null,ko=null,Zl=!1;function kf(t,i,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zl||Li==null||Li!==Ps(a)||(a=Li,"selectionStart"in a&&Xl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ko&&wo(ko,a)||(ko=a,a=Dr(Ql,"onSelect"),0<a.length&&(i=new zs("onSelect","select",null,i,r),t.push({event:i,listeners:a}),i.target=Li)))}function oi(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var Pi={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionrun:oi("Transition","TransitionRun"),transitionstart:oi("Transition","TransitionStart"),transitioncancel:oi("Transition","TransitionCancel"),transitionend:oi("Transition","TransitionEnd")},Wl={},Lf={};rn&&(Lf=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function si(t){if(Wl[t])return Wl[t];if(!Pi[t])return t;var i=Pi[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in Lf)return Wl[t]=i[r];return t}var Pf=si("animationend"),Gf=si("animationiteration"),Of=si("animationstart"),k0=si("transitionrun"),L0=si("transitionstart"),P0=si("transitioncancel"),Hf=si("transitionend"),Vf=new Map,jl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jl.push("scrollEnd");function Ft(t,i){Vf.set(t,i),ni(i,[t])}var Fs=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},kt=[],Gi=0,ea=0;function Js(){for(var t=Gi,i=ea=Gi=0;i<t;){var r=kt[i];kt[i++]=null;var a=kt[i];kt[i++]=null;var p=kt[i];kt[i++]=null;var g=kt[i];if(kt[i++]=null,a!==null&&p!==null){var T=a.pending;T===null?p.next=p:(p.next=T.next,T.next=p),a.pending=p}g!==0&&zf(r,p,g)}}function Ys(t,i,r,a){kt[Gi++]=t,kt[Gi++]=i,kt[Gi++]=r,kt[Gi++]=a,ea|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function ta(t,i,r,a){return Ys(t,i,r,a),Ks(t)}function ri(t,i){return Ys(t,null,null,i),Ks(t)}function zf(t,i,r){t.lanes|=r;var a=t.alternate;a!==null&&(a.lanes|=r);for(var p=!1,g=t.return;g!==null;)g.childLanes|=r,a=g.alternate,a!==null&&(a.childLanes|=r),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(p=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,p&&i!==null&&(p=31-At(r),t=g.hiddenUpdates,a=t[p],a===null?t[p]=[i]:a.push(i),i.lane=r|536870912),g):null}function Ks(t){if(50<ns)throw ns=0,cu=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Oi={};function G0(t,i,r,a){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(t,i,r,a){return new G0(t,i,r,a)}function na(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ln(t,i){var r=t.alternate;return r===null?(r=xt(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Bf(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function $s(t,i,r,a,p,g){var T=0;if(a=t,typeof t=="function")na(t)&&(T=1);else if(typeof t=="string")T=B_(t,r,te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case j:return t=xt(31,r,i,p),t.elementType=j,t.lanes=g,t;case w:return li(r.children,p,g,i);case I:T=8,p|=24;break;case z:return t=xt(12,r,i,p|2),t.elementType=z,t.lanes=g,t;case W:return t=xt(13,r,i,p),t.elementType=W,t.lanes=g,t;case O:return t=xt(19,r,i,p),t.elementType=O,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q:T=10;break e;case $:T=9;break e;case Y:T=11;break e;case F:T=14;break e;case fe:T=16,a=null;break e}T=29,r=Error(s(130,t===null?"null":typeof t,"")),a=null}return i=xt(T,r,i,p),i.elementType=t,i.type=a,i.lanes=g,i}function li(t,i,r,a){return t=xt(7,t,a,i),t.lanes=r,t}function ia(t,i,r){return t=xt(6,t,null,i),t.lanes=r,t}function qf(t){var i=xt(18,null,null,0);return i.stateNode=t,i}function oa(t,i,r){return i=xt(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ff=new WeakMap;function Lt(t,i){if(typeof t=="object"&&t!==null){var r=Ff.get(t);return r!==void 0?r:(i={value:t,source:i,stack:Bc(i)},Ff.set(t,i),i)}return{value:t,source:i,stack:Bc(i)}}var Hi=[],Vi=0,Xs=null,Lo=0,Pt=[],Gt=0,Nn=null,Qt=1,Zt="";function an(t,i){Hi[Vi++]=Lo,Hi[Vi++]=Xs,Xs=t,Lo=i}function Jf(t,i,r){Pt[Gt++]=Qt,Pt[Gt++]=Zt,Pt[Gt++]=Nn,Nn=t;var a=Qt;t=Zt;var p=32-At(a)-1;a&=~(1<<p),r+=1;var g=32-At(i)+p;if(30<g){var T=p-p%5;g=(a&(1<<T)-1).toString(32),a>>=T,p-=T,Qt=1<<32-At(i)+p|r<<p|a,Zt=g+t}else Qt=1<<g|r<<p|a,Zt=t}function sa(t){t.return!==null&&(an(t,1),Jf(t,1,0))}function ra(t){for(;t===Xs;)Xs=Hi[--Vi],Hi[Vi]=null,Lo=Hi[--Vi],Hi[Vi]=null;for(;t===Nn;)Nn=Pt[--Gt],Pt[Gt]=null,Zt=Pt[--Gt],Pt[Gt]=null,Qt=Pt[--Gt],Pt[Gt]=null}function Yf(t,i){Pt[Gt++]=Qt,Pt[Gt++]=Zt,Pt[Gt++]=Nn,Qt=i.id,Zt=i.overflow,Nn=t}var nt=null,Pe=null,_e=!1,In=null,Ot=!1,la=Error(s(519));function Dn(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(Lt(i,t)),la}function Kf(t){var i=t.stateNode,r=t.type,a=t.memoizedProps;switch(i[tt]=t,i[ht]=a,r){case"dialog":ge("cancel",i),ge("close",i);break;case"iframe":case"object":case"embed":ge("load",i);break;case"video":case"audio":for(r=0;r<os.length;r++)ge(os[r],i);break;case"source":ge("error",i);break;case"img":case"image":case"link":ge("error",i),ge("load",i);break;case"details":ge("toggle",i);break;case"input":ge("invalid",i),rf(i,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ge("invalid",i);break;case"textarea":ge("invalid",i),af(i,a.value,a.defaultValue,a.children)}r=a.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||a.suppressHydrationWarning===!0||ch(i.textContent,r)?(a.popover!=null&&(ge("beforetoggle",i),ge("toggle",i)),a.onScroll!=null&&ge("scroll",i),a.onScrollEnd!=null&&ge("scrollend",i),a.onClick!=null&&(i.onclick=sn),i=!0):i=!1,i||Dn(t,!0)}function $f(t){for(nt=t.return;nt;)switch(nt.tag){case 5:case 31:case 13:Ot=!1;return;case 27:case 3:Ot=!0;return;default:nt=nt.return}}function zi(t){if(t!==nt)return!1;if(!_e)return $f(t),_e=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Ru(t.type,t.memoizedProps)),r=!r),r&&Pe&&Dn(t),$f(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Pe=_h(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Pe=_h(t)}else i===27?(i=Pe,Jn(t.type)?(t=Iu,Iu=null,Pe=t):Pe=i):Pe=nt?Vt(t.stateNode.nextSibling):null;return!0}function ai(){Pe=nt=null,_e=!1}function aa(){var t=In;return t!==null&&(_t===null?_t=t:_t.push.apply(_t,t),In=null),t}function Po(t){In===null?In=[t]:In.push(t)}var ua=x(null),ui=null,un=null;function Un(t,i,r){Q(ua,i._currentValue),i._currentValue=r}function cn(t){t._currentValue=ua.current,B(ua)}function ca(t,i,r){for(;t!==null;){var a=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),t===r)break;t=t.return}}function fa(t,i,r,a){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var g=p.dependencies;if(g!==null){var T=p.child;g=g.firstContext;e:for(;g!==null;){var C=g;g=p;for(var A=0;A<i.length;A++)if(C.context===i[A]){g.lanes|=r,C=g.alternate,C!==null&&(C.lanes|=r),ca(g.return,r,t),a||(T=null);break e}g=C.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(s(341));T.lanes|=r,g=T.alternate,g!==null&&(g.lanes|=r),ca(T,r,t),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===t){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Bi(t,i,r,a){t=null;for(var p=i,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var C=p.type;Rt(p.pendingProps.value,T.value)||(t!==null?t.push(C):t=[C])}}else if(p===be.current){if(T=p.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(us):t=[us])}p=p.return}t!==null&&fa(i,t,r,a),i.flags|=262144}function Qs(t){for(t=t.firstContext;t!==null;){if(!Rt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ci(t){ui=t,un=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function it(t){return Xf(ui,t)}function Zs(t,i){return ui===null&&ci(t),Xf(t,i)}function Xf(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},un===null){if(t===null)throw Error(s(308));un=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else un=un.next=i;return r}var O0=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,a){t.push(a)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},H0=n.unstable_scheduleCallback,V0=n.unstable_NormalPriority,Ye={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function da(){return{controller:new O0,data:new Map,refCount:0}}function Go(t){t.refCount--,t.refCount===0&&H0(V0,function(){t.controller.abort()})}var Oo=null,pa=0,qi=0,Fi=null;function z0(t,i){if(Oo===null){var r=Oo=[];pa=0,qi=gu(),Fi={status:"pending",value:void 0,then:function(a){r.push(a)}}}return pa++,i.then(Qf,Qf),i}function Qf(){if(--pa===0&&Oo!==null){Fi!==null&&(Fi.status="fulfilled");var t=Oo;Oo=null,qi=0,Fi=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function B0(t,i){var r=[],a={status:"pending",value:null,reason:null,then:function(p){r.push(p)}};return t.then(function(){a.status="fulfilled",a.value=i;for(var p=0;p<r.length;p++)(0,r[p])(i)},function(p){for(a.status="rejected",a.reason=p,p=0;p<r.length;p++)(0,r[p])(void 0)}),a}var Zf=P.S;P.S=function(t,i){kp=Ct(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&z0(t,i),Zf!==null&&Zf(t,i)};var fi=x(null);function ha(){var t=fi.current;return t!==null?t:ke.pooledCache}function Ws(t,i){i===null?Q(fi,fi.current):Q(fi,i.pool)}function Wf(){var t=ha();return t===null?null:{parent:Ye._currentValue,pool:t}}var Ji=Error(s(460)),ma=Error(s(474)),js=Error(s(542)),er={then:function(){}};function jf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ed(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(sn,sn),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,nd(t),t;default:if(typeof i.status=="string")i.then(sn,sn);else{if(t=ke,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(a){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=a}},function(a){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=a}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,nd(t),t}throw pi=i,Ji}}function di(t){try{var i=t._init;return i(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(pi=r,Ji):r}}var pi=null;function td(){if(pi===null)throw Error(s(459));var t=pi;return pi=null,t}function nd(t){if(t===Ji||t===js)throw Error(s(483))}var Yi=null,Ho=0;function tr(t){var i=Ho;return Ho+=1,Yi===null&&(Yi=[]),ed(Yi,t,i)}function Vo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function nr(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function id(t){function i(M,R){if(t){var D=M.deletions;D===null?(M.deletions=[R],M.flags|=16):D.push(R)}}function r(M,R){if(!t)return null;for(;R!==null;)i(M,R),R=R.sibling;return null}function a(M){for(var R=new Map;M!==null;)M.key!==null?R.set(M.key,M):R.set(M.index,M),M=M.sibling;return R}function p(M,R){return M=ln(M,R),M.index=0,M.sibling=null,M}function g(M,R,D){return M.index=D,t?(D=M.alternate,D!==null?(D=D.index,D<R?(M.flags|=67108866,R):D):(M.flags|=67108866,R)):(M.flags|=1048576,R)}function T(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function C(M,R,D,H){return R===null||R.tag!==6?(R=ia(D,M.mode,H),R.return=M,R):(R=p(R,D),R.return=M,R)}function A(M,R,D,H){var oe=D.type;return oe===w?G(M,R,D.props.children,H,D.key):R!==null&&(R.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===fe&&di(oe)===R.type)?(R=p(R,D.props),Vo(R,D),R.return=M,R):(R=$s(D.type,D.key,D.props,null,M.mode,H),Vo(R,D),R.return=M,R)}function U(M,R,D,H){return R===null||R.tag!==4||R.stateNode.containerInfo!==D.containerInfo||R.stateNode.implementation!==D.implementation?(R=oa(D,M.mode,H),R.return=M,R):(R=p(R,D.children||[]),R.return=M,R)}function G(M,R,D,H,oe){return R===null||R.tag!==7?(R=li(D,M.mode,H,oe),R.return=M,R):(R=p(R,D),R.return=M,R)}function V(M,R,D){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=ia(""+R,M.mode,D),R.return=M,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case E:return D=$s(R.type,R.key,R.props,null,M.mode,D),Vo(D,R),D.return=M,D;case b:return R=oa(R,M.mode,D),R.return=M,R;case fe:return R=di(R),V(M,R,D)}if(Be(R)||J(R))return R=li(R,M.mode,D,null),R.return=M,R;if(typeof R.then=="function")return V(M,tr(R),D);if(R.$$typeof===q)return V(M,Zs(M,R),D);nr(M,R)}return null}function k(M,R,D,H){var oe=R!==null?R.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return oe!==null?null:C(M,R,""+D,H);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case E:return D.key===oe?A(M,R,D,H):null;case b:return D.key===oe?U(M,R,D,H):null;case fe:return D=di(D),k(M,R,D,H)}if(Be(D)||J(D))return oe!==null?null:G(M,R,D,H,null);if(typeof D.then=="function")return k(M,R,tr(D),H);if(D.$$typeof===q)return k(M,R,Zs(M,D),H);nr(M,D)}return null}function L(M,R,D,H,oe){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return M=M.get(D)||null,C(R,M,""+H,oe);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return M=M.get(H.key===null?D:H.key)||null,A(R,M,H,oe);case b:return M=M.get(H.key===null?D:H.key)||null,U(R,M,H,oe);case fe:return H=di(H),L(M,R,D,H,oe)}if(Be(H)||J(H))return M=M.get(D)||null,G(R,M,H,oe,null);if(typeof H.then=="function")return L(M,R,D,tr(H),oe);if(H.$$typeof===q)return L(M,R,D,Zs(R,H),oe);nr(R,H)}return null}function Z(M,R,D,H){for(var oe=null,Ee=null,ne=R,de=R=0,ve=null;ne!==null&&de<D.length;de++){ne.index>de?(ve=ne,ne=null):ve=ne.sibling;var Ae=k(M,ne,D[de],H);if(Ae===null){ne===null&&(ne=ve);break}t&&ne&&Ae.alternate===null&&i(M,ne),R=g(Ae,R,de),Ee===null?oe=Ae:Ee.sibling=Ae,Ee=Ae,ne=ve}if(de===D.length)return r(M,ne),_e&&an(M,de),oe;if(ne===null){for(;de<D.length;de++)ne=V(M,D[de],H),ne!==null&&(R=g(ne,R,de),Ee===null?oe=ne:Ee.sibling=ne,Ee=ne);return _e&&an(M,de),oe}for(ne=a(ne);de<D.length;de++)ve=L(ne,M,de,D[de],H),ve!==null&&(t&&ve.alternate!==null&&ne.delete(ve.key===null?de:ve.key),R=g(ve,R,de),Ee===null?oe=ve:Ee.sibling=ve,Ee=ve);return t&&ne.forEach(function(Qn){return i(M,Qn)}),_e&&an(M,de),oe}function se(M,R,D,H){if(D==null)throw Error(s(151));for(var oe=null,Ee=null,ne=R,de=R=0,ve=null,Ae=D.next();ne!==null&&!Ae.done;de++,Ae=D.next()){ne.index>de?(ve=ne,ne=null):ve=ne.sibling;var Qn=k(M,ne,Ae.value,H);if(Qn===null){ne===null&&(ne=ve);break}t&&ne&&Qn.alternate===null&&i(M,ne),R=g(Qn,R,de),Ee===null?oe=Qn:Ee.sibling=Qn,Ee=Qn,ne=ve}if(Ae.done)return r(M,ne),_e&&an(M,de),oe;if(ne===null){for(;!Ae.done;de++,Ae=D.next())Ae=V(M,Ae.value,H),Ae!==null&&(R=g(Ae,R,de),Ee===null?oe=Ae:Ee.sibling=Ae,Ee=Ae);return _e&&an(M,de),oe}for(ne=a(ne);!Ae.done;de++,Ae=D.next())Ae=L(ne,M,de,Ae.value,H),Ae!==null&&(t&&Ae.alternate!==null&&ne.delete(Ae.key===null?de:Ae.key),R=g(Ae,R,de),Ee===null?oe=Ae:Ee.sibling=Ae,Ee=Ae);return t&&ne.forEach(function(j_){return i(M,j_)}),_e&&an(M,de),oe}function Ue(M,R,D,H){if(typeof D=="object"&&D!==null&&D.type===w&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case E:e:{for(var oe=D.key;R!==null;){if(R.key===oe){if(oe=D.type,oe===w){if(R.tag===7){r(M,R.sibling),H=p(R,D.props.children),H.return=M,M=H;break e}}else if(R.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===fe&&di(oe)===R.type){r(M,R.sibling),H=p(R,D.props),Vo(H,D),H.return=M,M=H;break e}r(M,R);break}else i(M,R);R=R.sibling}D.type===w?(H=li(D.props.children,M.mode,H,D.key),H.return=M,M=H):(H=$s(D.type,D.key,D.props,null,M.mode,H),Vo(H,D),H.return=M,M=H)}return T(M);case b:e:{for(oe=D.key;R!==null;){if(R.key===oe)if(R.tag===4&&R.stateNode.containerInfo===D.containerInfo&&R.stateNode.implementation===D.implementation){r(M,R.sibling),H=p(R,D.children||[]),H.return=M,M=H;break e}else{r(M,R);break}else i(M,R);R=R.sibling}H=oa(D,M.mode,H),H.return=M,M=H}return T(M);case fe:return D=di(D),Ue(M,R,D,H)}if(Be(D))return Z(M,R,D,H);if(J(D)){if(oe=J(D),typeof oe!="function")throw Error(s(150));return D=oe.call(D),se(M,R,D,H)}if(typeof D.then=="function")return Ue(M,R,tr(D),H);if(D.$$typeof===q)return Ue(M,R,Zs(M,D),H);nr(M,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,R!==null&&R.tag===6?(r(M,R.sibling),H=p(R,D),H.return=M,M=H):(r(M,R),H=ia(D,M.mode,H),H.return=M,M=H),T(M)):r(M,R)}return function(M,R,D,H){try{Ho=0;var oe=Ue(M,R,D,H);return Yi=null,oe}catch(ne){if(ne===Ji||ne===js)throw ne;var Ee=xt(29,ne,null,M.mode);return Ee.lanes=H,Ee.return=M,Ee}finally{}}}var hi=id(!0),od=id(!1),wn=!1;function ga(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ya(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function kn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ln(t,i,r){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(xe&2)!==0){var p=a.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),a.pending=i,i=Ks(t),zf(t,null,r),i}return Ys(t,a,i,r),Ks(t)}function zo(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var a=i.lanes;a&=t.pendingLanes,r|=a,i.lanes=r,$c(t,r)}}function va(t,i){var r=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var p=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var T={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?p=g=T:g=g.next=T,r=r.next}while(r!==null);g===null?p=g=i:g=g.next=i}else p=g=i;r={baseState:a.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:a.shared,callbacks:a.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var _a=!1;function Bo(){if(_a){var t=Fi;if(t!==null)throw t}}function qo(t,i,r,a){_a=!1;var p=t.updateQueue;wn=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var A=C,U=A.next;A.next=null,T===null?g=U:T.next=U,T=A;var G=t.alternate;G!==null&&(G=G.updateQueue,C=G.lastBaseUpdate,C!==T&&(C===null?G.firstBaseUpdate=U:C.next=U,G.lastBaseUpdate=A))}if(g!==null){var V=p.baseState;T=0,G=U=A=null,C=g;do{var k=C.lane&-536870913,L=k!==C.lane;if(L?(ye&k)===k:(a&k)===k){k!==0&&k===qi&&(_a=!0),G!==null&&(G=G.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Z=t,se=C;k=i;var Ue=r;switch(se.tag){case 1:if(Z=se.payload,typeof Z=="function"){V=Z.call(Ue,V,k);break e}V=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=se.payload,k=typeof Z=="function"?Z.call(Ue,V,k):Z,k==null)break e;V=_({},V,k);break e;case 2:wn=!0}}k=C.callback,k!==null&&(t.flags|=64,L&&(t.flags|=8192),L=p.callbacks,L===null?p.callbacks=[k]:L.push(k))}else L={lane:k,tag:C.tag,payload:C.payload,callback:C.callback,next:null},G===null?(U=G=L,A=V):G=G.next=L,T|=k;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;L=C,C=L.next,L.next=null,p.lastBaseUpdate=L,p.shared.pending=null}}while(!0);G===null&&(A=V),p.baseState=A,p.firstBaseUpdate=U,p.lastBaseUpdate=G,g===null&&(p.shared.lanes=0),Vn|=T,t.lanes=T,t.memoizedState=V}}function sd(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function rd(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)sd(r[t],i)}var Ki=x(null),ir=x(0);function ld(t,i){t=_n,Q(ir,t),Q(Ki,i),_n=t|i.baseLanes}function Ta(){Q(ir,_n),Q(Ki,Ki.current)}function Sa(){_n=ir.current,B(Ki),B(ir)}var bt=x(null),Ht=null;function Pn(t){var i=t.alternate;Q(Fe,Fe.current&1),Q(bt,t),Ht===null&&(i===null||Ki.current!==null||i.memoizedState!==null)&&(Ht=t)}function Ca(t){Q(Fe,Fe.current),Q(bt,t),Ht===null&&(Ht=t)}function ad(t){t.tag===22?(Q(Fe,Fe.current),Q(bt,t),Ht===null&&(Ht=t)):Gn()}function Gn(){Q(Fe,Fe.current),Q(bt,bt.current)}function Mt(t){B(bt),Ht===t&&(Ht=null),B(Fe)}var Fe=x(0);function or(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Mu(r)||Nu(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var fn=0,ce=null,Ie=null,Ke=null,sr=!1,$i=!1,mi=!1,rr=0,Fo=0,Xi=null,q0=0;function He(){throw Error(s(321))}function Ea(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!Rt(t[r],i[r]))return!1;return!0}function Aa(t,i,r,a,p,g){return fn=g,ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,P.H=t===null||t.memoizedState===null?Jd:Ha,mi=!1,g=r(a,p),mi=!1,$i&&(g=cd(i,r,a,p)),ud(t),g}function ud(t){P.H=Ko;var i=Ie!==null&&Ie.next!==null;if(fn=0,Ke=Ie=ce=null,sr=!1,Fo=0,Xi=null,i)throw Error(s(300));t===null||$e||(t=t.dependencies,t!==null&&Qs(t)&&($e=!0))}function cd(t,i,r,a){ce=t;var p=0;do{if($i&&(Xi=null),Fo=0,$i=!1,25<=p)throw Error(s(301));if(p+=1,Ke=Ie=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}P.H=Yd,g=i(r,a)}while($i);return g}function F0(){var t=P.H,i=t.useState()[0];return i=typeof i.then=="function"?Jo(i):i,t=t.useState()[0],(Ie!==null?Ie.memoizedState:null)!==t&&(ce.flags|=1024),i}function Ra(){var t=rr!==0;return rr=0,t}function xa(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function ba(t){if(sr){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}sr=!1}fn=0,Ke=Ie=ce=null,$i=!1,Fo=rr=0,Xi=null}function ct(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ce.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Je(){if(Ie===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=Ie.next;var i=Ke===null?ce.memoizedState:Ke.next;if(i!==null)Ke=i,Ie=t;else{if(t===null)throw ce.alternate===null?Error(s(467)):Error(s(310));Ie=t,t={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Ke===null?ce.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function lr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(t){var i=Fo;return Fo+=1,Xi===null&&(Xi=[]),t=ed(Xi,t,i),i=ce,(Ke===null?i.memoizedState:Ke.next)===null&&(i=i.alternate,P.H=i===null||i.memoizedState===null?Jd:Ha),t}function ar(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Jo(t);if(t.$$typeof===q)return it(t)}throw Error(s(438,String(t)))}function Ma(t){var i=null,r=ce.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var a=ce.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(i={data:a.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=lr(),ce.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),a=0;a<t;a++)r[a]=ae;return i.index++,r}function dn(t,i){return typeof i=="function"?i(t):i}function ur(t){var i=Je();return Na(i,Ie,t)}function Na(t,i,r){var a=t.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=r;var p=t.baseQueue,g=a.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}i.baseQueue=p=g,a.pending=null}if(g=t.baseState,p===null)t.memoizedState=g;else{i=p.next;var C=T=null,A=null,U=i,G=!1;do{var V=U.lane&-536870913;if(V!==U.lane?(ye&V)===V:(fn&V)===V){var k=U.revertLane;if(k===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),V===qi&&(G=!0);else if((fn&k)===k){U=U.next,k===qi&&(G=!0);continue}else V={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(C=A=V,T=g):A=A.next=V,ce.lanes|=k,Vn|=k;V=U.action,mi&&r(g,V),g=U.hasEagerState?U.eagerState:r(g,V)}else k={lane:V,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(C=A=k,T=g):A=A.next=k,ce.lanes|=V,Vn|=V;U=U.next}while(U!==null&&U!==i);if(A===null?T=g:A.next=C,!Rt(g,t.memoizedState)&&($e=!0,G&&(r=Fi,r!==null)))throw r;t.memoizedState=g,t.baseState=T,t.baseQueue=A,a.lastRenderedState=g}return p===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function Ia(t){var i=Je(),r=i.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var a=r.dispatch,p=r.pending,g=i.memoizedState;if(p!==null){r.pending=null;var T=p=p.next;do g=t(g,T.action),T=T.next;while(T!==p);Rt(g,i.memoizedState)||($e=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),r.lastRenderedState=g}return[g,a]}function fd(t,i,r){var a=ce,p=Je(),g=_e;if(g){if(r===void 0)throw Error(s(407));r=r()}else r=i();var T=!Rt((Ie||p).memoizedState,r);if(T&&(p.memoizedState=r,$e=!0),p=p.queue,wa(hd.bind(null,a,p,t),[t]),p.getSnapshot!==i||T||Ke!==null&&Ke.memoizedState.tag&1){if(a.flags|=2048,Qi(9,{destroy:void 0},pd.bind(null,a,p,r,i),null),ke===null)throw Error(s(349));g||(fn&127)!==0||dd(a,i,r)}return r}function dd(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=ce.updateQueue,i===null?(i=lr(),ce.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function pd(t,i,r,a){i.value=r,i.getSnapshot=a,md(i)&&gd(t)}function hd(t,i,r){return r(function(){md(i)&&gd(t)})}function md(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!Rt(t,r)}catch{return!0}}function gd(t){var i=ri(t,2);i!==null&&Tt(i,t,2)}function Da(t){var i=ct();if(typeof t=="function"){var r=t;if(t=r(),mi){xn(!0);try{r()}finally{xn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dn,lastRenderedState:t},i}function yd(t,i,r,a){return t.baseState=r,Na(t,Ie,typeof a=="function"?a:dn)}function J0(t,i,r,a,p){if(dr(t))throw Error(s(485));if(t=i.action,t!==null){var g={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};P.T!==null?r(!0):g.isTransition=!1,a(g),r=i.pending,r===null?(g.next=i.pending=g,vd(i,g)):(g.next=r.next,i.pending=r.next=g)}}function vd(t,i){var r=i.action,a=i.payload,p=t.state;if(i.isTransition){var g=P.T,T={};P.T=T;try{var C=r(p,a),A=P.S;A!==null&&A(T,C),_d(t,i,C)}catch(U){Ua(t,i,U)}finally{g!==null&&T.types!==null&&(g.types=T.types),P.T=g}}else try{g=r(p,a),_d(t,i,g)}catch(U){Ua(t,i,U)}}function _d(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(a){Td(t,i,a)},function(a){return Ua(t,i,a)}):Td(t,i,r)}function Td(t,i,r){i.status="fulfilled",i.value=r,Sd(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,vd(t,r)))}function Ua(t,i,r){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do i.status="rejected",i.reason=r,Sd(i),i=i.next;while(i!==a)}t.action=null}function Sd(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Cd(t,i){return i}function Ed(t,i){if(_e){var r=ke.formState;if(r!==null){e:{var a=ce;if(_e){if(Pe){t:{for(var p=Pe,g=Ot;p.nodeType!==8;){if(!g){p=null;break t}if(p=Vt(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Pe=Vt(p.nextSibling),a=p.data==="F!";break e}}Dn(a)}a=!1}a&&(i=r[0])}}return r=ct(),r.memoizedState=r.baseState=i,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cd,lastRenderedState:i},r.queue=a,r=Bd.bind(null,ce,a),a.dispatch=r,a=Da(!1),g=Oa.bind(null,ce,!1,a.queue),a=ct(),p={state:i,dispatch:null,action:t,pending:null},a.queue=p,r=J0.bind(null,ce,p,g,r),p.dispatch=r,a.memoizedState=t,[i,r,!1]}function Ad(t){var i=Je();return Rd(i,Ie,t)}function Rd(t,i,r){if(i=Na(t,i,Cd)[0],t=ur(dn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var a=Jo(i)}catch(T){throw T===Ji?js:T}else a=i;i=Je();var p=i.queue,g=p.dispatch;return r!==i.memoizedState&&(ce.flags|=2048,Qi(9,{destroy:void 0},Y0.bind(null,p,r),null)),[a,g,t]}function Y0(t,i){t.action=i}function xd(t){var i=Je(),r=Ie;if(r!==null)return Rd(i,r,t);Je(),i=i.memoizedState,r=Je();var a=r.queue.dispatch;return r.memoizedState=t,[i,a,!1]}function Qi(t,i,r,a){return t={tag:t,create:r,deps:a,inst:i,next:null},i=ce.updateQueue,i===null&&(i=lr(),ce.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(a=r.next,r.next=t,t.next=a,i.lastEffect=t),t}function bd(){return Je().memoizedState}function cr(t,i,r,a){var p=ct();ce.flags|=t,p.memoizedState=Qi(1|i,{destroy:void 0},r,a===void 0?null:a)}function fr(t,i,r,a){var p=Je();a=a===void 0?null:a;var g=p.memoizedState.inst;Ie!==null&&a!==null&&Ea(a,Ie.memoizedState.deps)?p.memoizedState=Qi(i,g,r,a):(ce.flags|=t,p.memoizedState=Qi(1|i,g,r,a))}function Md(t,i){cr(8390656,8,t,i)}function wa(t,i){fr(2048,8,t,i)}function K0(t){ce.flags|=4;var i=ce.updateQueue;if(i===null)i=lr(),ce.updateQueue=i,i.events=[t];else{var r=i.events;r===null?i.events=[t]:r.push(t)}}function Nd(t){var i=Je().memoizedState;return K0({ref:i,nextImpl:t}),function(){if((xe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Id(t,i){return fr(4,2,t,i)}function Dd(t,i){return fr(4,4,t,i)}function Ud(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function wd(t,i,r){r=r!=null?r.concat([t]):null,fr(4,4,Ud.bind(null,i,t),r)}function ka(){}function kd(t,i){var r=Je();i=i===void 0?null:i;var a=r.memoizedState;return i!==null&&Ea(i,a[1])?a[0]:(r.memoizedState=[t,i],t)}function Ld(t,i){var r=Je();i=i===void 0?null:i;var a=r.memoizedState;if(i!==null&&Ea(i,a[1]))return a[0];if(a=t(),mi){xn(!0);try{t()}finally{xn(!1)}}return r.memoizedState=[a,i],a}function La(t,i,r){return r===void 0||(fn&1073741824)!==0&&(ye&261930)===0?t.memoizedState=i:(t.memoizedState=r,t=Pp(),ce.lanes|=t,Vn|=t,r)}function Pd(t,i,r,a){return Rt(r,i)?r:Ki.current!==null?(t=La(t,r,a),Rt(t,i)||($e=!0),t):(fn&42)===0||(fn&1073741824)!==0&&(ye&261930)===0?($e=!0,t.memoizedState=r):(t=Pp(),ce.lanes|=t,Vn|=t,i)}function Gd(t,i,r,a,p){var g=K.p;K.p=g!==0&&8>g?g:8;var T=P.T,C={};P.T=C,Oa(t,!1,i,r);try{var A=p(),U=P.S;if(U!==null&&U(C,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var G=B0(A,a);Yo(t,i,G,Dt(t))}else Yo(t,i,a,Dt(t))}catch(V){Yo(t,i,{then:function(){},status:"rejected",reason:V},Dt())}finally{K.p=g,T!==null&&C.types!==null&&(T.types=C.types),P.T=T}}function $0(){}function Pa(t,i,r,a){if(t.tag!==5)throw Error(s(476));var p=Od(t).queue;Gd(t,p,i,ie,r===null?$0:function(){return Hd(t),r(a)})}function Od(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dn,lastRenderedState:ie},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dn,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Hd(t){var i=Od(t);i.next===null&&(i=t.alternate.memoizedState),Yo(t,i.next.queue,{},Dt())}function Ga(){return it(us)}function Vd(){return Je().memoizedState}function zd(){return Je().memoizedState}function X0(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=Dt();t=kn(r);var a=Ln(i,t,r);a!==null&&(Tt(a,i,r),zo(a,i,r)),i={cache:da()},t.payload=i;return}i=i.return}}function Q0(t,i,r){var a=Dt();r={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},dr(t)?qd(i,r):(r=ta(t,i,r,a),r!==null&&(Tt(r,t,a),Fd(r,i,a)))}function Bd(t,i,r){var a=Dt();Yo(t,i,r,a)}function Yo(t,i,r,a){var p={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(dr(t))qd(i,p);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var T=i.lastRenderedState,C=g(T,r);if(p.hasEagerState=!0,p.eagerState=C,Rt(C,T))return Ys(t,i,p,0),ke===null&&Js(),!1}catch{}finally{}if(r=ta(t,i,p,a),r!==null)return Tt(r,t,a),Fd(r,i,a),!0}return!1}function Oa(t,i,r,a){if(a={lane:2,revertLane:gu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},dr(t)){if(i)throw Error(s(479))}else i=ta(t,r,a,2),i!==null&&Tt(i,t,2)}function dr(t){var i=t.alternate;return t===ce||i!==null&&i===ce}function qd(t,i){$i=sr=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function Fd(t,i,r){if((r&4194048)!==0){var a=i.lanes;a&=t.pendingLanes,r|=a,i.lanes=r,$c(t,r)}}var Ko={readContext:it,use:ar,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};Ko.useEffectEvent=He;var Jd={readContext:it,use:ar,useCallback:function(t,i){return ct().memoizedState=[t,i===void 0?null:i],t},useContext:it,useEffect:Md,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,cr(4194308,4,Ud.bind(null,i,t),r)},useLayoutEffect:function(t,i){return cr(4194308,4,t,i)},useInsertionEffect:function(t,i){cr(4,2,t,i)},useMemo:function(t,i){var r=ct();i=i===void 0?null:i;var a=t();if(mi){xn(!0);try{t()}finally{xn(!1)}}return r.memoizedState=[a,i],a},useReducer:function(t,i,r){var a=ct();if(r!==void 0){var p=r(i);if(mi){xn(!0);try{r(i)}finally{xn(!1)}}}else p=i;return a.memoizedState=a.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},a.queue=t,t=t.dispatch=Q0.bind(null,ce,t),[a.memoizedState,t]},useRef:function(t){var i=ct();return t={current:t},i.memoizedState=t},useState:function(t){t=Da(t);var i=t.queue,r=Bd.bind(null,ce,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:ka,useDeferredValue:function(t,i){var r=ct();return La(r,t,i)},useTransition:function(){var t=Da(!1);return t=Gd.bind(null,ce,t.queue,!0,!1),ct().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var a=ce,p=ct();if(_e){if(r===void 0)throw Error(s(407));r=r()}else{if(r=i(),ke===null)throw Error(s(349));(ye&127)!==0||dd(a,i,r)}p.memoizedState=r;var g={value:r,getSnapshot:i};return p.queue=g,Md(hd.bind(null,a,g,t),[t]),a.flags|=2048,Qi(9,{destroy:void 0},pd.bind(null,a,g,r,i),null),r},useId:function(){var t=ct(),i=ke.identifierPrefix;if(_e){var r=Zt,a=Qt;r=(a&~(1<<32-At(a)-1)).toString(32)+r,i="_"+i+"R_"+r,r=rr++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=q0++,i="_"+i+"r_"+r.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Ga,useFormState:Ed,useActionState:Ed,useOptimistic:function(t){var i=ct();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=Oa.bind(null,ce,!0,r),r.dispatch=i,[t,i]},useMemoCache:Ma,useCacheRefresh:function(){return ct().memoizedState=X0.bind(null,ce)},useEffectEvent:function(t){var i=ct(),r={impl:t};return i.memoizedState=r,function(){if((xe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Ha={readContext:it,use:ar,useCallback:kd,useContext:it,useEffect:wa,useImperativeHandle:wd,useInsertionEffect:Id,useLayoutEffect:Dd,useMemo:Ld,useReducer:ur,useRef:bd,useState:function(){return ur(dn)},useDebugValue:ka,useDeferredValue:function(t,i){var r=Je();return Pd(r,Ie.memoizedState,t,i)},useTransition:function(){var t=ur(dn)[0],i=Je().memoizedState;return[typeof t=="boolean"?t:Jo(t),i]},useSyncExternalStore:fd,useId:Vd,useHostTransitionStatus:Ga,useFormState:Ad,useActionState:Ad,useOptimistic:function(t,i){var r=Je();return yd(r,Ie,t,i)},useMemoCache:Ma,useCacheRefresh:zd};Ha.useEffectEvent=Nd;var Yd={readContext:it,use:ar,useCallback:kd,useContext:it,useEffect:wa,useImperativeHandle:wd,useInsertionEffect:Id,useLayoutEffect:Dd,useMemo:Ld,useReducer:Ia,useRef:bd,useState:function(){return Ia(dn)},useDebugValue:ka,useDeferredValue:function(t,i){var r=Je();return Ie===null?La(r,t,i):Pd(r,Ie.memoizedState,t,i)},useTransition:function(){var t=Ia(dn)[0],i=Je().memoizedState;return[typeof t=="boolean"?t:Jo(t),i]},useSyncExternalStore:fd,useId:Vd,useHostTransitionStatus:Ga,useFormState:xd,useActionState:xd,useOptimistic:function(t,i){var r=Je();return Ie!==null?yd(r,Ie,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ma,useCacheRefresh:zd};Yd.useEffectEvent=Nd;function Va(t,i,r,a){i=t.memoizedState,r=r(a,i),r=r==null?i:_({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var za={enqueueSetState:function(t,i,r){t=t._reactInternals;var a=Dt(),p=kn(a);p.payload=i,r!=null&&(p.callback=r),i=Ln(t,p,a),i!==null&&(Tt(i,t,a),zo(i,t,a))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var a=Dt(),p=kn(a);p.tag=1,p.payload=i,r!=null&&(p.callback=r),i=Ln(t,p,a),i!==null&&(Tt(i,t,a),zo(i,t,a))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=Dt(),a=kn(r);a.tag=2,i!=null&&(a.callback=i),i=Ln(t,a,r),i!==null&&(Tt(i,t,r),zo(i,t,r))}};function Kd(t,i,r,a,p,g,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,g,T):i.prototype&&i.prototype.isPureReactComponent?!wo(r,a)||!wo(p,g):!0}function $d(t,i,r,a){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,a),i.state!==t&&za.enqueueReplaceState(i,i.state,null)}function gi(t,i){var r=i;if("ref"in i){r={};for(var a in i)a!=="ref"&&(r[a]=i[a])}if(t=t.defaultProps){r===i&&(r=_({},r));for(var p in t)r[p]===void 0&&(r[p]=t[p])}return r}function Xd(t){Fs(t)}function Qd(t){console.error(t)}function Zd(t){Fs(t)}function pr(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(a){setTimeout(function(){throw a})}}function Wd(t,i,r){try{var a=t.onCaughtError;a(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ba(t,i,r){return r=kn(r),r.tag=3,r.payload={element:null},r.callback=function(){pr(t,i)},r}function jd(t){return t=kn(t),t.tag=3,t}function ep(t,i,r,a){var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;t.payload=function(){return p(g)},t.callback=function(){Wd(i,r,a)}}var T=r.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){Wd(i,r,a),typeof p!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})})}function Z0(t,i,r,a,p){if(r.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(i=r.alternate,i!==null&&Bi(i,r,p,!0),r=bt.current,r!==null){switch(r.tag){case 31:case 13:return Ht===null?Rr():r.alternate===null&&Ve===0&&(Ve=3),r.flags&=-257,r.flags|=65536,r.lanes=p,a===er?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([a]):i.add(a),pu(t,a,p)),!1;case 22:return r.flags|=65536,a===er?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([a])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([a]):r.add(a)),pu(t,a,p)),!1}throw Error(s(435,r.tag))}return pu(t,a,p),Rr(),!1}if(_e)return i=bt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,a!==la&&(t=Error(s(422),{cause:a}),Po(Lt(t,r)))):(a!==la&&(i=Error(s(423),{cause:a}),Po(Lt(i,r))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,a=Lt(a,r),p=Ba(t.stateNode,a,p),va(t,p),Ve!==4&&(Ve=2)),!1;var g=Error(s(520),{cause:a});if(g=Lt(g,r),ts===null?ts=[g]:ts.push(g),Ve!==4&&(Ve=2),i===null)return!0;a=Lt(a,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=p&-p,r.lanes|=t,t=Ba(r.stateNode,a,t),va(r,t),!1;case 1:if(i=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(zn===null||!zn.has(g))))return r.flags|=65536,p&=-p,r.lanes|=p,p=jd(p),ep(p,t,r,a),va(r,p),!1}r=r.return}while(r!==null);return!1}var qa=Error(s(461)),$e=!1;function ot(t,i,r,a){i.child=t===null?od(i,null,r,a):hi(i,t.child,r,a)}function tp(t,i,r,a,p){r=r.render;var g=i.ref;if("ref"in a){var T={};for(var C in a)C!=="ref"&&(T[C]=a[C])}else T=a;return ci(i),a=Aa(t,i,r,T,g,p),C=Ra(),t!==null&&!$e?(xa(t,i,p),pn(t,i,p)):(_e&&C&&sa(i),i.flags|=1,ot(t,i,a,p),i.child)}function np(t,i,r,a,p){if(t===null){var g=r.type;return typeof g=="function"&&!na(g)&&g.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=g,ip(t,i,g,a,p)):(t=$s(r.type,null,a,i,i.mode,p),t.ref=i.ref,t.return=i,i.child=t)}if(g=t.child,!Za(t,p)){var T=g.memoizedProps;if(r=r.compare,r=r!==null?r:wo,r(T,a)&&t.ref===i.ref)return pn(t,i,p)}return i.flags|=1,t=ln(g,a),t.ref=i.ref,t.return=i,i.child=t}function ip(t,i,r,a,p){if(t!==null){var g=t.memoizedProps;if(wo(g,a)&&t.ref===i.ref)if($e=!1,i.pendingProps=a=g,Za(t,p))(t.flags&131072)!==0&&($e=!0);else return i.lanes=t.lanes,pn(t,i,p)}return Fa(t,i,r,a,p)}function op(t,i,r,a){var p=a.children,g=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|r:r,t!==null){for(a=i.child=t.child,p=0;a!==null;)p=p|a.lanes|a.childLanes,a=a.sibling;a=p&~g}else a=0,i.child=null;return sp(t,i,g,r,a)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ws(i,g!==null?g.cachePool:null),g!==null?ld(i,g):Ta(),ad(i);else return a=i.lanes=536870912,sp(t,i,g!==null?g.baseLanes|r:r,r,a)}else g!==null?(Ws(i,g.cachePool),ld(i,g),Gn(),i.memoizedState=null):(t!==null&&Ws(i,null),Ta(),Gn());return ot(t,i,p,r),i.child}function $o(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function sp(t,i,r,a,p){var g=ha();return g=g===null?null:{parent:Ye._currentValue,pool:g},i.memoizedState={baseLanes:r,cachePool:g},t!==null&&Ws(i,null),Ta(),ad(i),t!==null&&Bi(t,i,a,!0),i.childLanes=p,null}function hr(t,i){return i=gr({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function rp(t,i,r){return hi(i,t.child,null,r),t=hr(i,i.pendingProps),t.flags|=2,Mt(i),i.memoizedState=null,t}function W0(t,i,r){var a=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(_e){if(a.mode==="hidden")return t=hr(i,a),i.lanes=536870912,$o(null,t);if(Ca(i),(t=Pe)?(t=vh(t,Ot),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Nn!==null?{id:Qt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},r=qf(t),r.return=i,i.child=r,nt=i,Pe=null)):t=null,t===null)throw Dn(i);return i.lanes=536870912,null}return hr(i,a)}var g=t.memoizedState;if(g!==null){var T=g.dehydrated;if(Ca(i),p)if(i.flags&256)i.flags&=-257,i=rp(t,i,r);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if($e||Bi(t,i,r,!1),p=(r&t.childLanes)!==0,$e||p){if(a=ke,a!==null&&(T=Xc(a,r),T!==0&&T!==g.retryLane))throw g.retryLane=T,ri(t,T),Tt(a,t,T),qa;Rr(),i=rp(t,i,r)}else t=g.treeContext,Pe=Vt(T.nextSibling),nt=i,_e=!0,In=null,Ot=!1,t!==null&&Yf(i,t),i=hr(i,a),i.flags|=4096;return i}return t=ln(t.child,{mode:a.mode,children:a.children}),t.ref=i.ref,i.child=t,t.return=i,t}function mr(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function Fa(t,i,r,a,p){return ci(i),r=Aa(t,i,r,a,void 0,p),a=Ra(),t!==null&&!$e?(xa(t,i,p),pn(t,i,p)):(_e&&a&&sa(i),i.flags|=1,ot(t,i,r,p),i.child)}function lp(t,i,r,a,p,g){return ci(i),i.updateQueue=null,r=cd(i,a,r,p),ud(t),a=Ra(),t!==null&&!$e?(xa(t,i,g),pn(t,i,g)):(_e&&a&&sa(i),i.flags|=1,ot(t,i,r,g),i.child)}function ap(t,i,r,a,p){if(ci(i),i.stateNode===null){var g=Oi,T=r.contextType;typeof T=="object"&&T!==null&&(g=it(T)),g=new r(a,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=za,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=a,g.state=i.memoizedState,g.refs={},ga(i),T=r.contextType,g.context=typeof T=="object"&&T!==null?it(T):Oi,g.state=i.memoizedState,T=r.getDerivedStateFromProps,typeof T=="function"&&(Va(i,r,T,a),g.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&za.enqueueReplaceState(g,g.state,null),qo(i,a,g,p),Bo(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),a=!0}else if(t===null){g=i.stateNode;var C=i.memoizedProps,A=gi(r,C);g.props=A;var U=g.context,G=r.contextType;T=Oi,typeof G=="object"&&G!==null&&(T=it(G));var V=r.getDerivedStateFromProps;G=typeof V=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,G||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||U!==T)&&$d(i,g,a,T),wn=!1;var k=i.memoizedState;g.state=k,qo(i,a,g,p),Bo(),U=i.memoizedState,C||k!==U||wn?(typeof V=="function"&&(Va(i,r,V,a),U=i.memoizedState),(A=wn||Kd(i,r,A,a,k,U,T))?(G||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=U),g.props=a,g.state=U,g.context=T,a=A):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{g=i.stateNode,ya(t,i),T=i.memoizedProps,G=gi(r,T),g.props=G,V=i.pendingProps,k=g.context,U=r.contextType,A=Oi,typeof U=="object"&&U!==null&&(A=it(U)),C=r.getDerivedStateFromProps,(U=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==V||k!==A)&&$d(i,g,a,A),wn=!1,k=i.memoizedState,g.state=k,qo(i,a,g,p),Bo();var L=i.memoizedState;T!==V||k!==L||wn||t!==null&&t.dependencies!==null&&Qs(t.dependencies)?(typeof C=="function"&&(Va(i,r,C,a),L=i.memoizedState),(G=wn||Kd(i,r,G,a,k,L,A)||t!==null&&t.dependencies!==null&&Qs(t.dependencies))?(U||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,L,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,L,A)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=L),g.props=a,g.state=L,g.context=A,a=G):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),a=!1)}return g=a,mr(t,i),a=(i.flags&128)!==0,g||a?(g=i.stateNode,r=a&&typeof r.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,t!==null&&a?(i.child=hi(i,t.child,null,p),i.child=hi(i,null,r,p)):ot(t,i,r,p),i.memoizedState=g.state,t=i.child):t=pn(t,i,p),t}function up(t,i,r,a){return ai(),i.flags|=256,ot(t,i,r,a),i.child}var Ja={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ya(t){return{baseLanes:t,cachePool:Wf()}}function Ka(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=It),t}function cp(t,i,r){var a=i.pendingProps,p=!1,g=(i.flags&128)!==0,T;if((T=g)||(T=t!==null&&t.memoizedState===null?!1:(Fe.current&2)!==0),T&&(p=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(_e){if(p?Pn(i):Gn(),(t=Pe)?(t=vh(t,Ot),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Nn!==null?{id:Qt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},r=qf(t),r.return=i,i.child=r,nt=i,Pe=null)):t=null,t===null)throw Dn(i);return Nu(t)?i.lanes=32:i.lanes=536870912,null}var C=a.children;return a=a.fallback,p?(Gn(),p=i.mode,C=gr({mode:"hidden",children:C},p),a=li(a,p,r,null),C.return=i,a.return=i,C.sibling=a,i.child=C,a=i.child,a.memoizedState=Ya(r),a.childLanes=Ka(t,T,r),i.memoizedState=Ja,$o(null,a)):(Pn(i),$a(i,C))}var A=t.memoizedState;if(A!==null&&(C=A.dehydrated,C!==null)){if(g)i.flags&256?(Pn(i),i.flags&=-257,i=Xa(t,i,r)):i.memoizedState!==null?(Gn(),i.child=t.child,i.flags|=128,i=null):(Gn(),C=a.fallback,p=i.mode,a=gr({mode:"visible",children:a.children},p),C=li(C,p,r,null),C.flags|=2,a.return=i,C.return=i,a.sibling=C,i.child=a,hi(i,t.child,null,r),a=i.child,a.memoizedState=Ya(r),a.childLanes=Ka(t,T,r),i.memoizedState=Ja,i=$o(null,a));else if(Pn(i),Nu(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var U=T.dgst;T=U,a=Error(s(419)),a.stack="",a.digest=T,Po({value:a,source:null,stack:null}),i=Xa(t,i,r)}else if($e||Bi(t,i,r,!1),T=(r&t.childLanes)!==0,$e||T){if(T=ke,T!==null&&(a=Xc(T,r),a!==0&&a!==A.retryLane))throw A.retryLane=a,ri(t,a),Tt(T,t,a),qa;Mu(C)||Rr(),i=Xa(t,i,r)}else Mu(C)?(i.flags|=192,i.child=t.child,i=null):(t=A.treeContext,Pe=Vt(C.nextSibling),nt=i,_e=!0,In=null,Ot=!1,t!==null&&Yf(i,t),i=$a(i,a.children),i.flags|=4096);return i}return p?(Gn(),C=a.fallback,p=i.mode,A=t.child,U=A.sibling,a=ln(A,{mode:"hidden",children:a.children}),a.subtreeFlags=A.subtreeFlags&65011712,U!==null?C=ln(U,C):(C=li(C,p,r,null),C.flags|=2),C.return=i,a.return=i,a.sibling=C,i.child=a,$o(null,a),a=i.child,C=t.child.memoizedState,C===null?C=Ya(r):(p=C.cachePool,p!==null?(A=Ye._currentValue,p=p.parent!==A?{parent:A,pool:A}:p):p=Wf(),C={baseLanes:C.baseLanes|r,cachePool:p}),a.memoizedState=C,a.childLanes=Ka(t,T,r),i.memoizedState=Ja,$o(t.child,a)):(Pn(i),r=t.child,t=r.sibling,r=ln(r,{mode:"visible",children:a.children}),r.return=i,r.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=r,i.memoizedState=null,r)}function $a(t,i){return i=gr({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function gr(t,i){return t=xt(22,t,null,i),t.lanes=0,t}function Xa(t,i,r){return hi(i,t.child,null,r),t=$a(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function fp(t,i,r){t.lanes|=i;var a=t.alternate;a!==null&&(a.lanes|=i),ca(t.return,i,r)}function Qa(t,i,r,a,p,g){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:p,treeForkCount:g}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=a,T.tail=r,T.tailMode=p,T.treeForkCount=g)}function dp(t,i,r){var a=i.pendingProps,p=a.revealOrder,g=a.tail;a=a.children;var T=Fe.current,C=(T&2)!==0;if(C?(T=T&1|2,i.flags|=128):T&=1,Q(Fe,T),ot(t,i,a,r),a=_e?Lo:0,!C&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fp(t,r,i);else if(t.tag===19)fp(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(r=i.child,p=null;r!==null;)t=r.alternate,t!==null&&or(t)===null&&(p=r),r=r.sibling;r=p,r===null?(p=i.child,i.child=null):(p=r.sibling,r.sibling=null),Qa(i,!1,p,r,g,a);break;case"backwards":case"unstable_legacy-backwards":for(r=null,p=i.child,i.child=null;p!==null;){if(t=p.alternate,t!==null&&or(t)===null){i.child=p;break}t=p.sibling,p.sibling=r,r=p,p=t}Qa(i,!0,r,null,g,a);break;case"together":Qa(i,!1,null,null,void 0,a);break;default:i.memoizedState=null}return i.child}function pn(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),Vn|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(Bi(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,r=ln(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=ln(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function Za(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Qs(t)))}function j0(t,i,r){switch(i.tag){case 3:ut(i,i.stateNode.containerInfo),Un(i,Ye,t.memoizedState.cache),ai();break;case 27:case 5:To(i);break;case 4:ut(i,i.stateNode.containerInfo);break;case 10:Un(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ca(i),null;break;case 13:var a=i.memoizedState;if(a!==null)return a.dehydrated!==null?(Pn(i),i.flags|=128,null):(r&i.child.childLanes)!==0?cp(t,i,r):(Pn(i),t=pn(t,i,r),t!==null?t.sibling:null);Pn(i);break;case 19:var p=(t.flags&128)!==0;if(a=(r&i.childLanes)!==0,a||(Bi(t,i,r,!1),a=(r&i.childLanes)!==0),p){if(a)return dp(t,i,r);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Q(Fe,Fe.current),a)break;return null;case 22:return i.lanes=0,op(t,i,r,i.pendingProps);case 24:Un(i,Ye,t.memoizedState.cache)}return pn(t,i,r)}function pp(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)$e=!0;else{if(!Za(t,r)&&(i.flags&128)===0)return $e=!1,j0(t,i,r);$e=(t.flags&131072)!==0}else $e=!1,_e&&(i.flags&1048576)!==0&&Jf(i,Lo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var a=i.pendingProps;if(t=di(i.elementType),i.type=t,typeof t=="function")na(t)?(a=gi(t,a),i.tag=1,i=ap(null,i,t,a,r)):(i.tag=0,i=Fa(null,i,t,a,r));else{if(t!=null){var p=t.$$typeof;if(p===Y){i.tag=11,i=tp(null,i,t,a,r);break e}else if(p===F){i.tag=14,i=np(null,i,t,a,r);break e}}throw i=Se(t)||t,Error(s(306,i,""))}}return i;case 0:return Fa(t,i,i.type,i.pendingProps,r);case 1:return a=i.type,p=gi(a,i.pendingProps),ap(t,i,a,p,r);case 3:e:{if(ut(i,i.stateNode.containerInfo),t===null)throw Error(s(387));a=i.pendingProps;var g=i.memoizedState;p=g.element,ya(t,i),qo(i,a,null,r);var T=i.memoizedState;if(a=T.cache,Un(i,Ye,a),a!==g.cache&&fa(i,[Ye],r,!0),Bo(),a=T.element,g.isDehydrated)if(g={element:a,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=up(t,i,a,r);break e}else if(a!==p){p=Lt(Error(s(424)),i),Po(p),i=up(t,i,a,r);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Pe=Vt(t.firstChild),nt=i,_e=!0,In=null,Ot=!0,r=od(i,null,a,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ai(),a===p){i=pn(t,i,r);break e}ot(t,i,a,r)}i=i.child}return i;case 26:return mr(t,i),t===null?(r=Ah(i.type,null,i.pendingProps,null))?i.memoizedState=r:_e||(r=i.type,t=i.pendingProps,a=Ur(he.current).createElement(r),a[tt]=i,a[ht]=t,st(a,r,t),Ze(a),i.stateNode=a):i.memoizedState=Ah(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return To(i),t===null&&_e&&(a=i.stateNode=Sh(i.type,i.pendingProps,he.current),nt=i,Ot=!0,p=Pe,Jn(i.type)?(Iu=p,Pe=Vt(a.firstChild)):Pe=p),ot(t,i,i.pendingProps.children,r),mr(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&_e&&((p=a=Pe)&&(a=N_(a,i.type,i.pendingProps,Ot),a!==null?(i.stateNode=a,nt=i,Pe=Vt(a.firstChild),Ot=!1,p=!0):p=!1),p||Dn(i)),To(i),p=i.type,g=i.pendingProps,T=t!==null?t.memoizedProps:null,a=g.children,Ru(p,g)?a=null:T!==null&&Ru(p,T)&&(i.flags|=32),i.memoizedState!==null&&(p=Aa(t,i,F0,null,null,r),us._currentValue=p),mr(t,i),ot(t,i,a,r),i.child;case 6:return t===null&&_e&&((t=r=Pe)&&(r=I_(r,i.pendingProps,Ot),r!==null?(i.stateNode=r,nt=i,Pe=null,t=!0):t=!1),t||Dn(i)),null;case 13:return cp(t,i,r);case 4:return ut(i,i.stateNode.containerInfo),a=i.pendingProps,t===null?i.child=hi(i,null,a,r):ot(t,i,a,r),i.child;case 11:return tp(t,i,i.type,i.pendingProps,r);case 7:return ot(t,i,i.pendingProps,r),i.child;case 8:return ot(t,i,i.pendingProps.children,r),i.child;case 12:return ot(t,i,i.pendingProps.children,r),i.child;case 10:return a=i.pendingProps,Un(i,i.type,a.value),ot(t,i,a.children,r),i.child;case 9:return p=i.type._context,a=i.pendingProps.children,ci(i),p=it(p),a=a(p),i.flags|=1,ot(t,i,a,r),i.child;case 14:return np(t,i,i.type,i.pendingProps,r);case 15:return ip(t,i,i.type,i.pendingProps,r);case 19:return dp(t,i,r);case 31:return W0(t,i,r);case 22:return op(t,i,r,i.pendingProps);case 24:return ci(i),a=it(Ye),t===null?(p=ha(),p===null&&(p=ke,g=da(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=r),p=g),i.memoizedState={parent:a,cache:p},ga(i),Un(i,Ye,p)):((t.lanes&r)!==0&&(ya(t,i),qo(i,null,null,r),Bo()),p=t.memoizedState,g=i.memoizedState,p.parent!==a?(p={parent:a,cache:a},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Un(i,Ye,a)):(a=g.cache,Un(i,Ye,a),a!==p.cache&&fa(i,[Ye],r,!0))),ot(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function hn(t){t.flags|=4}function Wa(t,i,r,a,p){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if(Vp())t.flags|=8192;else throw pi=er,ma}else t.flags&=-16777217}function hp(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Nh(i))if(Vp())t.flags|=8192;else throw pi=er,ma}function yr(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Yc():536870912,t.lanes|=i,eo|=i)}function Xo(t,i){if(!_e)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function Ge(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,a=0;if(i)for(var p=t.child;p!==null;)r|=p.lanes|p.childLanes,a|=p.subtreeFlags&65011712,a|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)r|=p.lanes|p.childLanes,a|=p.subtreeFlags,a|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=a,t.childLanes=r,i}function e_(t,i,r){var a=i.pendingProps;switch(ra(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(i),null;case 1:return Ge(i),null;case 3:return r=i.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),cn(Ye),qe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zi(i)?hn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,aa())),Ge(i),null;case 26:var p=i.type,g=i.memoizedState;return t===null?(hn(i),g!==null?(Ge(i),hp(i,g)):(Ge(i),Wa(i,p,null,a,r))):g?g!==t.memoizedState?(hn(i),Ge(i),hp(i,g)):(Ge(i),i.flags&=-16777217):(t=t.memoizedProps,t!==a&&hn(i),Ge(i),Wa(i,p,t,a,r)),null;case 27:if(Ms(i),r=he.current,p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==a&&hn(i);else{if(!a){if(i.stateNode===null)throw Error(s(166));return Ge(i),null}t=te.current,zi(i)?Kf(i):(t=Sh(p,a,r),i.stateNode=t,hn(i))}return Ge(i),null;case 5:if(Ms(i),p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==a&&hn(i);else{if(!a){if(i.stateNode===null)throw Error(s(166));return Ge(i),null}if(g=te.current,zi(i))Kf(i);else{var T=Ur(he.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof a.is=="string"?T.createElement("select",{is:a.is}):T.createElement("select"),a.multiple?g.multiple=!0:a.size&&(g.size=a.size);break;default:g=typeof a.is=="string"?T.createElement(p,{is:a.is}):T.createElement(p)}}g[tt]=i,g[ht]=a;e:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break e;for(;T.sibling===null;){if(T.return===null||T.return===i)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=g;e:switch(st(g,p,a),p){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&hn(i)}}return Ge(i),Wa(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,r),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==a&&hn(i);else{if(typeof a!="string"&&i.stateNode===null)throw Error(s(166));if(t=he.current,zi(i)){if(t=i.stateNode,r=i.memoizedProps,a=null,p=nt,p!==null)switch(p.tag){case 27:case 5:a=p.memoizedProps}t[tt]=i,t=!!(t.nodeValue===r||a!==null&&a.suppressHydrationWarning===!0||ch(t.nodeValue,r)),t||Dn(i,!0)}else t=Ur(t).createTextNode(a),t[tt]=i,i.stateNode=t}return Ge(i),null;case 31:if(r=i.memoizedState,t===null||t.memoizedState!==null){if(a=zi(i),r!==null){if(t===null){if(!a)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[tt]=i}else ai(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ge(i),t=!1}else r=aa(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return i.flags&256?(Mt(i),i):(Mt(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Ge(i),null;case 13:if(a=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=zi(i),a!==null&&a.dehydrated!==null){if(t===null){if(!p)throw Error(s(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[tt]=i}else ai(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ge(i),p=!1}else p=aa(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Mt(i),i):(Mt(i),null)}return Mt(i),(i.flags&128)!==0?(i.lanes=r,i):(r=a!==null,t=t!==null&&t.memoizedState!==null,r&&(a=i.child,p=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(p=a.alternate.memoizedState.cachePool.pool),g=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),g!==p&&(a.flags|=2048)),r!==t&&r&&(i.child.flags|=8192),yr(i,i.updateQueue),Ge(i),null);case 4:return qe(),t===null&&Tu(i.stateNode.containerInfo),Ge(i),null;case 10:return cn(i.type),Ge(i),null;case 19:if(B(Fe),a=i.memoizedState,a===null)return Ge(i),null;if(p=(i.flags&128)!==0,g=a.rendering,g===null)if(p)Xo(a,!1);else{if(Ve!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(g=or(t),g!==null){for(i.flags|=128,Xo(a,!1),t=g.updateQueue,i.updateQueue=t,yr(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)Bf(r,t),r=r.sibling;return Q(Fe,Fe.current&1|2),_e&&an(i,a.treeForkCount),i.child}t=t.sibling}a.tail!==null&&Ct()>Cr&&(i.flags|=128,p=!0,Xo(a,!1),i.lanes=4194304)}else{if(!p)if(t=or(g),t!==null){if(i.flags|=128,p=!0,t=t.updateQueue,i.updateQueue=t,yr(i,t),Xo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!g.alternate&&!_e)return Ge(i),null}else 2*Ct()-a.renderingStartTime>Cr&&r!==536870912&&(i.flags|=128,p=!0,Xo(a,!1),i.lanes=4194304);a.isBackwards?(g.sibling=i.child,i.child=g):(t=a.last,t!==null?t.sibling=g:i.child=g,a.last=g)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ct(),t.sibling=null,r=Fe.current,Q(Fe,p?r&1|2:r&1),_e&&an(i,a.treeForkCount),t):(Ge(i),null);case 22:case 23:return Mt(i),Sa(),a=i.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(i.flags|=8192):a&&(i.flags|=8192),a?(r&536870912)!==0&&(i.flags&128)===0&&(Ge(i),i.subtreeFlags&6&&(i.flags|=8192)):Ge(i),r=i.updateQueue,r!==null&&yr(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048),t!==null&&B(fi),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),cn(Ye),Ge(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function t_(t,i){switch(ra(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return cn(Ye),qe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ms(i),null;case 31:if(i.memoizedState!==null){if(Mt(i),i.alternate===null)throw Error(s(340));ai()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Mt(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ai()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return B(Fe),null;case 4:return qe(),null;case 10:return cn(i.type),null;case 22:case 23:return Mt(i),Sa(),t!==null&&B(fi),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return cn(Ye),null;case 25:return null;default:return null}}function mp(t,i){switch(ra(i),i.tag){case 3:cn(Ye),qe();break;case 26:case 27:case 5:Ms(i);break;case 4:qe();break;case 31:i.memoizedState!==null&&Mt(i);break;case 13:Mt(i);break;case 19:B(Fe);break;case 10:cn(i.type);break;case 22:case 23:Mt(i),Sa(),t!==null&&B(fi);break;case 24:cn(Ye)}}function Qo(t,i){try{var r=i.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var p=a.next;r=p;do{if((r.tag&t)===t){a=void 0;var g=r.create,T=r.inst;a=g(),T.destroy=a}r=r.next}while(r!==p)}}catch(C){Ne(i,i.return,C)}}function On(t,i,r){try{var a=i.updateQueue,p=a!==null?a.lastEffect:null;if(p!==null){var g=p.next;a=g;do{if((a.tag&t)===t){var T=a.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,p=i;var A=r,U=C;try{U()}catch(G){Ne(p,A,G)}}}a=a.next}while(a!==g)}}catch(G){Ne(i,i.return,G)}}function gp(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{rd(i,r)}catch(a){Ne(t,t.return,a)}}}function yp(t,i,r){r.props=gi(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(a){Ne(t,i,a)}}function Zo(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof r=="function"?t.refCleanup=r(a):r.current=a}}catch(p){Ne(t,i,p)}}function Wt(t,i){var r=t.ref,a=t.refCleanup;if(r!==null)if(typeof a=="function")try{a()}catch(p){Ne(t,i,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(p){Ne(t,i,p)}else r.current=null}function vp(t){var i=t.type,r=t.memoizedProps,a=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&a.focus();break e;case"img":r.src?a.src=r.src:r.srcSet&&(a.srcset=r.srcSet)}}catch(p){Ne(t,t.return,p)}}function ja(t,i,r){try{var a=t.stateNode;E_(a,t.type,r,i),a[ht]=i}catch(p){Ne(t,t.return,p)}}function _p(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Jn(t.type)||t.tag===4}function eu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_p(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Jn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tu(t,i,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=sn));else if(a!==4&&(a===27&&Jn(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(tu(t,i,r),t=t.sibling;t!==null;)tu(t,i,r),t=t.sibling}function vr(t,i,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(a!==4&&(a===27&&Jn(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(vr(t,i,r),t=t.sibling;t!==null;)vr(t,i,r),t=t.sibling}function Tp(t){var i=t.stateNode,r=t.memoizedProps;try{for(var a=t.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);st(i,a,r),i[tt]=t,i[ht]=r}catch(g){Ne(t,t.return,g)}}var mn=!1,Xe=!1,nu=!1,Sp=typeof WeakSet=="function"?WeakSet:Set,We=null;function n_(t,i){if(t=t.containerInfo,Eu=Hr,t=wf(t),Xl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var p=a.anchorOffset,g=a.focusNode;a=a.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var T=0,C=-1,A=-1,U=0,G=0,V=t,k=null;t:for(;;){for(var L;V!==r||p!==0&&V.nodeType!==3||(C=T+p),V!==g||a!==0&&V.nodeType!==3||(A=T+a),V.nodeType===3&&(T+=V.nodeValue.length),(L=V.firstChild)!==null;)k=V,V=L;for(;;){if(V===t)break t;if(k===r&&++U===p&&(C=T),k===g&&++G===a&&(A=T),(L=V.nextSibling)!==null)break;V=k,k=V.parentNode}V=L}r=C===-1||A===-1?null:{start:C,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(Au={focusedElem:t,selectionRange:r},Hr=!1,We=i;We!==null;)if(i=We,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,We=t;else for(;We!==null;){switch(i=We,g=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)p=t[r],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,r=i,p=g.memoizedProps,g=g.memoizedState,a=r.stateNode;try{var Z=gi(r.type,p);t=a.getSnapshotBeforeUpdate(Z,g),a.__reactInternalSnapshotBeforeUpdate=t}catch(se){Ne(r,r.return,se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)bu(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,We=t;break}We=i.return}}function Cp(t,i,r){var a=r.flags;switch(r.tag){case 0:case 11:case 15:yn(t,r),a&4&&Qo(5,r);break;case 1:if(yn(t,r),a&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(T){Ne(r,r.return,T)}else{var p=gi(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(p,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Ne(r,r.return,T)}}a&64&&gp(r),a&512&&Zo(r,r.return);break;case 3:if(yn(t,r),a&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{rd(t,i)}catch(T){Ne(r,r.return,T)}}break;case 27:i===null&&a&4&&Tp(r);case 26:case 5:yn(t,r),i===null&&a&4&&vp(r),a&512&&Zo(r,r.return);break;case 12:yn(t,r);break;case 31:yn(t,r),a&4&&Rp(t,r);break;case 13:yn(t,r),a&4&&xp(t,r),a&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=f_.bind(null,r),D_(t,r))));break;case 22:if(a=r.memoizedState!==null||mn,!a){i=i!==null&&i.memoizedState!==null||Xe,p=mn;var g=Xe;mn=a,(Xe=i)&&!g?vn(t,r,(r.subtreeFlags&8772)!==0):yn(t,r),mn=p,Xe=g}break;case 30:break;default:yn(t,r)}}function Ep(t){var i=t.alternate;i!==null&&(t.alternate=null,Ep(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ul(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Oe=null,gt=!1;function gn(t,i,r){for(r=r.child;r!==null;)Ap(t,i,r),r=r.sibling}function Ap(t,i,r){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(So,r)}catch{}switch(r.tag){case 26:Xe||Wt(r,i),gn(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Xe||Wt(r,i);var a=Oe,p=gt;Jn(r.type)&&(Oe=r.stateNode,gt=!1),gn(t,i,r),rs(r.stateNode),Oe=a,gt=p;break;case 5:Xe||Wt(r,i);case 6:if(a=Oe,p=gt,Oe=null,gn(t,i,r),Oe=a,gt=p,Oe!==null)if(gt)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(r.stateNode)}catch(g){Ne(r,i,g)}else try{Oe.removeChild(r.stateNode)}catch(g){Ne(r,i,g)}break;case 18:Oe!==null&&(gt?(t=Oe,gh(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ao(t)):gh(Oe,r.stateNode));break;case 4:a=Oe,p=gt,Oe=r.stateNode.containerInfo,gt=!0,gn(t,i,r),Oe=a,gt=p;break;case 0:case 11:case 14:case 15:On(2,r,i),Xe||On(4,r,i),gn(t,i,r);break;case 1:Xe||(Wt(r,i),a=r.stateNode,typeof a.componentWillUnmount=="function"&&yp(r,i,a)),gn(t,i,r);break;case 21:gn(t,i,r);break;case 22:Xe=(a=Xe)||r.memoizedState!==null,gn(t,i,r),Xe=a;break;default:gn(t,i,r)}}function Rp(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ao(t)}catch(r){Ne(i,i.return,r)}}}function xp(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ao(t)}catch(r){Ne(i,i.return,r)}}function i_(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Sp),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Sp),i;default:throw Error(s(435,t.tag))}}function _r(t,i){var r=i_(t);i.forEach(function(a){if(!r.has(a)){r.add(a);var p=d_.bind(null,t,a);a.then(p,p)}})}function yt(t,i){var r=i.deletions;if(r!==null)for(var a=0;a<r.length;a++){var p=r[a],g=t,T=i,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(Jn(C.type)){Oe=C.stateNode,gt=!1;break e}break;case 5:Oe=C.stateNode,gt=!1;break e;case 3:case 4:Oe=C.stateNode.containerInfo,gt=!0;break e}C=C.return}if(Oe===null)throw Error(s(160));Ap(g,T,p),Oe=null,gt=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)bp(i,t),i=i.sibling}var Jt=null;function bp(t,i){var r=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yt(i,t),vt(t),a&4&&(On(3,t,t.return),Qo(3,t),On(5,t,t.return));break;case 1:yt(i,t),vt(t),a&512&&(Xe||r===null||Wt(r,r.return)),a&64&&mn&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?a:r.concat(a))));break;case 26:var p=Jt;if(yt(i,t),vt(t),a&512&&(Xe||r===null||Wt(r,r.return)),a&4){var g=r!==null?r.memoizedState:null;if(a=t.memoizedState,r===null)if(a===null)if(t.stateNode===null){e:{a=t.type,r=t.memoizedProps,p=p.ownerDocument||p;t:switch(a){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Ao]||g[tt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(a),p.head.insertBefore(g,p.querySelector("head > title"))),st(g,a,r),g[tt]=t,Ze(g),a=g;break e;case"link":var T=bh("link","href",p).get(a+(r.href||""));if(T){for(var C=0;C<T.length;C++)if(g=T[C],g.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){T.splice(C,1);break t}}g=p.createElement(a),st(g,a,r),p.head.appendChild(g);break;case"meta":if(T=bh("meta","content",p).get(a+(r.content||""))){for(C=0;C<T.length;C++)if(g=T[C],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){T.splice(C,1);break t}}g=p.createElement(a),st(g,a,r),p.head.appendChild(g);break;default:throw Error(s(468,a))}g[tt]=t,Ze(g),a=g}t.stateNode=a}else Mh(p,t.type,t.stateNode);else t.stateNode=xh(p,a,t.memoizedProps);else g!==a?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,a===null?Mh(p,t.type,t.stateNode):xh(p,a,t.memoizedProps)):a===null&&t.stateNode!==null&&ja(t,t.memoizedProps,r.memoizedProps)}break;case 27:yt(i,t),vt(t),a&512&&(Xe||r===null||Wt(r,r.return)),r!==null&&a&4&&ja(t,t.memoizedProps,r.memoizedProps);break;case 5:if(yt(i,t),vt(t),a&512&&(Xe||r===null||Wt(r,r.return)),t.flags&32){p=t.stateNode;try{Di(p,"")}catch(Z){Ne(t,t.return,Z)}}a&4&&t.stateNode!=null&&(p=t.memoizedProps,ja(t,p,r!==null?r.memoizedProps:p)),a&1024&&(nu=!0);break;case 6:if(yt(i,t),vt(t),a&4){if(t.stateNode===null)throw Error(s(162));a=t.memoizedProps,r=t.stateNode;try{r.nodeValue=a}catch(Z){Ne(t,t.return,Z)}}break;case 3:if(Lr=null,p=Jt,Jt=wr(i.containerInfo),yt(i,t),Jt=p,vt(t),a&4&&r!==null&&r.memoizedState.isDehydrated)try{ao(i.containerInfo)}catch(Z){Ne(t,t.return,Z)}nu&&(nu=!1,Mp(t));break;case 4:a=Jt,Jt=wr(t.stateNode.containerInfo),yt(i,t),vt(t),Jt=a;break;case 12:yt(i,t),vt(t);break;case 31:yt(i,t),vt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,_r(t,a)));break;case 13:yt(i,t),vt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Sr=Ct()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,_r(t,a)));break;case 22:p=t.memoizedState!==null;var A=r!==null&&r.memoizedState!==null,U=mn,G=Xe;if(mn=U||p,Xe=G||A,yt(i,t),Xe=G,mn=U,vt(t),a&8192)e:for(i=t.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(r===null||A||mn||Xe||yi(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){A=r=i;try{if(g=A.stateNode,p)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=A.stateNode;var V=A.memoizedProps.style,k=V!=null&&V.hasOwnProperty("display")?V.display:null;C.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(Z){Ne(A,A.return,Z)}}}else if(i.tag===6){if(r===null){A=i;try{A.stateNode.nodeValue=p?"":A.memoizedProps}catch(Z){Ne(A,A.return,Z)}}}else if(i.tag===18){if(r===null){A=i;try{var L=A.stateNode;p?yh(L,!0):yh(A.stateNode,!1)}catch(Z){Ne(A,A.return,Z)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}a&4&&(a=t.updateQueue,a!==null&&(r=a.retryQueue,r!==null&&(a.retryQueue=null,_r(t,r))));break;case 19:yt(i,t),vt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,_r(t,a)));break;case 30:break;case 21:break;default:yt(i,t),vt(t)}}function vt(t){var i=t.flags;if(i&2){try{for(var r,a=t.return;a!==null;){if(_p(a)){r=a;break}a=a.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var p=r.stateNode,g=eu(t);vr(t,g,p);break;case 5:var T=r.stateNode;r.flags&32&&(Di(T,""),r.flags&=-33);var C=eu(t);vr(t,C,T);break;case 3:case 4:var A=r.stateNode.containerInfo,U=eu(t);tu(t,U,A);break;default:throw Error(s(161))}}catch(G){Ne(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Mp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Mp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function yn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Cp(t,i.alternate,i),i=i.sibling}function yi(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:On(4,i,i.return),yi(i);break;case 1:Wt(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&yp(i,i.return,r),yi(i);break;case 27:rs(i.stateNode);case 26:case 5:Wt(i,i.return),yi(i);break;case 22:i.memoizedState===null&&yi(i);break;case 30:yi(i);break;default:yi(i)}t=t.sibling}}function vn(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var a=i.alternate,p=t,g=i,T=g.flags;switch(g.tag){case 0:case 11:case 15:vn(p,g,r),Qo(4,g);break;case 1:if(vn(p,g,r),a=g,p=a.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(U){Ne(a,a.return,U)}if(a=g,p=a.updateQueue,p!==null){var C=a.stateNode;try{var A=p.shared.hiddenCallbacks;if(A!==null)for(p.shared.hiddenCallbacks=null,p=0;p<A.length;p++)sd(A[p],C)}catch(U){Ne(a,a.return,U)}}r&&T&64&&gp(g),Zo(g,g.return);break;case 27:Tp(g);case 26:case 5:vn(p,g,r),r&&a===null&&T&4&&vp(g),Zo(g,g.return);break;case 12:vn(p,g,r);break;case 31:vn(p,g,r),r&&T&4&&Rp(p,g);break;case 13:vn(p,g,r),r&&T&4&&xp(p,g);break;case 22:g.memoizedState===null&&vn(p,g,r),Zo(g,g.return);break;case 30:break;default:vn(p,g,r)}i=i.sibling}}function iu(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Go(r))}function ou(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Go(t))}function Yt(t,i,r,a){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Np(t,i,r,a),i=i.sibling}function Np(t,i,r,a){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Yt(t,i,r,a),p&2048&&Qo(9,i);break;case 1:Yt(t,i,r,a);break;case 3:Yt(t,i,r,a),p&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Go(t)));break;case 12:if(p&2048){Yt(t,i,r,a),t=i.stateNode;try{var g=i.memoizedProps,T=g.id,C=g.onPostCommit;typeof C=="function"&&C(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Ne(i,i.return,A)}}else Yt(t,i,r,a);break;case 31:Yt(t,i,r,a);break;case 13:Yt(t,i,r,a);break;case 23:break;case 22:g=i.stateNode,T=i.alternate,i.memoizedState!==null?g._visibility&2?Yt(t,i,r,a):Wo(t,i):g._visibility&2?Yt(t,i,r,a):(g._visibility|=2,Zi(t,i,r,a,(i.subtreeFlags&10256)!==0||!1)),p&2048&&iu(T,i);break;case 24:Yt(t,i,r,a),p&2048&&ou(i.alternate,i);break;default:Yt(t,i,r,a)}}function Zi(t,i,r,a,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=t,T=i,C=r,A=a,U=T.flags;switch(T.tag){case 0:case 11:case 15:Zi(g,T,C,A,p),Qo(8,T);break;case 23:break;case 22:var G=T.stateNode;T.memoizedState!==null?G._visibility&2?Zi(g,T,C,A,p):Wo(g,T):(G._visibility|=2,Zi(g,T,C,A,p)),p&&U&2048&&iu(T.alternate,T);break;case 24:Zi(g,T,C,A,p),p&&U&2048&&ou(T.alternate,T);break;default:Zi(g,T,C,A,p)}i=i.sibling}}function Wo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,a=i,p=a.flags;switch(a.tag){case 22:Wo(r,a),p&2048&&iu(a.alternate,a);break;case 24:Wo(r,a),p&2048&&ou(a.alternate,a);break;default:Wo(r,a)}i=i.sibling}}var jo=8192;function Wi(t,i,r){if(t.subtreeFlags&jo)for(t=t.child;t!==null;)Ip(t,i,r),t=t.sibling}function Ip(t,i,r){switch(t.tag){case 26:Wi(t,i,r),t.flags&jo&&t.memoizedState!==null&&q_(r,Jt,t.memoizedState,t.memoizedProps);break;case 5:Wi(t,i,r);break;case 3:case 4:var a=Jt;Jt=wr(t.stateNode.containerInfo),Wi(t,i,r),Jt=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=jo,jo=16777216,Wi(t,i,r),jo=a):Wi(t,i,r));break;default:Wi(t,i,r)}}function Dp(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function es(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var a=i[r];We=a,wp(a,t)}Dp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Up(t),t=t.sibling}function Up(t){switch(t.tag){case 0:case 11:case 15:es(t),t.flags&2048&&On(9,t,t.return);break;case 3:es(t);break;case 12:es(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Tr(t)):es(t);break;default:es(t)}}function Tr(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var a=i[r];We=a,wp(a,t)}Dp(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:On(8,i,i.return),Tr(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,Tr(i));break;default:Tr(i)}t=t.sibling}}function wp(t,i){for(;We!==null;){var r=We;switch(r.tag){case 0:case 11:case 15:On(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var a=r.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Go(r.memoizedState.cache)}if(a=r.child,a!==null)a.return=r,We=a;else e:for(r=t;We!==null;){a=We;var p=a.sibling,g=a.return;if(Ep(a),a===r){We=null;break e}if(p!==null){p.return=g,We=p;break e}We=g}}}var o_={getCacheForType:function(t){var i=it(Ye),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r},cacheSignal:function(){return it(Ye).controller.signal}},s_=typeof WeakMap=="function"?WeakMap:Map,xe=0,ke=null,me=null,ye=0,Me=0,Nt=null,Hn=!1,ji=!1,su=!1,_n=0,Ve=0,Vn=0,vi=0,ru=0,It=0,eo=0,ts=null,_t=null,lu=!1,Sr=0,kp=0,Cr=1/0,Er=null,zn=null,Qe=0,Bn=null,to=null,Tn=0,au=0,uu=null,Lp=null,ns=0,cu=null;function Dt(){return(xe&2)!==0&&ye!==0?ye&-ye:P.T!==null?gu():Qc()}function Pp(){if(It===0)if((ye&536870912)===0||_e){var t=Ds;Ds<<=1,(Ds&3932160)===0&&(Ds=262144),It=t}else It=536870912;return t=bt.current,t!==null&&(t.flags|=32),It}function Tt(t,i,r){(t===ke&&(Me===2||Me===9)||t.cancelPendingCommit!==null)&&(no(t,0),qn(t,ye,It,!1)),Eo(t,r),((xe&2)===0||t!==ke)&&(t===ke&&((xe&2)===0&&(vi|=r),Ve===4&&qn(t,ye,It,!1)),jt(t))}function Gp(t,i,r){if((xe&6)!==0)throw Error(s(327));var a=!r&&(i&127)===0&&(i&t.expiredLanes)===0||Co(t,i),p=a?a_(t,i):du(t,i,!0),g=a;do{if(p===0){ji&&!a&&qn(t,i,0,!1);break}else{if(r=t.current.alternate,g&&!r_(r)){p=du(t,i,!1),g=!1;continue}if(p===2){if(g=i,t.errorRecoveryDisabledLanes&g)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var C=t;p=ts;var A=C.current.memoizedState.isDehydrated;if(A&&(no(C,T).flags|=256),T=du(C,T,!1),T!==2){if(su&&!A){C.errorRecoveryDisabledLanes|=g,vi|=g,p=4;break e}g=_t,_t=p,g!==null&&(_t===null?_t=g:_t.push.apply(_t,g))}p=T}if(g=!1,p!==2)continue}}if(p===1){no(t,0),qn(t,i,0,!0);break}e:{switch(a=t,g=p,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:qn(a,i,It,!Hn);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(p=Sr+300-Ct(),10<p)){if(qn(a,i,It,!Hn),ws(a,0,!0)!==0)break e;Tn=i,a.timeoutHandle=hh(Op.bind(null,a,r,_t,Er,lu,i,It,vi,eo,Hn,g,"Throttled",-0,0),p);break e}Op(a,r,_t,Er,lu,i,It,vi,eo,Hn,g,null,-0,0)}}break}while(!0);jt(t)}function Op(t,i,r,a,p,g,T,C,A,U,G,V,k,L){if(t.timeoutHandle=-1,V=i.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sn},Ip(i,g,V);var Z=(g&62914560)===g?Sr-Ct():(g&4194048)===g?kp-Ct():0;if(Z=F_(V,Z),Z!==null){Tn=g,t.cancelPendingCommit=Z(Yp.bind(null,t,i,g,r,a,p,T,C,A,G,V,null,k,L)),qn(t,g,T,!U);return}}Yp(t,i,g,r,a,p,T,C,A)}function r_(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var a=0;a<r.length;a++){var p=r[a],g=p.getSnapshot;p=p.value;try{if(!Rt(g(),p))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qn(t,i,r,a){i&=~ru,i&=~vi,t.suspendedLanes|=i,t.pingedLanes&=~i,a&&(t.warmLanes|=i),a=t.expirationTimes;for(var p=i;0<p;){var g=31-At(p),T=1<<g;a[g]=-1,p&=~T}r!==0&&Kc(t,r,i)}function Ar(){return(xe&6)===0?(is(0),!1):!0}function fu(){if(me!==null){if(Me===0)var t=me.return;else t=me,un=ui=null,ba(t),Yi=null,Ho=0,t=me;for(;t!==null;)mp(t.alternate,t),t=t.return;me=null}}function no(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,x_(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Tn=0,fu(),ke=t,me=r=ln(t.current,null),ye=i,Me=0,Nt=null,Hn=!1,ji=Co(t,i),su=!1,eo=It=ru=vi=Vn=Ve=0,_t=ts=null,lu=!1,(i&8)!==0&&(i|=i&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=i;0<a;){var p=31-At(a),g=1<<p;i|=t[p],a&=~g}return _n=i,Js(),r}function Hp(t,i){ce=null,P.H=Ko,i===Ji||i===js?(i=td(),Me=3):i===ma?(i=td(),Me=4):Me=i===qa?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Nt=i,me===null&&(Ve=1,pr(t,Lt(i,t.current)))}function Vp(){var t=bt.current;return t===null?!0:(ye&4194048)===ye?Ht===null:(ye&62914560)===ye||(ye&536870912)!==0?t===Ht:!1}function zp(){var t=P.H;return P.H=Ko,t===null?Ko:t}function Bp(){var t=P.A;return P.A=o_,t}function Rr(){Ve=4,Hn||(ye&4194048)!==ye&&bt.current!==null||(ji=!0),(Vn&134217727)===0&&(vi&134217727)===0||ke===null||qn(ke,ye,It,!1)}function du(t,i,r){var a=xe;xe|=2;var p=zp(),g=Bp();(ke!==t||ye!==i)&&(Er=null,no(t,i)),i=!1;var T=Ve;e:do try{if(Me!==0&&me!==null){var C=me,A=Nt;switch(Me){case 8:fu(),T=6;break e;case 3:case 2:case 9:case 6:bt.current===null&&(i=!0);var U=Me;if(Me=0,Nt=null,io(t,C,A,U),r&&ji){T=0;break e}break;default:U=Me,Me=0,Nt=null,io(t,C,A,U)}}l_(),T=Ve;break}catch(G){Hp(t,G)}while(!0);return i&&t.shellSuspendCounter++,un=ui=null,xe=a,P.H=p,P.A=g,me===null&&(ke=null,ye=0,Js()),T}function l_(){for(;me!==null;)qp(me)}function a_(t,i){var r=xe;xe|=2;var a=zp(),p=Bp();ke!==t||ye!==i?(Er=null,Cr=Ct()+500,no(t,i)):ji=Co(t,i);e:do try{if(Me!==0&&me!==null){i=me;var g=Nt;t:switch(Me){case 1:Me=0,Nt=null,io(t,i,g,1);break;case 2:case 9:if(jf(g)){Me=0,Nt=null,Fp(i);break}i=function(){Me!==2&&Me!==9||ke!==t||(Me=7),jt(t)},g.then(i,i);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:jf(g)?(Me=0,Nt=null,Fp(i)):(Me=0,Nt=null,io(t,i,g,7));break;case 5:var T=null;switch(me.tag){case 26:T=me.memoizedState;case 5:case 27:var C=me;if(T?Nh(T):C.stateNode.complete){Me=0,Nt=null;var A=C.sibling;if(A!==null)me=A;else{var U=C.return;U!==null?(me=U,xr(U)):me=null}break t}}Me=0,Nt=null,io(t,i,g,5);break;case 6:Me=0,Nt=null,io(t,i,g,6);break;case 8:fu(),Ve=6;break e;default:throw Error(s(462))}}u_();break}catch(G){Hp(t,G)}while(!0);return un=ui=null,P.H=a,P.A=p,xe=r,me!==null?0:(ke=null,ye=0,Js(),Ve)}function u_(){for(;me!==null&&!Uv();)qp(me)}function qp(t){var i=pp(t.alternate,t,_n);t.memoizedProps=t.pendingProps,i===null?xr(t):me=i}function Fp(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=lp(r,i,i.pendingProps,i.type,void 0,ye);break;case 11:i=lp(r,i,i.pendingProps,i.type.render,i.ref,ye);break;case 5:ba(i);default:mp(r,i),i=me=Bf(i,_n),i=pp(r,i,_n)}t.memoizedProps=t.pendingProps,i===null?xr(t):me=i}function io(t,i,r,a){un=ui=null,ba(i),Yi=null,Ho=0;var p=i.return;try{if(Z0(t,p,i,r,ye)){Ve=1,pr(t,Lt(r,t.current)),me=null;return}}catch(g){if(p!==null)throw me=p,g;Ve=1,pr(t,Lt(r,t.current)),me=null;return}i.flags&32768?(_e||a===1?t=!0:ji||(ye&536870912)!==0?t=!1:(Hn=t=!0,(a===2||a===9||a===3||a===6)&&(a=bt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Jp(i,t)):xr(i)}function xr(t){var i=t;do{if((i.flags&32768)!==0){Jp(i,Hn);return}t=i.return;var r=e_(i.alternate,i,_n);if(r!==null){me=r;return}if(i=i.sibling,i!==null){me=i;return}me=i=t}while(i!==null);Ve===0&&(Ve=5)}function Jp(t,i){do{var r=t_(t.alternate,t);if(r!==null){r.flags&=32767,me=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){me=t;return}me=t=r}while(t!==null);Ve=6,me=null}function Yp(t,i,r,a,p,g,T,C,A){t.cancelPendingCommit=null;do br();while(Qe!==0);if((xe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=ea,Bv(t,r,g,T,C,A),t===ke&&(me=ke=null,ye=0),to=i,Bn=t,Tn=r,au=g,uu=p,Lp=a,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,p_(Ns,function(){return Zp(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||a){a=P.T,P.T=null,p=K.p,K.p=2,T=xe,xe|=4;try{n_(t,i,r)}finally{xe=T,K.p=p,P.T=a}}Qe=1,Kp(),$p(),Xp()}}function Kp(){if(Qe===1){Qe=0;var t=Bn,i=to,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=P.T,P.T=null;var a=K.p;K.p=2;var p=xe;xe|=4;try{bp(i,t);var g=Au,T=wf(t.containerInfo),C=g.focusedElem,A=g.selectionRange;if(T!==C&&C&&C.ownerDocument&&Uf(C.ownerDocument.documentElement,C)){if(A!==null&&Xl(C)){var U=A.start,G=A.end;if(G===void 0&&(G=U),"selectionStart"in C)C.selectionStart=U,C.selectionEnd=Math.min(G,C.value.length);else{var V=C.ownerDocument||document,k=V&&V.defaultView||window;if(k.getSelection){var L=k.getSelection(),Z=C.textContent.length,se=Math.min(A.start,Z),Ue=A.end===void 0?se:Math.min(A.end,Z);!L.extend&&se>Ue&&(T=Ue,Ue=se,se=T);var M=Df(C,se),R=Df(C,Ue);if(M&&R&&(L.rangeCount!==1||L.anchorNode!==M.node||L.anchorOffset!==M.offset||L.focusNode!==R.node||L.focusOffset!==R.offset)){var D=V.createRange();D.setStart(M.node,M.offset),L.removeAllRanges(),se>Ue?(L.addRange(D),L.extend(R.node,R.offset)):(D.setEnd(R.node,R.offset),L.addRange(D))}}}}for(V=[],L=C;L=L.parentNode;)L.nodeType===1&&V.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<V.length;C++){var H=V[C];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}Hr=!!Eu,Au=Eu=null}finally{xe=p,K.p=a,P.T=r}}t.current=i,Qe=2}}function $p(){if(Qe===2){Qe=0;var t=Bn,i=to,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=P.T,P.T=null;var a=K.p;K.p=2;var p=xe;xe|=4;try{Cp(t,i.alternate,i)}finally{xe=p,K.p=a,P.T=r}}Qe=3}}function Xp(){if(Qe===4||Qe===3){Qe=0,wv();var t=Bn,i=to,r=Tn,a=Lp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Qe=5:(Qe=0,to=Bn=null,Qp(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(zn=null),Il(r),i=i.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(So,i,void 0,(i.current.flags&128)===128)}catch{}if(a!==null){i=P.T,p=K.p,K.p=2,P.T=null;try{for(var g=t.onRecoverableError,T=0;T<a.length;T++){var C=a[T];g(C.value,{componentStack:C.stack})}}finally{P.T=i,K.p=p}}(Tn&3)!==0&&br(),jt(t),p=t.pendingLanes,(r&261930)!==0&&(p&42)!==0?t===cu?ns++:(ns=0,cu=t):ns=0,is(0)}}function Qp(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Go(i)))}function br(){return Kp(),$p(),Xp(),Zp()}function Zp(){if(Qe!==5)return!1;var t=Bn,i=au;au=0;var r=Il(Tn),a=P.T,p=K.p;try{K.p=32>r?32:r,P.T=null,r=uu,uu=null;var g=Bn,T=Tn;if(Qe=0,to=Bn=null,Tn=0,(xe&6)!==0)throw Error(s(331));var C=xe;if(xe|=4,Up(g.current),Np(g,g.current,T,r),xe=C,is(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(So,g)}catch{}return!0}finally{K.p=p,P.T=a,Qp(t,i)}}function Wp(t,i,r){i=Lt(r,i),i=Ba(t.stateNode,i,2),t=Ln(t,i,2),t!==null&&(Eo(t,2),jt(t))}function Ne(t,i,r){if(t.tag===3)Wp(t,t,r);else for(;i!==null;){if(i.tag===3){Wp(i,t,r);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(zn===null||!zn.has(a))){t=Lt(r,t),r=jd(2),a=Ln(i,r,2),a!==null&&(ep(r,a,i,t),Eo(a,2),jt(a));break}}i=i.return}}function pu(t,i,r){var a=t.pingCache;if(a===null){a=t.pingCache=new s_;var p=new Set;a.set(i,p)}else p=a.get(i),p===void 0&&(p=new Set,a.set(i,p));p.has(r)||(su=!0,p.add(r),t=c_.bind(null,t,i,r),i.then(t,t))}function c_(t,i,r){var a=t.pingCache;a!==null&&a.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ke===t&&(ye&r)===r&&(Ve===4||Ve===3&&(ye&62914560)===ye&&300>Ct()-Sr?(xe&2)===0&&no(t,0):ru|=r,eo===ye&&(eo=0)),jt(t)}function jp(t,i){i===0&&(i=Yc()),t=ri(t,i),t!==null&&(Eo(t,i),jt(t))}function f_(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),jp(t,r)}function d_(t,i){var r=0;switch(t.tag){case 31:case 13:var a=t.stateNode,p=t.memoizedState;p!==null&&(r=p.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(i),jp(t,r)}function p_(t,i){return xl(t,i)}var Mr=null,oo=null,hu=!1,Nr=!1,mu=!1,Fn=0;function jt(t){t!==oo&&t.next===null&&(oo===null?Mr=oo=t:oo=oo.next=t),Nr=!0,hu||(hu=!0,m_())}function is(t,i){if(!mu&&Nr){mu=!0;do for(var r=!1,a=Mr;a!==null;){if(t!==0){var p=a.pendingLanes;if(p===0)var g=0;else{var T=a.suspendedLanes,C=a.pingedLanes;g=(1<<31-At(42|t)+1)-1,g&=p&~(T&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(r=!0,ih(a,g))}else g=ye,g=ws(a,a===ke?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(g&3)===0||Co(a,g)||(r=!0,ih(a,g));a=a.next}while(r);mu=!1}}function h_(){eh()}function eh(){Nr=hu=!1;var t=0;Fn!==0&&R_()&&(t=Fn);for(var i=Ct(),r=null,a=Mr;a!==null;){var p=a.next,g=th(a,i);g===0?(a.next=null,r===null?Mr=p:r.next=p,p===null&&(oo=r)):(r=a,(t!==0||(g&3)!==0)&&(Nr=!0)),a=p}Qe!==0&&Qe!==5||is(t),Fn!==0&&(Fn=0)}function th(t,i){for(var r=t.suspendedLanes,a=t.pingedLanes,p=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var T=31-At(g),C=1<<T,A=p[T];A===-1?((C&r)===0||(C&a)!==0)&&(p[T]=zv(C,i)):A<=i&&(t.expiredLanes|=C),g&=~C}if(i=ke,r=ye,r=ws(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,r===0||t===i&&(Me===2||Me===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&bl(a),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Co(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(a!==null&&bl(a),Il(r)){case 2:case 8:r=Fc;break;case 32:r=Ns;break;case 268435456:r=Jc;break;default:r=Ns}return a=nh.bind(null,t),r=xl(r,a),t.callbackPriority=i,t.callbackNode=r,i}return a!==null&&a!==null&&bl(a),t.callbackPriority=2,t.callbackNode=null,2}function nh(t,i){if(Qe!==0&&Qe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(br()&&t.callbackNode!==r)return null;var a=ye;return a=ws(t,t===ke?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(Gp(t,a,i),th(t,Ct()),t.callbackNode!=null&&t.callbackNode===r?nh.bind(null,t):null)}function ih(t,i){if(br())return null;Gp(t,i,!0)}function m_(){b_(function(){(xe&6)!==0?xl(qc,h_):eh()})}function gu(){if(Fn===0){var t=qi;t===0&&(t=Is,Is<<=1,(Is&261888)===0&&(Is=256)),Fn=t}return Fn}function oh(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Gs(""+t)}function sh(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function g_(t,i,r,a,p){if(i==="submit"&&r&&r.stateNode===p){var g=oh((p[ht]||null).action),T=a.submitter;T&&(i=(i=T[ht]||null)?oh(i.formAction):T.getAttribute("formAction"),i!==null&&(g=i,T=null));var C=new zs("action","action",null,a,p);t.push({event:C,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Fn!==0){var A=T?sh(p,T):new FormData(p);Pa(r,{pending:!0,data:A,method:p.method,action:g},null,A)}}else typeof g=="function"&&(C.preventDefault(),A=T?sh(p,T):new FormData(p),Pa(r,{pending:!0,data:A,method:p.method,action:g},g,A))},currentTarget:p}]})}}for(var yu=0;yu<jl.length;yu++){var vu=jl[yu],y_=vu.toLowerCase(),v_=vu[0].toUpperCase()+vu.slice(1);Ft(y_,"on"+v_)}Ft(Pf,"onAnimationEnd"),Ft(Gf,"onAnimationIteration"),Ft(Of,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(k0,"onTransitionRun"),Ft(L0,"onTransitionStart"),Ft(P0,"onTransitionCancel"),Ft(Hf,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),__=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(os));function rh(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var a=t[r],p=a.event;a=a.listeners;e:{var g=void 0;if(i)for(var T=a.length-1;0<=T;T--){var C=a[T],A=C.instance,U=C.currentTarget;if(C=C.listener,A!==g&&p.isPropagationStopped())break e;g=C,p.currentTarget=U;try{g(p)}catch(G){Fs(G)}p.currentTarget=null,g=A}else for(T=0;T<a.length;T++){if(C=a[T],A=C.instance,U=C.currentTarget,C=C.listener,A!==g&&p.isPropagationStopped())break e;g=C,p.currentTarget=U;try{g(p)}catch(G){Fs(G)}p.currentTarget=null,g=A}}}}function ge(t,i){var r=i[Dl];r===void 0&&(r=i[Dl]=new Set);var a=t+"__bubble";r.has(a)||(lh(i,t,2,!1),r.add(a))}function _u(t,i,r){var a=0;i&&(a|=4),lh(r,t,a,i)}var Ir="_reactListening"+Math.random().toString(36).slice(2);function Tu(t){if(!t[Ir]){t[Ir]=!0,jc.forEach(function(r){r!=="selectionchange"&&(__.has(r)||_u(r,!1,t),_u(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ir]||(i[Ir]=!0,_u("selectionchange",!1,i))}}function lh(t,i,r,a){switch(Ph(i)){case 2:var p=K_;break;case 8:p=$_;break;default:p=Lu}r=p.bind(null,i,r,t),p=void 0,!Vl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),a?p!==void 0?t.addEventListener(i,r,{capture:!0,passive:p}):t.addEventListener(i,r,!0):p!==void 0?t.addEventListener(i,r,{passive:p}):t.addEventListener(i,r,!1)}function Su(t,i,r,a,p){var g=a;if((i&1)===0&&(i&2)===0&&a!==null)e:for(;;){if(a===null)return;var T=a.tag;if(T===3||T===4){var C=a.stateNode.containerInfo;if(C===p)break;if(T===4)for(T=a.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;C!==null;){if(T=xi(C),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){a=g=T;continue e}C=C.parentNode}}a=a.return}df(function(){var U=g,G=Ol(r),V=[];e:{var k=Vf.get(t);if(k!==void 0){var L=zs,Z=t;switch(t){case"keypress":if(Hs(r)===0)break e;case"keydown":case"keyup":L=d0;break;case"focusin":Z="focus",L=Fl;break;case"focusout":Z="blur",L=Fl;break;case"beforeblur":case"afterblur":L=Fl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=mf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=e0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=m0;break;case Pf:case Gf:case Of:L=i0;break;case Hf:L=y0;break;case"scroll":case"scrollend":L=Wv;break;case"wheel":L=_0;break;case"copy":case"cut":case"paste":L=s0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=yf;break;case"toggle":case"beforetoggle":L=S0}var se=(i&4)!==0,Ue=!se&&(t==="scroll"||t==="scrollend"),M=se?k!==null?k+"Capture":null:k;se=[];for(var R=U,D;R!==null;){var H=R;if(D=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||D===null||M===null||(H=xo(R,M),H!=null&&se.push(ss(R,H,D))),Ue)break;R=R.return}0<se.length&&(k=new L(k,Z,null,r,G),V.push({event:k,listeners:se}))}}if((i&7)===0){e:{if(k=t==="mouseover"||t==="pointerover",L=t==="mouseout"||t==="pointerout",k&&r!==Gl&&(Z=r.relatedTarget||r.fromElement)&&(xi(Z)||Z[Ri]))break e;if((L||k)&&(k=G.window===G?G:(k=G.ownerDocument)?k.defaultView||k.parentWindow:window,L?(Z=r.relatedTarget||r.toElement,L=U,Z=Z?xi(Z):null,Z!==null&&(Ue=u(Z),se=Z.tag,Z!==Ue||se!==5&&se!==27&&se!==6)&&(Z=null)):(L=null,Z=U),L!==Z)){if(se=mf,H="onMouseLeave",M="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(se=yf,H="onPointerLeave",M="onPointerEnter",R="pointer"),Ue=L==null?k:Ro(L),D=Z==null?k:Ro(Z),k=new se(H,R+"leave",L,r,G),k.target=Ue,k.relatedTarget=D,H=null,xi(G)===U&&(se=new se(M,R+"enter",Z,r,G),se.target=D,se.relatedTarget=Ue,H=se),Ue=H,L&&Z)t:{for(se=T_,M=L,R=Z,D=0,H=M;H;H=se(H))D++;H=0;for(var oe=R;oe;oe=se(oe))H++;for(;0<D-H;)M=se(M),D--;for(;0<H-D;)R=se(R),H--;for(;D--;){if(M===R||R!==null&&M===R.alternate){se=M;break t}M=se(M),R=se(R)}se=null}else se=null;L!==null&&ah(V,k,L,se,!1),Z!==null&&Ue!==null&&ah(V,Ue,Z,se,!0)}}e:{if(k=U?Ro(U):window,L=k.nodeName&&k.nodeName.toLowerCase(),L==="select"||L==="input"&&k.type==="file")var Ee=Rf;else if(Ef(k))if(xf)Ee=D0;else{Ee=N0;var ne=M0}else L=k.nodeName,!L||L.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?U&&Pl(U.elementType)&&(Ee=Rf):Ee=I0;if(Ee&&(Ee=Ee(t,U))){Af(V,Ee,r,G);break e}ne&&ne(t,k,U),t==="focusout"&&U&&k.type==="number"&&U.memoizedProps.value!=null&&Ll(k,"number",k.value)}switch(ne=U?Ro(U):window,t){case"focusin":(Ef(ne)||ne.contentEditable==="true")&&(Li=ne,Ql=U,ko=null);break;case"focusout":ko=Ql=Li=null;break;case"mousedown":Zl=!0;break;case"contextmenu":case"mouseup":case"dragend":Zl=!1,kf(V,r,G);break;case"selectionchange":if(w0)break;case"keydown":case"keyup":kf(V,r,G)}var de;if(Yl)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else ki?Sf(t,r)&&(ve="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ve="onCompositionStart");ve&&(vf&&r.locale!=="ko"&&(ki||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&ki&&(de=pf()):(Mn=G,zl="value"in Mn?Mn.value:Mn.textContent,ki=!0)),ne=Dr(U,ve),0<ne.length&&(ve=new gf(ve,t,null,r,G),V.push({event:ve,listeners:ne}),de?ve.data=de:(de=Cf(r),de!==null&&(ve.data=de)))),(de=E0?A0(t,r):R0(t,r))&&(ve=Dr(U,"onBeforeInput"),0<ve.length&&(ne=new gf("onBeforeInput","beforeinput",null,r,G),V.push({event:ne,listeners:ve}),ne.data=de)),g_(V,t,U,r,G)}rh(V,i)})}function ss(t,i,r){return{instance:t,listener:i,currentTarget:r}}function Dr(t,i){for(var r=i+"Capture",a=[];t!==null;){var p=t,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=xo(t,r),p!=null&&a.unshift(ss(t,p,g)),p=xo(t,i),p!=null&&a.push(ss(t,p,g))),t.tag===3)return a;t=t.return}return[]}function T_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ah(t,i,r,a,p){for(var g=i._reactName,T=[];r!==null&&r!==a;){var C=r,A=C.alternate,U=C.stateNode;if(C=C.tag,A!==null&&A===a)break;C!==5&&C!==26&&C!==27||U===null||(A=U,p?(U=xo(r,g),U!=null&&T.unshift(ss(r,U,A))):p||(U=xo(r,g),U!=null&&T.push(ss(r,U,A)))),r=r.return}T.length!==0&&t.push({event:i,listeners:T})}var S_=/\r\n?/g,C_=/\u0000|\uFFFD/g;function uh(t){return(typeof t=="string"?t:""+t).replace(S_,`
`).replace(C_,"")}function ch(t,i){return i=uh(i),uh(t)===i}function De(t,i,r,a,p,g){switch(r){case"children":typeof a=="string"?i==="body"||i==="textarea"&&a===""||Di(t,a):(typeof a=="number"||typeof a=="bigint")&&i!=="body"&&Di(t,""+a);break;case"className":Ls(t,"class",a);break;case"tabIndex":Ls(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ls(t,r,a);break;case"style":cf(t,a,g);break;case"data":if(i!=="object"){Ls(t,"data",a);break}case"src":case"href":if(a===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(r);break}a=Gs(""+a),t.setAttribute(r,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(i!=="input"&&De(t,i,"name",p.name,p,null),De(t,i,"formEncType",p.formEncType,p,null),De(t,i,"formMethod",p.formMethod,p,null),De(t,i,"formTarget",p.formTarget,p,null)):(De(t,i,"encType",p.encType,p,null),De(t,i,"method",p.method,p,null),De(t,i,"target",p.target,p,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(r);break}a=Gs(""+a),t.setAttribute(r,a);break;case"onClick":a!=null&&(t.onclick=sn);break;case"onScroll":a!=null&&ge("scroll",t);break;case"onScrollEnd":a!=null&&ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(r=a.__html,r!=null){if(p.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}r=Gs(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(r,""+a):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":a===!0?t.setAttribute(r,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(r,a):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(r,a):t.removeAttribute(r);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(r):t.setAttribute(r,a);break;case"popover":ge("beforetoggle",t),ge("toggle",t),ks(t,"popover",a);break;case"xlinkActuate":on(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":on(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":on(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":on(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":on(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":on(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":on(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":on(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":on(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ks(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Qv.get(r)||r,ks(t,r,a))}}function Cu(t,i,r,a,p,g){switch(r){case"style":cf(t,a,g);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(r=a.__html,r!=null){if(p.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof a=="string"?Di(t,a):(typeof a=="number"||typeof a=="bigint")&&Di(t,""+a);break;case"onScroll":a!=null&&ge("scroll",t);break;case"onScrollEnd":a!=null&&ge("scrollend",t);break;case"onClick":a!=null&&(t.onclick=sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ef.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(p=r.endsWith("Capture"),i=r.slice(2,p?r.length-7:void 0),g=t[ht]||null,g=g!=null?g[r]:null,typeof g=="function"&&t.removeEventListener(i,g,p),typeof a=="function")){typeof g!="function"&&g!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,a,p);break e}r in t?t[r]=a:a===!0?t.setAttribute(r,""):ks(t,r,a)}}}function st(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",t),ge("load",t);var a=!1,p=!1,g;for(g in r)if(r.hasOwnProperty(g)){var T=r[g];if(T!=null)switch(g){case"src":a=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:De(t,i,g,T,r,null)}}p&&De(t,i,"srcSet",r.srcSet,r,null),a&&De(t,i,"src",r.src,r,null);return;case"input":ge("invalid",t);var C=g=T=p=null,A=null,U=null;for(a in r)if(r.hasOwnProperty(a)){var G=r[a];if(G!=null)switch(a){case"name":p=G;break;case"type":T=G;break;case"checked":A=G;break;case"defaultChecked":U=G;break;case"value":g=G;break;case"defaultValue":C=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:De(t,i,a,G,r,null)}}rf(t,g,C,A,U,T,p,!1);return;case"select":ge("invalid",t),a=T=g=null;for(p in r)if(r.hasOwnProperty(p)&&(C=r[p],C!=null))switch(p){case"value":g=C;break;case"defaultValue":T=C;break;case"multiple":a=C;default:De(t,i,p,C,r,null)}i=g,r=T,t.multiple=!!a,i!=null?Ii(t,!!a,i,!1):r!=null&&Ii(t,!!a,r,!0);return;case"textarea":ge("invalid",t),g=p=a=null;for(T in r)if(r.hasOwnProperty(T)&&(C=r[T],C!=null))switch(T){case"value":a=C;break;case"defaultValue":p=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:De(t,i,T,C,r,null)}af(t,a,p,g);return;case"option":for(A in r)if(r.hasOwnProperty(A)&&(a=r[A],a!=null))switch(A){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:De(t,i,A,a,r,null)}return;case"dialog":ge("beforetoggle",t),ge("toggle",t),ge("cancel",t),ge("close",t);break;case"iframe":case"object":ge("load",t);break;case"video":case"audio":for(a=0;a<os.length;a++)ge(os[a],t);break;case"image":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"embed":case"source":case"link":ge("error",t),ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(a=r[U],a!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:De(t,i,U,a,r,null)}return;default:if(Pl(i)){for(G in r)r.hasOwnProperty(G)&&(a=r[G],a!==void 0&&Cu(t,i,G,a,r,void 0));return}}for(C in r)r.hasOwnProperty(C)&&(a=r[C],a!=null&&De(t,i,C,a,r,null))}function E_(t,i,r,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,T=null,C=null,A=null,U=null,G=null;for(L in r){var V=r[L];if(r.hasOwnProperty(L)&&V!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":A=V;default:a.hasOwnProperty(L)||De(t,i,L,null,a,V)}}for(var k in a){var L=a[k];if(V=r[k],a.hasOwnProperty(k)&&(L!=null||V!=null))switch(k){case"type":g=L;break;case"name":p=L;break;case"checked":U=L;break;case"defaultChecked":G=L;break;case"value":T=L;break;case"defaultValue":C=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,i));break;default:L!==V&&De(t,i,k,L,a,V)}}kl(t,T,C,A,U,G,g,p);return;case"select":L=T=C=k=null;for(g in r)if(A=r[g],r.hasOwnProperty(g)&&A!=null)switch(g){case"value":break;case"multiple":L=A;default:a.hasOwnProperty(g)||De(t,i,g,null,a,A)}for(p in a)if(g=a[p],A=r[p],a.hasOwnProperty(p)&&(g!=null||A!=null))switch(p){case"value":k=g;break;case"defaultValue":C=g;break;case"multiple":T=g;default:g!==A&&De(t,i,p,g,a,A)}i=C,r=T,a=L,k!=null?Ii(t,!!r,k,!1):!!a!=!!r&&(i!=null?Ii(t,!!r,i,!0):Ii(t,!!r,r?[]:"",!1));return;case"textarea":L=k=null;for(C in r)if(p=r[C],r.hasOwnProperty(C)&&p!=null&&!a.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:De(t,i,C,null,a,p)}for(T in a)if(p=a[T],g=r[T],a.hasOwnProperty(T)&&(p!=null||g!=null))switch(T){case"value":k=p;break;case"defaultValue":L=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==g&&De(t,i,T,p,a,g)}lf(t,k,L);return;case"option":for(var Z in r)if(k=r[Z],r.hasOwnProperty(Z)&&k!=null&&!a.hasOwnProperty(Z))switch(Z){case"selected":t.selected=!1;break;default:De(t,i,Z,null,a,k)}for(A in a)if(k=a[A],L=r[A],a.hasOwnProperty(A)&&k!==L&&(k!=null||L!=null))switch(A){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:De(t,i,A,k,a,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in r)k=r[se],r.hasOwnProperty(se)&&k!=null&&!a.hasOwnProperty(se)&&De(t,i,se,null,a,k);for(U in a)if(k=a[U],L=r[U],a.hasOwnProperty(U)&&k!==L&&(k!=null||L!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,i));break;default:De(t,i,U,k,a,L)}return;default:if(Pl(i)){for(var Ue in r)k=r[Ue],r.hasOwnProperty(Ue)&&k!==void 0&&!a.hasOwnProperty(Ue)&&Cu(t,i,Ue,void 0,a,k);for(G in a)k=a[G],L=r[G],!a.hasOwnProperty(G)||k===L||k===void 0&&L===void 0||Cu(t,i,G,k,a,L);return}}for(var M in r)k=r[M],r.hasOwnProperty(M)&&k!=null&&!a.hasOwnProperty(M)&&De(t,i,M,null,a,k);for(V in a)k=a[V],L=r[V],!a.hasOwnProperty(V)||k===L||k==null&&L==null||De(t,i,V,k,a,L)}function fh(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function A_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,r=performance.getEntriesByType("resource"),a=0;a<r.length;a++){var p=r[a],g=p.transferSize,T=p.initiatorType,C=p.duration;if(g&&C&&fh(T)){for(T=0,C=p.responseEnd,a+=1;a<r.length;a++){var A=r[a],U=A.startTime;if(U>C)break;var G=A.transferSize,V=A.initiatorType;G&&fh(V)&&(A=A.responseEnd,T+=G*(A<C?1:(C-U)/(A-U)))}if(--a,i+=8*(g+T)/(p.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Eu=null,Au=null;function Ur(t){return t.nodeType===9?t:t.ownerDocument}function dh(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ph(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ru(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xu=null;function R_(){var t=window.event;return t&&t.type==="popstate"?t===xu?!1:(xu=t,!0):(xu=null,!1)}var hh=typeof setTimeout=="function"?setTimeout:void 0,x_=typeof clearTimeout=="function"?clearTimeout:void 0,mh=typeof Promise=="function"?Promise:void 0,b_=typeof queueMicrotask=="function"?queueMicrotask:typeof mh<"u"?function(t){return mh.resolve(null).then(t).catch(M_)}:hh;function M_(t){setTimeout(function(){throw t})}function Jn(t){return t==="head"}function gh(t,i){var r=i,a=0;do{var p=r.nextSibling;if(t.removeChild(r),p&&p.nodeType===8)if(r=p.data,r==="/$"||r==="/&"){if(a===0){t.removeChild(p),ao(i);return}a--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")a++;else if(r==="html")rs(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,rs(r);for(var g=r.firstChild;g;){var T=g.nextSibling,C=g.nodeName;g[Ao]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=T}}else r==="body"&&rs(t.ownerDocument.body);r=p}while(r);ao(i)}function yh(t,i){var r=t;t=0;do{var a=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=a}while(r)}function bu(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":bu(r),Ul(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function N_(t,i,r,a){for(;t.nodeType===1;){var p=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Ao])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=Vt(t.nextSibling),t===null)break}return null}function I_(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Vt(t.nextSibling),t===null))return null;return t}function vh(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Vt(t.nextSibling),t===null))return null;return t}function Mu(t){return t.data==="$?"||t.data==="$~"}function Nu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function D_(t,i){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||r.readyState!=="loading")i();else{var a=function(){i(),r.removeEventListener("DOMContentLoaded",a)};r.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Vt(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Iu=null;function _h(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(i===0)return Vt(t.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}t=t.nextSibling}return null}function Th(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return t;i--}else r!=="/$"&&r!=="/&"||i++}t=t.previousSibling}return null}function Sh(t,i,r){switch(i=Ur(r),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function rs(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ul(t)}var zt=new Map,Ch=new Set;function wr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Sn=K.d;K.d={f:U_,r:w_,D:k_,C:L_,L:P_,m:G_,X:H_,S:O_,M:V_};function U_(){var t=Sn.f(),i=Ar();return t||i}function w_(t){var i=bi(t);i!==null&&i.tag===5&&i.type==="form"?Hd(i):Sn.r(t)}var so=typeof document>"u"?null:document;function Eh(t,i,r){var a=so;if(a&&typeof i=="string"&&i){var p=wt(i);p='link[rel="'+t+'"][href="'+p+'"]',typeof r=="string"&&(p+='[crossorigin="'+r+'"]'),Ch.has(p)||(Ch.add(p),t={rel:t,crossOrigin:r,href:i},a.querySelector(p)===null&&(i=a.createElement("link"),st(i,"link",t),Ze(i),a.head.appendChild(i)))}}function k_(t){Sn.D(t),Eh("dns-prefetch",t,null)}function L_(t,i){Sn.C(t,i),Eh("preconnect",t,i)}function P_(t,i,r){Sn.L(t,i,r);var a=so;if(a&&t&&i){var p='link[rel="preload"][as="'+wt(i)+'"]';i==="image"&&r&&r.imageSrcSet?(p+='[imagesrcset="'+wt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(p+='[imagesizes="'+wt(r.imageSizes)+'"]')):p+='[href="'+wt(t)+'"]';var g=p;switch(i){case"style":g=ro(t);break;case"script":g=lo(t)}zt.has(g)||(t=_({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),zt.set(g,t),a.querySelector(p)!==null||i==="style"&&a.querySelector(ls(g))||i==="script"&&a.querySelector(as(g))||(i=a.createElement("link"),st(i,"link",t),Ze(i),a.head.appendChild(i)))}}function G_(t,i){Sn.m(t,i);var r=so;if(r&&t){var a=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+wt(a)+'"][href="'+wt(t)+'"]',g=p;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=lo(t)}if(!zt.has(g)&&(t=_({rel:"modulepreload",href:t},i),zt.set(g,t),r.querySelector(p)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(as(g)))return}a=r.createElement("link"),st(a,"link",t),Ze(a),r.head.appendChild(a)}}}function O_(t,i,r){Sn.S(t,i,r);var a=so;if(a&&t){var p=Mi(a).hoistableStyles,g=ro(t);i=i||"default";var T=p.get(g);if(!T){var C={loading:0,preload:null};if(T=a.querySelector(ls(g)))C.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":i},r),(r=zt.get(g))&&Du(t,r);var A=T=a.createElement("link");Ze(A),st(A,"link",t),A._p=new Promise(function(U,G){A.onload=U,A.onerror=G}),A.addEventListener("load",function(){C.loading|=1}),A.addEventListener("error",function(){C.loading|=2}),C.loading|=4,kr(T,i,a)}T={type:"stylesheet",instance:T,count:1,state:C},p.set(g,T)}}}function H_(t,i){Sn.X(t,i);var r=so;if(r&&t){var a=Mi(r).hoistableScripts,p=lo(t),g=a.get(p);g||(g=r.querySelector(as(p)),g||(t=_({src:t,async:!0},i),(i=zt.get(p))&&Uu(t,i),g=r.createElement("script"),Ze(g),st(g,"link",t),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},a.set(p,g))}}function V_(t,i){Sn.M(t,i);var r=so;if(r&&t){var a=Mi(r).hoistableScripts,p=lo(t),g=a.get(p);g||(g=r.querySelector(as(p)),g||(t=_({src:t,async:!0,type:"module"},i),(i=zt.get(p))&&Uu(t,i),g=r.createElement("script"),Ze(g),st(g,"link",t),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},a.set(p,g))}}function Ah(t,i,r,a){var p=(p=he.current)?wr(p):null;if(!p)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=ro(r.href),r=Mi(p).hoistableStyles,a=r.get(i),a||(a={type:"style",instance:null,count:0,state:null},r.set(i,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ro(r.href);var g=Mi(p).hoistableStyles,T=g.get(t);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,T),(g=p.querySelector(ls(t)))&&!g._p&&(T.instance=g,T.state.loading=5),zt.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},zt.set(t,r),g||z_(p,t,r,T.state))),i&&a===null)throw Error(s(528,""));return T}if(i&&a!==null)throw Error(s(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=lo(r),r=Mi(p).hoistableScripts,a=r.get(i),a||(a={type:"script",instance:null,count:0,state:null},r.set(i,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ro(t){return'href="'+wt(t)+'"'}function ls(t){return'link[rel="stylesheet"]['+t+"]"}function Rh(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function z_(t,i,r,a){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?a.loading=1:(i=t.createElement("link"),a.preload=i,i.addEventListener("load",function(){return a.loading|=1}),i.addEventListener("error",function(){return a.loading|=2}),st(i,"link",r),Ze(i),t.head.appendChild(i))}function lo(t){return'[src="'+wt(t)+'"]'}function as(t){return"script[async]"+t}function xh(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var a=t.querySelector('style[data-href~="'+wt(r.href)+'"]');if(a)return i.instance=a,Ze(a),a;var p=_({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),Ze(a),st(a,"style",p),kr(a,r.precedence,t),i.instance=a;case"stylesheet":p=ro(r.href);var g=t.querySelector(ls(p));if(g)return i.state.loading|=4,i.instance=g,Ze(g),g;a=Rh(r),(p=zt.get(p))&&Du(a,p),g=(t.ownerDocument||t).createElement("link"),Ze(g);var T=g;return T._p=new Promise(function(C,A){T.onload=C,T.onerror=A}),st(g,"link",a),i.state.loading|=4,kr(g,r.precedence,t),i.instance=g;case"script":return g=lo(r.src),(p=t.querySelector(as(g)))?(i.instance=p,Ze(p),p):(a=r,(p=zt.get(g))&&(a=_({},r),Uu(a,p)),t=t.ownerDocument||t,p=t.createElement("script"),Ze(p),st(p,"link",a),t.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(a=i.instance,i.state.loading|=4,kr(a,r.precedence,t));return i.instance}function kr(t,i,r){for(var a=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=a.length?a[a.length-1]:null,g=p,T=0;T<a.length;T++){var C=a[T];if(C.dataset.precedence===i)g=C;else if(g!==p)break}g?g.parentNode.insertBefore(t,g.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function Du(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Uu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Lr=null;function bh(t,i,r){if(Lr===null){var a=new Map,p=Lr=new Map;p.set(r,a)}else p=Lr,a=p.get(r),a||(a=new Map,p.set(r,a));if(a.has(t))return a;for(a.set(t,null),r=r.getElementsByTagName(t),p=0;p<r.length;p++){var g=r[p];if(!(g[Ao]||g[tt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(i)||"";T=t+T;var C=a.get(T);C?C.push(g):a.set(T,[g])}}return a}function Mh(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function B_(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Nh(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function q_(t,i,r,a){if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=ro(a.href),g=i.querySelector(ls(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Pr.bind(t),i.then(t,t)),r.state.loading|=4,r.instance=g,Ze(g);return}g=i.ownerDocument||i,a=Rh(a),(p=zt.get(p))&&Du(a,p),g=g.createElement("link"),Ze(g);var T=g;T._p=new Promise(function(C,A){T.onload=C,T.onerror=A}),st(g,"link",a),r.instance=g}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Pr.bind(t),i.addEventListener("load",r),i.addEventListener("error",r))}}var wu=0;function F_(t,i){return t.stylesheets&&t.count===0&&Or(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var a=setTimeout(function(){if(t.stylesheets&&Or(t,t.stylesheets),t.unsuspend){var g=t.unsuspend;t.unsuspend=null,g()}},6e4+i);0<t.imgBytes&&wu===0&&(wu=62500*A_());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Or(t,t.stylesheets),t.unsuspend)){var g=t.unsuspend;t.unsuspend=null,g()}},(t.imgBytes>wu?50:800)+i);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(p)}}:null}function Pr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Or(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gr=null;function Or(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gr=new Map,i.forEach(J_,t),Gr=null,Pr.call(t))}function J_(t,i){if(!(i.state.loading&4)){var r=Gr.get(t);if(r)var a=r.get(null);else{r=new Map,Gr.set(t,r);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var T=p[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(r.set(T.dataset.precedence,T),a=T)}a&&r.set(null,a)}p=i.instance,T=p.getAttribute("data-precedence"),g=r.get(T)||a,g===a&&r.set(null,p),r.set(T,p),this.count++,a=Pr.bind(this),p.addEventListener("load",a),p.addEventListener("error",a),g?g.parentNode.insertBefore(p,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),i.state.loading|=4}}var us={$$typeof:q,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Y_(t,i,r,a,p,g,T,C,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ml(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ml(0),this.hiddenUpdates=Ml(null),this.identifierPrefix=a,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Ih(t,i,r,a,p,g,T,C,A,U,G,V){return t=new Y_(t,i,r,T,A,U,G,V,C),i=1,g===!0&&(i|=24),g=xt(3,null,null,i),t.current=g,g.stateNode=t,i=da(),i.refCount++,t.pooledCache=i,i.refCount++,g.memoizedState={element:a,isDehydrated:r,cache:i},ga(g),t}function Dh(t){return t?(t=Oi,t):Oi}function Uh(t,i,r,a,p,g){p=Dh(p),a.context===null?a.context=p:a.pendingContext=p,a=kn(i),a.payload={element:r},g=g===void 0?null:g,g!==null&&(a.callback=g),r=Ln(t,a,i),r!==null&&(Tt(r,t,i),zo(r,t,i))}function wh(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function ku(t,i){wh(t,i),(t=t.alternate)&&wh(t,i)}function kh(t){if(t.tag===13||t.tag===31){var i=ri(t,67108864);i!==null&&Tt(i,t,67108864),ku(t,67108864)}}function Lh(t){if(t.tag===13||t.tag===31){var i=Dt();i=Nl(i);var r=ri(t,i);r!==null&&Tt(r,t,i),ku(t,i)}}var Hr=!0;function K_(t,i,r,a){var p=P.T;P.T=null;var g=K.p;try{K.p=2,Lu(t,i,r,a)}finally{K.p=g,P.T=p}}function $_(t,i,r,a){var p=P.T;P.T=null;var g=K.p;try{K.p=8,Lu(t,i,r,a)}finally{K.p=g,P.T=p}}function Lu(t,i,r,a){if(Hr){var p=Pu(a);if(p===null)Su(t,i,a,Vr,r),Gh(t,a);else if(Q_(p,t,i,r,a))a.stopPropagation();else if(Gh(t,a),i&4&&-1<X_.indexOf(t)){for(;p!==null;){var g=bi(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ti(g.pendingLanes);if(T!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var A=1<<31-At(T);C.entanglements[1]|=A,T&=~A}jt(g),(xe&6)===0&&(Cr=Ct()+500,is(0))}}break;case 31:case 13:C=ri(g,2),C!==null&&Tt(C,g,2),Ar(),ku(g,2)}if(g=Pu(a),g===null&&Su(t,i,a,Vr,r),g===p)break;p=g}p!==null&&a.stopPropagation()}else Su(t,i,a,null,r)}}function Pu(t){return t=Ol(t),Gu(t)}var Vr=null;function Gu(t){if(Vr=null,t=xi(t),t!==null){var i=u(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=f(i),t!==null)return t;t=null}else if(r===31){if(t=h(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Vr=t,null}function Ph(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kv()){case qc:return 2;case Fc:return 8;case Ns:case Lv:return 32;case Jc:return 268435456;default:return 32}default:return 32}}var Ou=!1,Yn=null,Kn=null,$n=null,cs=new Map,fs=new Map,Xn=[],X_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gh(t,i){switch(t){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":cs.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fs.delete(i.pointerId)}}function ds(t,i,r,a,p,g){return t===null||t.nativeEvent!==g?(t={blockedOn:i,domEventName:r,eventSystemFlags:a,nativeEvent:g,targetContainers:[p]},i!==null&&(i=bi(i),i!==null&&kh(i)),t):(t.eventSystemFlags|=a,i=t.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),t)}function Q_(t,i,r,a,p){switch(i){case"focusin":return Yn=ds(Yn,t,i,r,a,p),!0;case"dragenter":return Kn=ds(Kn,t,i,r,a,p),!0;case"mouseover":return $n=ds($n,t,i,r,a,p),!0;case"pointerover":var g=p.pointerId;return cs.set(g,ds(cs.get(g)||null,t,i,r,a,p)),!0;case"gotpointercapture":return g=p.pointerId,fs.set(g,ds(fs.get(g)||null,t,i,r,a,p)),!0}return!1}function Oh(t){var i=xi(t.target);if(i!==null){var r=u(i);if(r!==null){if(i=r.tag,i===13){if(i=f(r),i!==null){t.blockedOn=i,Zc(t.priority,function(){Lh(r)});return}}else if(i===31){if(i=h(r),i!==null){t.blockedOn=i,Zc(t.priority,function(){Lh(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zr(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=Pu(t.nativeEvent);if(r===null){r=t.nativeEvent;var a=new r.constructor(r.type,r);Gl=a,r.target.dispatchEvent(a),Gl=null}else return i=bi(r),i!==null&&kh(i),t.blockedOn=r,!1;i.shift()}return!0}function Hh(t,i,r){zr(t)&&r.delete(i)}function Z_(){Ou=!1,Yn!==null&&zr(Yn)&&(Yn=null),Kn!==null&&zr(Kn)&&(Kn=null),$n!==null&&zr($n)&&($n=null),cs.forEach(Hh),fs.forEach(Hh)}function Br(t,i){t.blockedOn===i&&(t.blockedOn=null,Ou||(Ou=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Z_)))}var qr=null;function Vh(t){qr!==t&&(qr=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){qr===t&&(qr=null);for(var i=0;i<t.length;i+=3){var r=t[i],a=t[i+1],p=t[i+2];if(typeof a!="function"){if(Gu(a||r)===null)continue;break}var g=bi(r);g!==null&&(t.splice(i,3),i-=3,Pa(g,{pending:!0,data:p,method:r.method,action:a},a,p))}}))}function ao(t){function i(A){return Br(A,t)}Yn!==null&&Br(Yn,t),Kn!==null&&Br(Kn,t),$n!==null&&Br($n,t),cs.forEach(i),fs.forEach(i);for(var r=0;r<Xn.length;r++){var a=Xn[r];a.blockedOn===t&&(a.blockedOn=null)}for(;0<Xn.length&&(r=Xn[0],r.blockedOn===null);)Oh(r),r.blockedOn===null&&Xn.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(a=0;a<r.length;a+=3){var p=r[a],g=r[a+1],T=p[ht]||null;if(typeof g=="function")T||Vh(r);else if(T){var C=null;if(g&&g.hasAttribute("formAction")){if(p=g,T=g[ht]||null)C=T.formAction;else if(Gu(p)!==null)continue}else C=T.action;typeof C=="function"?r[a+1]=C:(r.splice(a,3),a-=3),Vh(r)}}}function zh(){function t(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),a||setTimeout(r,20)}function r(){if(!a&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function Hu(t){this._internalRoot=t}Fr.prototype.render=Hu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var r=i.current,a=Dt();Uh(r,a,t,i,null,null)},Fr.prototype.unmount=Hu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Uh(t.current,2,null,t,null,null),Ar(),i[Ri]=null}};function Fr(t){this._internalRoot=t}Fr.prototype.unstable_scheduleHydration=function(t){if(t){var i=Qc();t={blockedOn:null,target:t,priority:i};for(var r=0;r<Xn.length&&i!==0&&i<Xn[r].priority;r++);Xn.splice(r,0,t),r===0&&Oh(t)}};var Bh=e.version;if(Bh!=="19.2.4")throw Error(s(527,Bh,"19.2.4"));K.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var W_={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jr.isDisabled&&Jr.supportsFiber)try{So=Jr.inject(W_),Et=Jr}catch{}}return ms.createRoot=function(t,i){if(!l(t))throw Error(s(299));var r=!1,a="",p=Xd,g=Qd,T=Zd;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=Ih(t,1,!1,null,null,r,a,null,p,g,T,zh),t[Ri]=i.current,Tu(t),new Hu(i)},ms.hydrateRoot=function(t,i,r){if(!l(t))throw Error(s(299));var a=!1,p="",g=Xd,T=Qd,C=Zd,A=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(p=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(T=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.formState!==void 0&&(A=r.formState)),i=Ih(t,1,!0,i,r??null,a,p,A,g,T,C,zh),i.context=Dh(null),r=i.current,a=Dt(),a=Nl(a),p=kn(a),p.callback=null,Ln(r,p,a),r=a,i.current.lanes=r,Eo(i,r),jt(i),t[Ri]=i.current,Tu(t),new Fr(i)},ms.version="19.2.4",ms}var Wh;function fT(){if(Wh)return Bu.exports;Wh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bu.exports=cT(),Bu.exports}var dT=fT();const pT=Rc(dT);class hT{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const o of this._parts)e.push(o);return mT(e).buffer}}function mT(n){let e=0;for(const l of n)e+=l.byteLength;const o=new Uint8Array(e);let s=0;for(const l of n){const u=new Uint8Array(l.buffer,l.byteOffset,l.byteLength);o.set(u,s),s+=l.byteLength}return o}function Kg(n){return new gT(n).unpack()}function $g(n){const e=new yT,o=e.pack(n);return o instanceof Promise?o.then(()=>e.getBuffer()):e.getBuffer()}class gT{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let o;if((o=e^160)<=15)return this.unpack_raw(o);if((o=e^176)<=15)return this.unpack_string(o);if((o=e^144)<=15)return this.unpack_array(o);if((o=e^128)<=15)return this.unpack_map(o);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return o=this.unpack_uint16(),this.unpack_string(o);case 217:return o=this.unpack_uint32(),this.unpack_string(o);case 218:return o=this.unpack_uint16(),this.unpack_raw(o);case 219:return o=this.unpack_uint32(),this.unpack_raw(o);case 220:return o=this.unpack_uint16(),this.unpack_array(o);case 221:return o=this.unpack_uint32(),this.unpack_array(o);case 222:return o=this.unpack_uint16(),this.unpack_map(o);case 223:return o=this.unpack_uint32(),this.unpack_map(o)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),o=(e[0]&255)*256+(e[1]&255);return this.index+=2,o}unpack_uint32(){const e=this.read(4),o=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,o}unpack_uint64(){const e=this.read(8),o=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,o}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const o=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,o}unpack_string(e){const o=this.read(e);let s=0,l="",u,f;for(;s<e;)u=o[s],u<160?(f=u,s++):(u^192)<32?(f=(u&31)<<6|o[s+1]&63,s+=2):(u^224)<16?(f=(u&15)<<12|(o[s+1]&63)<<6|o[s+2]&63,s+=3):(f=(u&7)<<18|(o[s+1]&63)<<12|(o[s+2]&63)<<6|o[s+3]&63,s+=4),l+=String.fromCodePoint(f);return this.index+=e,l}unpack_array(e){const o=new Array(e);for(let s=0;s<e;s++)o[s]=this.unpack();return o}unpack_map(e){const o={};for(let s=0;s<e;s++){const l=this.unpack();o[l]=this.unpack()}return o}unpack_float(){const e=this.unpack_uint32(),o=e>>31,s=(e>>23&255)-127,l=e&8388607|8388608;return(o===0?1:-1)*l*2**(s-23)}unpack_double(){const e=this.unpack_uint32(),o=this.unpack_uint32(),s=e>>31,l=(e>>20&2047)-1023,f=(e&1048575|1048576)*2**(l-20)+o*2**(l-52);return(s===0?1:-1)*f}read(e){const o=this.index;if(o+e<=this.length)return this.dataView.subarray(o,o+e);throw new Error("BinaryPackFailure: read index out of range")}}class yT{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const o=e.constructor;if(e instanceof Array){const s=this.pack_array(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const s=e;this.pack_bin(new Uint8Array(s.buffer,s.byteOffset,s.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(s=>{this.pack_bin(new Uint8Array(s)),this._bufferBuilder.flush()});if(o==Object||o.toString().startsWith("class")){const s=this.pack_object(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${o.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const o=e.length;if(o<=15)this.pack_uint8(160+o);else if(o<=65535)this._bufferBuilder.append(218),this.pack_uint16(o);else if(o<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(o);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const o=this._textEncoder.encode(e),s=o.length;if(s<=15)this.pack_uint8(176+s);else if(s<=65535)this._bufferBuilder.append(216),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(s);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(o)}pack_array(e){const o=e.length;if(o<=15)this.pack_uint8(144+o);else if(o<=65535)this._bufferBuilder.append(220),this.pack_uint16(o);else if(o<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(o);else throw new Error("Invalid length");const s=l=>{if(l<o){const u=this.pack(e[l]);return u instanceof Promise?u.then(()=>s(l+1)):s(l+1)}};return s(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let o=0;e<0&&(o=1,e=-e);const s=Math.floor(Math.log(e)/Math.LN2),l=e/2**s-1,u=Math.floor(l*2**52),f=2**32,h=o<<31|s+1023<<20|u/f&1048575,y=u%f;this._bufferBuilder.append(203),this.pack_int32(h),this.pack_int32(y)}pack_object(e){const o=Object.keys(e),s=o.length;if(s<=15)this.pack_uint8(128+s);else if(s<=65535)this._bufferBuilder.append(222),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(s);else throw new Error("Invalid length");const l=u=>{if(u<o.length){const f=o[u];if(e.hasOwnProperty(f)){this.pack(f);const h=this.pack(e[f]);if(h instanceof Promise)return h.then(()=>l(u+1))}return l(u+1)}};return l(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const o=e&4294967295;this._bufferBuilder.append((o&4278190080)>>>24),this._bufferBuilder.append((o&16711680)>>>16),this._bufferBuilder.append((o&65280)>>>8),this._bufferBuilder.append(o&255)}pack_uint64(e){const o=e/4294967296,s=e%2**32;this._bufferBuilder.append((o&4278190080)>>>24),this._bufferBuilder.append((o&16711680)>>>16),this._bufferBuilder.append((o&65280)>>>8),this._bufferBuilder.append(o&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const o=Math.floor(e/4294967296),s=e%2**32;this._bufferBuilder.append((o&4278190080)>>>24),this._bufferBuilder.append((o&16711680)>>>16),this._bufferBuilder.append((o&65280)>>>8),this._bufferBuilder.append(o&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}constructor(){this._bufferBuilder=new hT,this._textEncoder=new TextEncoder}}let Xg=!0,Qg=!0;function _s(n,e,o){const s=n.match(e);return s&&s.length>=o&&parseFloat(s[o],10)}function Si(n,e,o){if(!n.RTCPeerConnection)return;const s=n.RTCPeerConnection.prototype,l=s.addEventListener;s.addEventListener=function(f,h){if(f!==e)return l.apply(this,arguments);const y=m=>{const v=o(m);v&&(h.handleEvent?h.handleEvent(v):h(v))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(h,y),l.apply(this,[f,y])};const u=s.removeEventListener;s.removeEventListener=function(f,h){if(f!==e||!this._eventMap||!this._eventMap[e])return u.apply(this,arguments);if(!this._eventMap[e].has(h))return u.apply(this,arguments);const y=this._eventMap[e].get(h);return this._eventMap[e].delete(h),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,u.apply(this,[f,y])},Object.defineProperty(s,"on"+e,{get(){return this["_on"+e]},set(f){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),f&&this.addEventListener(e,this["_on"+e]=f)},enumerable:!0,configurable:!0})}function vT(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):(Xg=n,n?"adapter.js logging disabled":"adapter.js logging enabled")}function _T(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):(Qg=!n,"adapter.js deprecation warnings "+(n?"disabled":"enabled"))}function Zg(){if(typeof window=="object"){if(Xg)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function bc(n,e){Qg&&console.warn(n+" is deprecated, please use "+e+" instead.")}function TT(n){const e={browser:null,version:null};if(typeof n>"u"||!n.navigator||!n.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:o}=n;if(o.userAgentData&&o.userAgentData.brands){const s=o.userAgentData.brands.find(l=>l.brand==="Chromium");if(s)return{browser:"chrome",version:parseInt(s.version,10)}}if(o.mozGetUserMedia)e.browser="firefox",e.version=parseInt(_s(o.userAgent,/Firefox\/(\d+)\./,1));else if(o.webkitGetUserMedia||n.isSecureContext===!1&&n.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(_s(o.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(n.RTCPeerConnection&&o.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(_s(o.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=n.RTCRtpTransceiver&&"currentDirection"in n.RTCRtpTransceiver.prototype,e._safariVersion=_s(o.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function jh(n){return Object.prototype.toString.call(n)==="[object Object]"}function Wg(n){return jh(n)?Object.keys(n).reduce(function(e,o){const s=jh(n[o]),l=s?Wg(n[o]):n[o],u=s&&!Object.keys(l).length;return l===void 0||u?e:Object.assign(e,{[o]:l})},{}):n}function ju(n,e,o){!e||o.has(e.id)||(o.set(e.id,e),Object.keys(e).forEach(s=>{s.endsWith("Id")?ju(n,n.get(e[s]),o):s.endsWith("Ids")&&e[s].forEach(l=>{ju(n,n.get(l),o)})}))}function em(n,e,o){const s=o?"outbound-rtp":"inbound-rtp",l=new Map;if(e===null)return l;const u=[];return n.forEach(f=>{f.type==="track"&&f.trackIdentifier===e.id&&u.push(f)}),u.forEach(f=>{n.forEach(h=>{h.type===s&&h.trackId===f.id&&ju(n,h,l)})}),l}const tm=Zg;function jg(n,e){const o=n&&n.navigator;if(!o.mediaDevices)return;const s=function(h){if(typeof h!="object"||h.mandatory||h.optional)return h;const y={};return Object.keys(h).forEach(m=>{if(m==="require"||m==="advanced"||m==="mediaSource")return;const v=typeof h[m]=="object"?h[m]:{ideal:h[m]};v.exact!==void 0&&typeof v.exact=="number"&&(v.min=v.max=v.exact);const _=function(S,E){return S?S+E.charAt(0).toUpperCase()+E.slice(1):E==="deviceId"?"sourceId":E};if(v.ideal!==void 0){y.optional=y.optional||[];let S={};typeof v.ideal=="number"?(S[_("min",m)]=v.ideal,y.optional.push(S),S={},S[_("max",m)]=v.ideal,y.optional.push(S)):(S[_("",m)]=v.ideal,y.optional.push(S))}v.exact!==void 0&&typeof v.exact!="number"?(y.mandatory=y.mandatory||{},y.mandatory[_("",m)]=v.exact):["min","max"].forEach(S=>{v[S]!==void 0&&(y.mandatory=y.mandatory||{},y.mandatory[_(S,m)]=v[S])})}),h.advanced&&(y.optional=(y.optional||[]).concat(h.advanced)),y},l=function(h,y){if(e.version>=61)return y(h);if(h=JSON.parse(JSON.stringify(h)),h&&typeof h.audio=="object"){const m=function(v,_,S){_ in v&&!(S in v)&&(v[S]=v[_],delete v[_])};h=JSON.parse(JSON.stringify(h)),m(h.audio,"autoGainControl","googAutoGainControl"),m(h.audio,"noiseSuppression","googNoiseSuppression"),h.audio=s(h.audio)}if(h&&typeof h.video=="object"){let m=h.video.facingMode;m=m&&(typeof m=="object"?m:{ideal:m});const v=e.version<66;if(m&&(m.exact==="user"||m.exact==="environment"||m.ideal==="user"||m.ideal==="environment")&&!(o.mediaDevices.getSupportedConstraints&&o.mediaDevices.getSupportedConstraints().facingMode&&!v)){delete h.video.facingMode;let _;if(m.exact==="environment"||m.ideal==="environment"?_=["back","rear"]:(m.exact==="user"||m.ideal==="user")&&(_=["front"]),_)return o.mediaDevices.enumerateDevices().then(S=>{S=S.filter(b=>b.kind==="videoinput");let E=S.find(b=>_.some(w=>b.label.toLowerCase().includes(w)));return!E&&S.length&&_.includes("back")&&(E=S[S.length-1]),E&&(h.video.deviceId=m.exact?{exact:E.deviceId}:{ideal:E.deviceId}),h.video=s(h.video),tm("chrome: "+JSON.stringify(h)),y(h)})}h.video=s(h.video)}return tm("chrome: "+JSON.stringify(h)),y(h)},u=function(h){return e.version>=64?h:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[h.name]||h.name,message:h.message,constraint:h.constraint||h.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},f=function(h,y,m){l(h,v=>{o.webkitGetUserMedia(v,y,_=>{m&&m(u(_))})})};if(o.getUserMedia=f.bind(o),o.mediaDevices.getUserMedia){const h=o.mediaDevices.getUserMedia.bind(o.mediaDevices);o.mediaDevices.getUserMedia=function(y){return l(y,m=>h(m).then(v=>{if(m.audio&&!v.getAudioTracks().length||m.video&&!v.getVideoTracks().length)throw v.getTracks().forEach(_=>{_.stop()}),new DOMException("","NotFoundError");return v},v=>Promise.reject(u(v))))}}}function ey(n){n.MediaStream=n.MediaStream||n.webkitMediaStream}function ty(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("ontrack"in n.RTCPeerConnection.prototype)){Object.defineProperty(n.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(o){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=o)},enumerable:!0,configurable:!0});const e=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=s=>{s.stream.addEventListener("addtrack",l=>{let u;n.RTCPeerConnection.prototype.getReceivers?u=this.getReceivers().find(h=>h.track&&h.track.id===l.track.id):u={track:l.track};const f=new Event("track");f.track=l.track,f.receiver=u,f.transceiver={receiver:u},f.streams=[s.stream],this.dispatchEvent(f)}),s.stream.getTracks().forEach(l=>{let u;n.RTCPeerConnection.prototype.getReceivers?u=this.getReceivers().find(h=>h.track&&h.track.id===l.id):u={track:l};const f=new Event("track");f.track=l,f.receiver=u,f.transceiver={receiver:u},f.streams=[s.stream],this.dispatchEvent(f)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else Si(n,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function ny(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("getSenders"in n.RTCPeerConnection.prototype)&&"createDTMFSender"in n.RTCPeerConnection.prototype){const e=function(l,u){return{track:u,get dtmf(){return this._dtmf===void 0&&(u.kind==="audio"?this._dtmf=l.createDTMFSender(u):this._dtmf=null),this._dtmf},_pc:l}};if(!n.RTCPeerConnection.prototype.getSenders){n.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const l=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(h,y){let m=l.apply(this,arguments);return m||(m=e(this,h),this._senders.push(m)),m};const u=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(h){u.apply(this,arguments);const y=this._senders.indexOf(h);y!==-1&&this._senders.splice(y,1)}}const o=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(u){this._senders=this._senders||[],o.apply(this,[u]),u.getTracks().forEach(f=>{this._senders.push(e(this,f))})};const s=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(u){this._senders=this._senders||[],s.apply(this,[u]),u.getTracks().forEach(f=>{const h=this._senders.find(y=>y.track===f);h&&this._senders.splice(this._senders.indexOf(h),1)})}}else if(typeof n=="object"&&n.RTCPeerConnection&&"getSenders"in n.RTCPeerConnection.prototype&&"createDTMFSender"in n.RTCPeerConnection.prototype&&n.RTCRtpSender&&!("dtmf"in n.RTCRtpSender.prototype)){const e=n.RTCPeerConnection.prototype.getSenders;n.RTCPeerConnection.prototype.getSenders=function(){const s=e.apply(this,[]);return s.forEach(l=>l._pc=this),s},Object.defineProperty(n.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function iy(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender&&n.RTCRtpReceiver))return;if(!("getStats"in n.RTCRtpSender.prototype)){const o=n.RTCPeerConnection.prototype.getSenders;o&&(n.RTCPeerConnection.prototype.getSenders=function(){const u=o.apply(this,[]);return u.forEach(f=>f._pc=this),u});const s=n.RTCPeerConnection.prototype.addTrack;s&&(n.RTCPeerConnection.prototype.addTrack=function(){const u=s.apply(this,arguments);return u._pc=this,u}),n.RTCRtpSender.prototype.getStats=function(){const u=this;return this._pc.getStats().then(f=>em(f,u.track,!0))}}if(!("getStats"in n.RTCRtpReceiver.prototype)){const o=n.RTCPeerConnection.prototype.getReceivers;o&&(n.RTCPeerConnection.prototype.getReceivers=function(){const l=o.apply(this,[]);return l.forEach(u=>u._pc=this),l}),Si(n,"track",s=>(s.receiver._pc=s.srcElement,s)),n.RTCRtpReceiver.prototype.getStats=function(){const l=this;return this._pc.getStats().then(u=>em(u,l.track,!1))}}if(!("getStats"in n.RTCRtpSender.prototype&&"getStats"in n.RTCRtpReceiver.prototype))return;const e=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof n.MediaStreamTrack){const s=arguments[0];let l,u,f;return this.getSenders().forEach(h=>{h.track===s&&(l?f=!0:l=h)}),this.getReceivers().forEach(h=>(h.track===s&&(u?f=!0:u=h),h.track===s)),f||l&&u?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):l?l.getStats():u?u.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function oy(n){n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(f=>this._shimmedLocalStreams[f][0])};const e=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(f,h){if(!h)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const y=e.apply(this,arguments);return this._shimmedLocalStreams[h.id]?this._shimmedLocalStreams[h.id].indexOf(y)===-1&&this._shimmedLocalStreams[h.id].push(y):this._shimmedLocalStreams[h.id]=[h,y],y};const o=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(f){this._shimmedLocalStreams=this._shimmedLocalStreams||{},f.getTracks().forEach(m=>{if(this.getSenders().find(_=>_.track===m))throw new DOMException("Track already exists.","InvalidAccessError")});const h=this.getSenders();o.apply(this,arguments);const y=this.getSenders().filter(m=>h.indexOf(m)===-1);this._shimmedLocalStreams[f.id]=[f].concat(y)};const s=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(f){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[f.id],s.apply(this,arguments)};const l=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(f){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},f&&Object.keys(this._shimmedLocalStreams).forEach(h=>{const y=this._shimmedLocalStreams[h].indexOf(f);y!==-1&&this._shimmedLocalStreams[h].splice(y,1),this._shimmedLocalStreams[h].length===1&&delete this._shimmedLocalStreams[h]}),l.apply(this,arguments)}}function sy(n,e){if(!n.RTCPeerConnection)return;if(n.RTCPeerConnection.prototype.addTrack&&e.version>=65)return oy(n);const o=n.RTCPeerConnection.prototype.getLocalStreams;n.RTCPeerConnection.prototype.getLocalStreams=function(){const v=o.apply(this);return this._reverseStreams=this._reverseStreams||{},v.map(_=>this._reverseStreams[_.id])};const s=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(v){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},v.getTracks().forEach(_=>{if(this.getSenders().find(E=>E.track===_))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[v.id]){const _=new n.MediaStream(v.getTracks());this._streams[v.id]=_,this._reverseStreams[_.id]=v,v=_}s.apply(this,[v])};const l=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(v){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},l.apply(this,[this._streams[v.id]||v]),delete this._reverseStreams[this._streams[v.id]?this._streams[v.id].id:v.id],delete this._streams[v.id]},n.RTCPeerConnection.prototype.addTrack=function(v,_){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const S=[].slice.call(arguments,1);if(S.length!==1||!S[0].getTracks().find(w=>w===v))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(w=>w.track===v))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const b=this._streams[_.id];if(b)b.addTrack(v),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const w=new n.MediaStream([v]);this._streams[_.id]=w,this._reverseStreams[w.id]=_,this.addStream(w)}return this.getSenders().find(w=>w.track===v)};function u(m,v){let _=v.sdp;return Object.keys(m._reverseStreams||[]).forEach(S=>{const E=m._reverseStreams[S],b=m._streams[E.id];_=_.replace(new RegExp(b.id,"g"),E.id)}),new RTCSessionDescription({type:v.type,sdp:_})}function f(m,v){let _=v.sdp;return Object.keys(m._reverseStreams||[]).forEach(S=>{const E=m._reverseStreams[S],b=m._streams[E.id];_=_.replace(new RegExp(E.id,"g"),b.id)}),new RTCSessionDescription({type:v.type,sdp:_})}["createOffer","createAnswer"].forEach(function(m){const v=n.RTCPeerConnection.prototype[m],_={[m](){const S=arguments;return arguments.length&&typeof arguments[0]=="function"?v.apply(this,[b=>{const w=u(this,b);S[0].apply(null,[w])},b=>{S[1]&&S[1].apply(null,b)},arguments[2]]):v.apply(this,arguments).then(b=>u(this,b))}};n.RTCPeerConnection.prototype[m]=_[m]});const h=n.RTCPeerConnection.prototype.setLocalDescription;n.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?h.apply(this,arguments):(arguments[0]=f(this,arguments[0]),h.apply(this,arguments))};const y=Object.getOwnPropertyDescriptor(n.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(n.RTCPeerConnection.prototype,"localDescription",{get(){const m=y.get.apply(this);return m.type===""?m:u(this,m)}}),n.RTCPeerConnection.prototype.removeTrack=function(v){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!v._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(v._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let S;Object.keys(this._streams).forEach(E=>{this._streams[E].getTracks().find(w=>v.track===w)&&(S=this._streams[E])}),S&&(S.getTracks().length===1?this.removeStream(this._reverseStreams[S.id]):S.removeTrack(v.track),this.dispatchEvent(new Event("negotiationneeded")))}}function ec(n,e){!n.RTCPeerConnection&&n.webkitRTCPeerConnection&&(n.RTCPeerConnection=n.webkitRTCPeerConnection),n.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(o){const s=n.RTCPeerConnection.prototype[o],l={[o](){return arguments[0]=new(o==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};n.RTCPeerConnection.prototype[o]=l[o]})}function ry(n,e){Si(n,"negotiationneeded",o=>{const s=o.target;if(!((e.version<72||s.getConfiguration&&s.getConfiguration().sdpSemantics==="plan-b")&&s.signalingState!=="stable"))return o})}const nm=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:ry,shimAddTrackRemoveTrack:sy,shimAddTrackRemoveTrackWithNative:oy,shimGetSendersWithDtmf:ny,shimGetUserMedia:jg,shimMediaStream:ey,shimOnTrack:ty,shimPeerConnection:ec,shimSenderReceiverGetStats:iy},Symbol.toStringTag,{value:"Module"}));function ly(n,e){const o=n&&n.navigator,s=n&&n.MediaStreamTrack;if(o.getUserMedia=function(l,u,f){bc("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),o.mediaDevices.getUserMedia(l).then(u,f)},!(e.version>55&&"autoGainControl"in o.mediaDevices.getSupportedConstraints())){const l=function(f,h,y){h in f&&!(y in f)&&(f[y]=f[h],delete f[h])},u=o.mediaDevices.getUserMedia.bind(o.mediaDevices);if(o.mediaDevices.getUserMedia=function(f){return typeof f=="object"&&typeof f.audio=="object"&&(f=JSON.parse(JSON.stringify(f)),l(f.audio,"autoGainControl","mozAutoGainControl"),l(f.audio,"noiseSuppression","mozNoiseSuppression")),u(f)},s&&s.prototype.getSettings){const f=s.prototype.getSettings;s.prototype.getSettings=function(){const h=f.apply(this,arguments);return l(h,"mozAutoGainControl","autoGainControl"),l(h,"mozNoiseSuppression","noiseSuppression"),h}}if(s&&s.prototype.applyConstraints){const f=s.prototype.applyConstraints;s.prototype.applyConstraints=function(h){return this.kind==="audio"&&typeof h=="object"&&(h=JSON.parse(JSON.stringify(h)),l(h,"autoGainControl","mozAutoGainControl"),l(h,"noiseSuppression","mozNoiseSuppression")),f.apply(this,[h])}}}}function ST(n,e){n.navigator.mediaDevices&&"getDisplayMedia"in n.navigator.mediaDevices||n.navigator.mediaDevices&&(n.navigator.mediaDevices.getDisplayMedia=function(s){if(!(s&&s.video)){const l=new DOMException("getDisplayMedia without video constraints is undefined");return l.name="NotFoundError",l.code=8,Promise.reject(l)}return s.video===!0?s.video={mediaSource:e}:s.video.mediaSource=e,n.navigator.mediaDevices.getUserMedia(s)})}function ay(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function tc(n,e){if(typeof n!="object"||!(n.RTCPeerConnection||n.mozRTCPeerConnection))return;!n.RTCPeerConnection&&n.mozRTCPeerConnection&&(n.RTCPeerConnection=n.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(l){const u=n.RTCPeerConnection.prototype[l],f={[l](){return arguments[0]=new(l==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),u.apply(this,arguments)}};n.RTCPeerConnection.prototype[l]=f[l]});const o={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},s=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){const[u,f,h]=arguments;return s.apply(this,[u||null]).then(y=>{if(e.version<53&&!f)try{y.forEach(m=>{m.type=o[m.type]||m.type})}catch(m){if(m.name!=="TypeError")throw m;y.forEach((v,_)=>{y.set(_,Object.assign({},v,{type:o[v.type]||v.type}))})}return y}).then(f,h)}}function uy(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender)||n.RTCRtpSender&&"getStats"in n.RTCRtpSender.prototype)return;const e=n.RTCPeerConnection.prototype.getSenders;e&&(n.RTCPeerConnection.prototype.getSenders=function(){const l=e.apply(this,[]);return l.forEach(u=>u._pc=this),l});const o=n.RTCPeerConnection.prototype.addTrack;o&&(n.RTCPeerConnection.prototype.addTrack=function(){const l=o.apply(this,arguments);return l._pc=this,l}),n.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function cy(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender)||n.RTCRtpSender&&"getStats"in n.RTCRtpReceiver.prototype)return;const e=n.RTCPeerConnection.prototype.getReceivers;e&&(n.RTCPeerConnection.prototype.getReceivers=function(){const s=e.apply(this,[]);return s.forEach(l=>l._pc=this),s}),Si(n,"track",o=>(o.receiver._pc=o.srcElement,o)),n.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function fy(n){!n.RTCPeerConnection||"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(o){bc("removeStream","removeTrack"),this.getSenders().forEach(s=>{s.track&&o.getTracks().includes(s.track)&&this.removeTrack(s)})})}function dy(n){n.DataChannel&&!n.RTCDataChannel&&(n.RTCDataChannel=n.DataChannel)}function py(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.addTransceiver;e&&(n.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let s=arguments[1]&&arguments[1].sendEncodings;s===void 0&&(s=[]),s=[...s];const l=s.length>0;l&&s.forEach(f=>{if("rid"in f&&!/^[a-z0-9]{0,16}$/i.test(f.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in f&&!(parseFloat(f.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in f&&!(parseFloat(f.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const u=e.apply(this,arguments);if(l){const{sender:f}=u,h=f.getParameters();(!("encodings"in h)||h.encodings.length===1&&Object.keys(h.encodings[0]).length===0)&&(h.encodings=s,f.sendEncodings=s,this.setParametersPromises.push(f.setParameters(h).then(()=>{delete f.sendEncodings}).catch(()=>{delete f.sendEncodings})))}return u})}function hy(n){if(!(typeof n=="object"&&n.RTCRtpSender))return;const e=n.RTCRtpSender.prototype.getParameters;e&&(n.RTCRtpSender.prototype.getParameters=function(){const s=e.apply(this,arguments);return"encodings"in s||(s.encodings=[].concat(this.sendEncodings||[{}])),s})}function my(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function gy(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.createAnswer;n.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const im=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:py,shimCreateAnswer:gy,shimCreateOffer:my,shimGetDisplayMedia:ST,shimGetParameters:hy,shimGetUserMedia:ly,shimOnTrack:ay,shimPeerConnection:tc,shimRTCDataChannel:dy,shimReceiverGetStats:cy,shimRemoveStream:fy,shimSenderGetStats:uy},Symbol.toStringTag,{value:"Module"}));function yy(n){if(!(typeof n!="object"||!n.RTCPeerConnection)){if("getLocalStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in n.RTCPeerConnection.prototype)){const e=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addStream=function(s){this._localStreams||(this._localStreams=[]),this._localStreams.includes(s)||this._localStreams.push(s),s.getAudioTracks().forEach(l=>e.call(this,l,s)),s.getVideoTracks().forEach(l=>e.call(this,l,s))},n.RTCPeerConnection.prototype.addTrack=function(s,...l){return l&&l.forEach(u=>{this._localStreams?this._localStreams.includes(u)||this._localStreams.push(u):this._localStreams=[u]}),e.apply(this,arguments)}}"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(o){this._localStreams||(this._localStreams=[]);const s=this._localStreams.indexOf(o);if(s===-1)return;this._localStreams.splice(s,1);const l=o.getTracks();this.getSenders().forEach(u=>{l.includes(u.track)&&this.removeTrack(u)})})}}function vy(n){if(!(typeof n!="object"||!n.RTCPeerConnection)&&("getRemoteStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in n.RTCPeerConnection.prototype))){Object.defineProperty(n.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(o){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=o),this.addEventListener("track",this._onaddstreampoly=s=>{s.streams.forEach(l=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(l))return;this._remoteStreams.push(l);const u=new Event("addstream");u.stream=l,this.dispatchEvent(u)})})}});const e=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){const s=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(l){l.streams.forEach(u=>{if(s._remoteStreams||(s._remoteStreams=[]),s._remoteStreams.indexOf(u)>=0)return;s._remoteStreams.push(u);const f=new Event("addstream");f.stream=u,s.dispatchEvent(f)})}),e.apply(s,arguments)}}}function _y(n){if(typeof n!="object"||!n.RTCPeerConnection)return;const e=n.RTCPeerConnection.prototype,o=e.createOffer,s=e.createAnswer,l=e.setLocalDescription,u=e.setRemoteDescription,f=e.addIceCandidate;e.createOffer=function(m,v){const _=arguments.length>=2?arguments[2]:arguments[0],S=o.apply(this,[_]);return v?(S.then(m,v),Promise.resolve()):S},e.createAnswer=function(m,v){const _=arguments.length>=2?arguments[2]:arguments[0],S=s.apply(this,[_]);return v?(S.then(m,v),Promise.resolve()):S};let h=function(y,m,v){const _=l.apply(this,[y]);return v?(_.then(m,v),Promise.resolve()):_};e.setLocalDescription=h,h=function(y,m,v){const _=u.apply(this,[y]);return v?(_.then(m,v),Promise.resolve()):_},e.setRemoteDescription=h,h=function(y,m,v){const _=f.apply(this,[y]);return v?(_.then(m,v),Promise.resolve()):_},e.addIceCandidate=h}function Ty(n){const e=n&&n.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const o=e.mediaDevices,s=o.getUserMedia.bind(o);e.mediaDevices.getUserMedia=l=>s(Sy(l))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(s,l,u){e.mediaDevices.getUserMedia(s).then(l,u)}).bind(e))}function Sy(n){return n&&n.video!==void 0?Object.assign({},n,{video:Wg(n.video)}):n}function Cy(n){if(!n.RTCPeerConnection)return;const e=n.RTCPeerConnection;n.RTCPeerConnection=function(s,l){if(s&&s.iceServers){const u=[];for(let f=0;f<s.iceServers.length;f++){let h=s.iceServers[f];h.urls===void 0&&h.url?(bc("RTCIceServer.url","RTCIceServer.urls"),h=JSON.parse(JSON.stringify(h)),h.urls=h.url,delete h.url,u.push(h)):u.push(s.iceServers[f])}s.iceServers=u}return new e(s,l)},n.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(n.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function Ey(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ay(n){const e=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(s){if(s){typeof s.offerToReceiveAudio<"u"&&(s.offerToReceiveAudio=!!s.offerToReceiveAudio);const l=this.getTransceivers().find(f=>f.receiver.track.kind==="audio");s.offerToReceiveAudio===!1&&l?l.direction==="sendrecv"?l.setDirection?l.setDirection("sendonly"):l.direction="sendonly":l.direction==="recvonly"&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive"):s.offerToReceiveAudio===!0&&!l&&this.addTransceiver("audio",{direction:"recvonly"}),typeof s.offerToReceiveVideo<"u"&&(s.offerToReceiveVideo=!!s.offerToReceiveVideo);const u=this.getTransceivers().find(f=>f.receiver.track.kind==="video");s.offerToReceiveVideo===!1&&u?u.direction==="sendrecv"?u.setDirection?u.setDirection("sendonly"):u.direction="sendonly":u.direction==="recvonly"&&(u.setDirection?u.setDirection("inactive"):u.direction="inactive"):s.offerToReceiveVideo===!0&&!u&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function Ry(n){typeof n!="object"||n.AudioContext||(n.AudioContext=n.webkitAudioContext)}const om=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:Ry,shimCallbacksAPI:_y,shimConstraints:Sy,shimCreateOfferLegacy:Ay,shimGetUserMedia:Ty,shimLocalStreamsAPI:yy,shimRTCIceServerUrls:Cy,shimRemoteStreamsAPI:vy,shimTrackEventTransceiver:Ey},Symbol.toStringTag,{value:"Module"}));var Yu={exports:{}},sm;function CT(){return sm||(sm=1,(function(n){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(o){return o.trim().split(`
`).map(s=>s.trim())},e.splitSections=function(o){return o.split(`
m=`).map((l,u)=>(u>0?"m="+l:l).trim()+`\r
`)},e.getDescription=function(o){const s=e.splitSections(o);return s&&s[0]},e.getMediaSections=function(o){const s=e.splitSections(o);return s.shift(),s},e.matchPrefix=function(o,s){return e.splitLines(o).filter(l=>l.indexOf(s)===0)},e.parseCandidate=function(o){let s;o.indexOf("a=candidate:")===0?s=o.substring(12).split(" "):s=o.substring(10).split(" ");const l={foundation:s[0],component:{1:"rtp",2:"rtcp"}[s[1]]||s[1],protocol:s[2].toLowerCase(),priority:parseInt(s[3],10),ip:s[4],address:s[4],port:parseInt(s[5],10),type:s[7]};for(let u=8;u<s.length;u+=2)switch(s[u]){case"raddr":l.relatedAddress=s[u+1];break;case"rport":l.relatedPort=parseInt(s[u+1],10);break;case"tcptype":l.tcpType=s[u+1];break;case"ufrag":l.ufrag=s[u+1],l.usernameFragment=s[u+1];break;default:l[s[u]]===void 0&&(l[s[u]]=s[u+1]);break}return l},e.writeCandidate=function(o){const s=[];s.push(o.foundation);const l=o.component;l==="rtp"?s.push(1):l==="rtcp"?s.push(2):s.push(l),s.push(o.protocol.toUpperCase()),s.push(o.priority),s.push(o.address||o.ip),s.push(o.port);const u=o.type;return s.push("typ"),s.push(u),u!=="host"&&o.relatedAddress&&o.relatedPort&&(s.push("raddr"),s.push(o.relatedAddress),s.push("rport"),s.push(o.relatedPort)),o.tcpType&&o.protocol.toLowerCase()==="tcp"&&(s.push("tcptype"),s.push(o.tcpType)),(o.usernameFragment||o.ufrag)&&(s.push("ufrag"),s.push(o.usernameFragment||o.ufrag)),"candidate:"+s.join(" ")},e.parseIceOptions=function(o){return o.substring(14).split(" ")},e.parseRtpMap=function(o){let s=o.substring(9).split(" ");const l={payloadType:parseInt(s.shift(),10)};return s=s[0].split("/"),l.name=s[0],l.clockRate=parseInt(s[1],10),l.channels=s.length===3?parseInt(s[2],10):1,l.numChannels=l.channels,l},e.writeRtpMap=function(o){let s=o.payloadType;o.preferredPayloadType!==void 0&&(s=o.preferredPayloadType);const l=o.channels||o.numChannels||1;return"a=rtpmap:"+s+" "+o.name+"/"+o.clockRate+(l!==1?"/"+l:"")+`\r
`},e.parseExtmap=function(o){const s=o.substring(9).split(" ");return{id:parseInt(s[0],10),direction:s[0].indexOf("/")>0?s[0].split("/")[1]:"sendrecv",uri:s[1],attributes:s.slice(2).join(" ")}},e.writeExtmap=function(o){return"a=extmap:"+(o.id||o.preferredId)+(o.direction&&o.direction!=="sendrecv"?"/"+o.direction:"")+" "+o.uri+(o.attributes?" "+o.attributes:"")+`\r
`},e.parseFmtp=function(o){const s={};let l;const u=o.substring(o.indexOf(" ")+1).split(";");for(let f=0;f<u.length;f++)l=u[f].trim().split("="),s[l[0].trim()]=l[1];return s},e.writeFmtp=function(o){let s="",l=o.payloadType;if(o.preferredPayloadType!==void 0&&(l=o.preferredPayloadType),o.parameters&&Object.keys(o.parameters).length){const u=[];Object.keys(o.parameters).forEach(f=>{o.parameters[f]!==void 0?u.push(f+"="+o.parameters[f]):u.push(f)}),s+="a=fmtp:"+l+" "+u.join(";")+`\r
`}return s},e.parseRtcpFb=function(o){const s=o.substring(o.indexOf(" ")+1).split(" ");return{type:s.shift(),parameter:s.join(" ")}},e.writeRtcpFb=function(o){let s="",l=o.payloadType;return o.preferredPayloadType!==void 0&&(l=o.preferredPayloadType),o.rtcpFeedback&&o.rtcpFeedback.length&&o.rtcpFeedback.forEach(u=>{s+="a=rtcp-fb:"+l+" "+u.type+(u.parameter&&u.parameter.length?" "+u.parameter:"")+`\r
`}),s},e.parseSsrcMedia=function(o){const s=o.indexOf(" "),l={ssrc:parseInt(o.substring(7,s),10)},u=o.indexOf(":",s);return u>-1?(l.attribute=o.substring(s+1,u),l.value=o.substring(u+1)):l.attribute=o.substring(s+1),l},e.parseSsrcGroup=function(o){const s=o.substring(13).split(" ");return{semantics:s.shift(),ssrcs:s.map(l=>parseInt(l,10))}},e.getMid=function(o){const s=e.matchPrefix(o,"a=mid:")[0];if(s)return s.substring(6)},e.parseFingerprint=function(o){const s=o.substring(14).split(" ");return{algorithm:s[0].toLowerCase(),value:s[1].toUpperCase()}},e.getDtlsParameters=function(o,s){return{role:"auto",fingerprints:e.matchPrefix(o+s,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(o,s){let l="a=setup:"+s+`\r
`;return o.fingerprints.forEach(u=>{l+="a=fingerprint:"+u.algorithm+" "+u.value+`\r
`}),l},e.parseCryptoLine=function(o){const s=o.substring(9).split(" ");return{tag:parseInt(s[0],10),cryptoSuite:s[1],keyParams:s[2],sessionParams:s.slice(3)}},e.writeCryptoLine=function(o){return"a=crypto:"+o.tag+" "+o.cryptoSuite+" "+(typeof o.keyParams=="object"?e.writeCryptoKeyParams(o.keyParams):o.keyParams)+(o.sessionParams?" "+o.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(o){if(o.indexOf("inline:")!==0)return null;const s=o.substring(7).split("|");return{keyMethod:"inline",keySalt:s[0],lifeTime:s[1],mkiValue:s[2]?s[2].split(":")[0]:void 0,mkiLength:s[2]?s[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(o){return o.keyMethod+":"+o.keySalt+(o.lifeTime?"|"+o.lifeTime:"")+(o.mkiValue&&o.mkiLength?"|"+o.mkiValue+":"+o.mkiLength:"")},e.getCryptoParameters=function(o,s){return e.matchPrefix(o+s,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(o,s){const l=e.matchPrefix(o+s,"a=ice-ufrag:")[0],u=e.matchPrefix(o+s,"a=ice-pwd:")[0];return l&&u?{usernameFragment:l.substring(12),password:u.substring(10)}:null},e.writeIceParameters=function(o){let s="a=ice-ufrag:"+o.usernameFragment+`\r
a=ice-pwd:`+o.password+`\r
`;return o.iceLite&&(s+=`a=ice-lite\r
`),s},e.parseRtpParameters=function(o){const s={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},u=e.splitLines(o)[0].split(" ");s.profile=u[2];for(let h=3;h<u.length;h++){const y=u[h],m=e.matchPrefix(o,"a=rtpmap:"+y+" ")[0];if(m){const v=e.parseRtpMap(m),_=e.matchPrefix(o,"a=fmtp:"+y+" ");switch(v.parameters=_.length?e.parseFmtp(_[0]):{},v.rtcpFeedback=e.matchPrefix(o,"a=rtcp-fb:"+y+" ").map(e.parseRtcpFb),s.codecs.push(v),v.name.toUpperCase()){case"RED":case"ULPFEC":s.fecMechanisms.push(v.name.toUpperCase());break}}}e.matchPrefix(o,"a=extmap:").forEach(h=>{s.headerExtensions.push(e.parseExtmap(h))});const f=e.matchPrefix(o,"a=rtcp-fb:* ").map(e.parseRtcpFb);return s.codecs.forEach(h=>{f.forEach(y=>{h.rtcpFeedback.find(v=>v.type===y.type&&v.parameter===y.parameter)||h.rtcpFeedback.push(y)})}),s},e.writeRtpDescription=function(o,s){let l="";l+="m="+o+" ",l+=s.codecs.length>0?"9":"0",l+=" "+(s.profile||"UDP/TLS/RTP/SAVPF")+" ",l+=s.codecs.map(f=>f.preferredPayloadType!==void 0?f.preferredPayloadType:f.payloadType).join(" ")+`\r
`,l+=`c=IN IP4 0.0.0.0\r
`,l+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,s.codecs.forEach(f=>{l+=e.writeRtpMap(f),l+=e.writeFmtp(f),l+=e.writeRtcpFb(f)});let u=0;return s.codecs.forEach(f=>{f.maxptime>u&&(u=f.maxptime)}),u>0&&(l+="a=maxptime:"+u+`\r
`),s.headerExtensions&&s.headerExtensions.forEach(f=>{l+=e.writeExtmap(f)}),l},e.parseRtpEncodingParameters=function(o){const s=[],l=e.parseRtpParameters(o),u=l.fecMechanisms.indexOf("RED")!==-1,f=l.fecMechanisms.indexOf("ULPFEC")!==-1,h=e.matchPrefix(o,"a=ssrc:").map(S=>e.parseSsrcMedia(S)).filter(S=>S.attribute==="cname"),y=h.length>0&&h[0].ssrc;let m;const v=e.matchPrefix(o,"a=ssrc-group:FID").map(S=>S.substring(17).split(" ").map(b=>parseInt(b,10)));v.length>0&&v[0].length>1&&v[0][0]===y&&(m=v[0][1]),l.codecs.forEach(S=>{if(S.name.toUpperCase()==="RTX"&&S.parameters.apt){let E={ssrc:y,codecPayloadType:parseInt(S.parameters.apt,10)};y&&m&&(E.rtx={ssrc:m}),s.push(E),u&&(E=JSON.parse(JSON.stringify(E)),E.fec={ssrc:y,mechanism:f?"red+ulpfec":"red"},s.push(E))}}),s.length===0&&y&&s.push({ssrc:y});let _=e.matchPrefix(o,"b=");return _.length&&(_[0].indexOf("b=TIAS:")===0?_=parseInt(_[0].substring(7),10):_[0].indexOf("b=AS:")===0?_=parseInt(_[0].substring(5),10)*1e3*.95-2e3*8:_=void 0,s.forEach(S=>{S.maxBitrate=_})),s},e.parseRtcpParameters=function(o){const s={},l=e.matchPrefix(o,"a=ssrc:").map(h=>e.parseSsrcMedia(h)).filter(h=>h.attribute==="cname")[0];l&&(s.cname=l.value,s.ssrc=l.ssrc);const u=e.matchPrefix(o,"a=rtcp-rsize");s.reducedSize=u.length>0,s.compound=u.length===0;const f=e.matchPrefix(o,"a=rtcp-mux");return s.mux=f.length>0,s},e.writeRtcpParameters=function(o){let s="";return o.reducedSize&&(s+=`a=rtcp-rsize\r
`),o.mux&&(s+=`a=rtcp-mux\r
`),o.ssrc!==void 0&&o.cname&&(s+="a=ssrc:"+o.ssrc+" cname:"+o.cname+`\r
`),s},e.parseMsid=function(o){let s;const l=e.matchPrefix(o,"a=msid:");if(l.length===1)return s=l[0].substring(7).split(" "),{stream:s[0],track:s[1]};const u=e.matchPrefix(o,"a=ssrc:").map(f=>e.parseSsrcMedia(f)).filter(f=>f.attribute==="msid");if(u.length>0)return s=u[0].value.split(" "),{stream:s[0],track:s[1]}},e.parseSctpDescription=function(o){const s=e.parseMLine(o),l=e.matchPrefix(o,"a=max-message-size:");let u;l.length>0&&(u=parseInt(l[0].substring(19),10)),isNaN(u)&&(u=65536);const f=e.matchPrefix(o,"a=sctp-port:");if(f.length>0)return{port:parseInt(f[0].substring(12),10),protocol:s.fmt,maxMessageSize:u};const h=e.matchPrefix(o,"a=sctpmap:");if(h.length>0){const y=h[0].substring(10).split(" ");return{port:parseInt(y[0],10),protocol:y[1],maxMessageSize:u}}},e.writeSctpDescription=function(o,s){let l=[];return o.protocol!=="DTLS/SCTP"?l=["m="+o.kind+" 9 "+o.protocol+" "+s.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+s.port+`\r
`]:l=["m="+o.kind+" 9 "+o.protocol+" "+s.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+s.port+" "+s.protocol+` 65535\r
`],s.maxMessageSize!==void 0&&l.push("a=max-message-size:"+s.maxMessageSize+`\r
`),l.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(o,s,l){let u;const f=s!==void 0?s:2;return o?u=o:u=e.generateSessionId(),`v=0\r
o=`+(l||"thisisadapterortc")+" "+u+" "+f+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(o,s){const l=e.splitLines(o);for(let u=0;u<l.length;u++)switch(l[u]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return l[u].substring(2)}return s?e.getDirection(s):"sendrecv"},e.getKind=function(o){return e.splitLines(o)[0].split(" ")[0].substring(2)},e.isRejected=function(o){return o.split(" ",2)[1]==="0"},e.parseMLine=function(o){const l=e.splitLines(o)[0].substring(2).split(" ");return{kind:l[0],port:parseInt(l[1],10),protocol:l[2],fmt:l.slice(3).join(" ")}},e.parseOLine=function(o){const l=e.matchPrefix(o,"o=")[0].substring(2).split(" ");return{username:l[0],sessionId:l[1],sessionVersion:parseInt(l[2],10),netType:l[3],addressType:l[4],address:l[5]}},e.isValidSDP=function(o){if(typeof o!="string"||o.length===0)return!1;const s=e.splitLines(o);for(let l=0;l<s.length;l++)if(s[l].length<2||s[l].charAt(1)!=="=")return!1;return!0},n.exports=e})(Yu)),Yu.exports}var xy=CT();const po=Rc(xy),ET=tT({__proto__:null,default:po},[xy]);function jr(n){if(!n.RTCIceCandidate||n.RTCIceCandidate&&"foundation"in n.RTCIceCandidate.prototype)return;const e=n.RTCIceCandidate;n.RTCIceCandidate=function(s){if(typeof s=="object"&&s.candidate&&s.candidate.indexOf("a=")===0&&(s=JSON.parse(JSON.stringify(s)),s.candidate=s.candidate.substring(2)),s.candidate&&s.candidate.length){const l=new e(s),u=po.parseCandidate(s.candidate);for(const f in u)f in l||Object.defineProperty(l,f,{value:u[f]});return l.toJSON=function(){return{candidate:l.candidate,sdpMid:l.sdpMid,sdpMLineIndex:l.sdpMLineIndex,usernameFragment:l.usernameFragment}},l}return new e(s)},n.RTCIceCandidate.prototype=e.prototype,Si(n,"icecandidate",o=>(o.candidate&&Object.defineProperty(o,"candidate",{value:new n.RTCIceCandidate(o.candidate),writable:"false"}),o))}function nc(n){!n.RTCIceCandidate||n.RTCIceCandidate&&"relayProtocol"in n.RTCIceCandidate.prototype||Si(n,"icecandidate",e=>{if(e.candidate){const o=po.parseCandidate(e.candidate.candidate);o.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[o.priority>>24])}return e})}function el(n,e){if(!n.RTCPeerConnection)return;"sctp"in n.RTCPeerConnection.prototype||Object.defineProperty(n.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const o=function(h){if(!h||!h.sdp)return!1;const y=po.splitSections(h.sdp);return y.shift(),y.some(m=>{const v=po.parseMLine(m);return v&&v.kind==="application"&&v.protocol.indexOf("SCTP")!==-1})},s=function(h){const y=h.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(y===null||y.length<2)return-1;const m=parseInt(y[1],10);return m!==m?-1:m},l=function(h){let y=65536;return e.browser==="firefox"&&(e.version<57?h===-1?y=16384:y=2147483637:e.version<60?y=e.version===57?65535:65536:y=2147483637),y},u=function(h,y){let m=65536;e.browser==="firefox"&&e.version===57&&(m=65535);const v=po.matchPrefix(h.sdp,"a=max-message-size:");return v.length>0?m=parseInt(v[0].substring(19),10):e.browser==="firefox"&&y!==-1&&(m=2147483637),m},f=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:y}=this.getConfiguration();y==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(o(arguments[0])){const y=s(arguments[0]),m=l(y),v=u(arguments[0],y);let _;m===0&&v===0?_=Number.POSITIVE_INFINITY:m===0||v===0?_=Math.max(m,v):_=Math.min(m,v);const S={};Object.defineProperty(S,"maxMessageSize",{get(){return _}}),this._sctp=S}return f.apply(this,arguments)}}function tl(n){if(!(n.RTCPeerConnection&&"createDataChannel"in n.RTCPeerConnection.prototype))return;function e(s,l){const u=s.send;s.send=function(){const h=arguments[0],y=h.length||h.size||h.byteLength;if(s.readyState==="open"&&l.sctp&&y>l.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+l.sctp.maxMessageSize+" bytes)");return u.apply(s,arguments)}}const o=n.RTCPeerConnection.prototype.createDataChannel;n.RTCPeerConnection.prototype.createDataChannel=function(){const l=o.apply(this,arguments);return e(l,this),l},Si(n,"datachannel",s=>(e(s.channel,s.target),s))}function ic(n){if(!n.RTCPeerConnection||"connectionState"in n.RTCPeerConnection.prototype)return;const e=n.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(o){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),o&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=o)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(o=>{const s=e[o];e[o]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=l=>{const u=l.target;if(u._lastConnectionState!==u.connectionState){u._lastConnectionState=u.connectionState;const f=new Event("connectionstatechange",l);u.dispatchEvent(f)}return l},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),s.apply(this,arguments)}})}function oc(n,e){if(!n.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const o=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(l){if(l&&l.sdp&&l.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const u=l.sdp.split(`
`).filter(f=>f.trim()!=="a=extmap-allow-mixed").join(`
`);n.RTCSessionDescription&&l instanceof n.RTCSessionDescription?arguments[0]=new n.RTCSessionDescription({type:l.type,sdp:u}):l.sdp=u}return o.apply(this,arguments)}}function nl(n,e){if(!(n.RTCPeerConnection&&n.RTCPeerConnection.prototype))return;const o=n.RTCPeerConnection.prototype.addIceCandidate;!o||o.length===0||(n.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():o.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function il(n,e){if(!(n.RTCPeerConnection&&n.RTCPeerConnection.prototype))return;const o=n.RTCPeerConnection.prototype.setLocalDescription;!o||o.length===0||(n.RTCPeerConnection.prototype.setLocalDescription=function(){let l=arguments[0]||{};if(typeof l!="object"||l.type&&l.sdp)return o.apply(this,arguments);if(l={type:l.type,sdp:l.sdp},!l.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":l.type="offer";break;default:l.type="answer";break}return l.sdp||l.type!=="offer"&&l.type!=="answer"?o.apply(this,[l]):(l.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(f=>o.apply(this,[f]))})}const AT=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:oc,shimAddIceCandidateNullOrEmpty:nl,shimConnectionState:ic,shimMaxMessageSize:el,shimParameterlessSetLocalDescription:il,shimRTCIceCandidate:jr,shimRTCIceCandidateRelayProtocol:nc,shimSendThrowTypeError:tl},Symbol.toStringTag,{value:"Module"}));function RT({window:n}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const o=Zg,s=TT(n),l={browserDetails:s,commonShim:AT,extractVersion:_s,disableLog:vT,disableWarnings:_T,sdp:ET};switch(s.browser){case"chrome":if(!nm||!ec||!e.shimChrome)return o("Chrome shim is not included in this adapter release."),l;if(s.version===null)return o("Chrome shim can not determine version, not shimming."),l;o("adapter.js shimming chrome."),l.browserShim=nm,nl(n,s),il(n),jg(n,s),ey(n),ec(n,s),ty(n),sy(n,s),ny(n),iy(n),ry(n,s),jr(n),nc(n),ic(n),el(n,s),tl(n),oc(n,s);break;case"firefox":if(!im||!tc||!e.shimFirefox)return o("Firefox shim is not included in this adapter release."),l;o("adapter.js shimming firefox."),l.browserShim=im,nl(n,s),il(n),ly(n,s),tc(n,s),ay(n),fy(n),uy(n),cy(n),dy(n),py(n),hy(n),my(n),gy(n),jr(n),ic(n),el(n,s),tl(n);break;case"safari":if(!om||!e.shimSafari)return o("Safari shim is not included in this adapter release."),l;o("adapter.js shimming safari."),l.browserShim=om,nl(n,s),il(n),Cy(n),Ay(n),_y(n),yy(n),vy(n),Ey(n),Ty(n),Ry(n),jr(n),nc(n),el(n,s),tl(n),oc(n,s);break;default:o("Unsupported browser!");break}return l}const rm=RT({window:typeof window>"u"?void 0:window});function Ci(n,e,o,s){Object.defineProperty(n,e,{get:o,set:s,enumerable:!0,configurable:!0})}class by{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const o=[],s=e.byteLength,l=Math.ceil(s/this.chunkedMTU);let u=0,f=0;for(;f<s;){const h=Math.min(s,f+this.chunkedMTU),y=e.slice(f,h),m={__peerData:this._dataCount,n:u,data:y,total:l};o.push(m),f=h,u++}return this._dataCount++,o}}}function xT(n){let e=0;for(const l of n)e+=l.byteLength;const o=new Uint8Array(e);let s=0;for(const l of n)o.set(l,s),s+=l.byteLength;return o}const Ku=rm.default||rm,gs=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const n=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(n)?n==="chrome"?e>=this.minChromeVersion:n==="firefox"?e>=this.minFirefoxVersion:n==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return Ku.browserDetails.browser}getVersion(){return Ku.browserDetails.version||0}isUnifiedPlanSupported(){const n=this.getBrowser(),e=Ku.browserDetails.version||0;if(n==="chrome"&&e<this.minChromeVersion)return!1;if(n==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let o,s=!1;try{o=new RTCPeerConnection,o.addTransceiver("audio"),s=!0}catch{}finally{o&&o.close()}return s}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},bT=n=>!n||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(n),My=()=>Math.random().toString(36).slice(2),lm={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class MT extends by{noop(){}blobToArrayBuffer(e,o){const s=new FileReader;return s.onload=function(l){l.target&&o(l.target.result)},s.readAsArrayBuffer(e),s}binaryStringToArrayBuffer(e){const o=new Uint8Array(e.length);for(let s=0;s<e.length;s++)o[s]=e.charCodeAt(s)&255;return o.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=lm,this.browser=gs.getBrowser(),this.browserVersion=gs.getVersion(),this.pack=$g,this.unpack=Kg,this.supports=(function(){const o={browser:gs.isBrowserSupported(),webRTC:gs.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!o.webRTC)return o;let s;try{s=new RTCPeerConnection(lm),o.audioVideo=!0;let l;try{l=s.createDataChannel("_PEERJSTEST",{ordered:!0}),o.data=!0,o.reliable=!!l.ordered;try{l.binaryType="blob",o.binaryBlob=!gs.isIOS}catch{}}catch{}finally{l&&l.close()}}catch{}finally{s&&s.close()}return o})(),this.validateId=bT,this.randomToken=My}}const St=new MT,NT="PeerJS: ";var am;(function(n){n[n.Disabled=0]="Disabled",n[n.Errors=1]="Errors",n[n.Warnings=2]="Warnings",n[n.All=3]="All"})(am||(am={}));class IT{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...o){const s=[NT,...o];for(const l in s)s[l]instanceof Error&&(s[l]="("+s[l].name+") "+s[l].message);e>=3?console.log(...s):e>=2?console.warn("WARNING",...s):e>=1&&console.error("ERROR",...s)}constructor(){this._logLevel=0}}var ee=new IT,Mc={},DT=Object.prototype.hasOwnProperty,dt="~";function Es(){}Object.create&&(Es.prototype=Object.create(null),new Es().__proto__||(dt=!1));function UT(n,e,o){this.fn=n,this.context=e,this.once=o||!1}function Ny(n,e,o,s,l){if(typeof o!="function")throw new TypeError("The listener must be a function");var u=new UT(o,s||n,l),f=dt?dt+e:e;return n._events[f]?n._events[f].fn?n._events[f]=[n._events[f],u]:n._events[f].push(u):(n._events[f]=u,n._eventsCount++),n}function ol(n,e){--n._eventsCount===0?n._events=new Es:delete n._events[e]}function at(){this._events=new Es,this._eventsCount=0}at.prototype.eventNames=function(){var e=[],o,s;if(this._eventsCount===0)return e;for(s in o=this._events)DT.call(o,s)&&e.push(dt?s.slice(1):s);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(o)):e};at.prototype.listeners=function(e){var o=dt?dt+e:e,s=this._events[o];if(!s)return[];if(s.fn)return[s.fn];for(var l=0,u=s.length,f=new Array(u);l<u;l++)f[l]=s[l].fn;return f};at.prototype.listenerCount=function(e){var o=dt?dt+e:e,s=this._events[o];return s?s.fn?1:s.length:0};at.prototype.emit=function(e,o,s,l,u,f){var h=dt?dt+e:e;if(!this._events[h])return!1;var y=this._events[h],m=arguments.length,v,_;if(y.fn){switch(y.once&&this.removeListener(e,y.fn,void 0,!0),m){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,o),!0;case 3:return y.fn.call(y.context,o,s),!0;case 4:return y.fn.call(y.context,o,s,l),!0;case 5:return y.fn.call(y.context,o,s,l,u),!0;case 6:return y.fn.call(y.context,o,s,l,u,f),!0}for(_=1,v=new Array(m-1);_<m;_++)v[_-1]=arguments[_];y.fn.apply(y.context,v)}else{var S=y.length,E;for(_=0;_<S;_++)switch(y[_].once&&this.removeListener(e,y[_].fn,void 0,!0),m){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,o);break;case 3:y[_].fn.call(y[_].context,o,s);break;case 4:y[_].fn.call(y[_].context,o,s,l);break;default:if(!v)for(E=1,v=new Array(m-1);E<m;E++)v[E-1]=arguments[E];y[_].fn.apply(y[_].context,v)}}return!0};at.prototype.on=function(e,o,s){return Ny(this,e,o,s,!1)};at.prototype.once=function(e,o,s){return Ny(this,e,o,s,!0)};at.prototype.removeListener=function(e,o,s,l){var u=dt?dt+e:e;if(!this._events[u])return this;if(!o)return ol(this,u),this;var f=this._events[u];if(f.fn)f.fn===o&&(!l||f.once)&&(!s||f.context===s)&&ol(this,u);else{for(var h=0,y=[],m=f.length;h<m;h++)(f[h].fn!==o||l&&!f[h].once||s&&f[h].context!==s)&&y.push(f[h]);y.length?this._events[u]=y.length===1?y[0]:y:ol(this,u)}return this};at.prototype.removeAllListeners=function(e){var o;return e?(o=dt?dt+e:e,this._events[o]&&ol(this,o)):(this._events=new Es,this._eventsCount=0),this};at.prototype.off=at.prototype.removeListener;at.prototype.addListener=at.prototype.on;at.prefixed=dt;at.EventEmitter=at;Mc=at;var Ei={};Ci(Ei,"ConnectionType",()=>tn);Ci(Ei,"PeerErrorType",()=>ze);Ci(Ei,"BaseConnectionErrorType",()=>As);Ci(Ei,"DataConnectionErrorType",()=>Rs);Ci(Ei,"SerializationType",()=>go);Ci(Ei,"SocketEventType",()=>en);Ci(Ei,"ServerMessageType",()=>je);var tn;(function(n){n.Data="data",n.Media="media"})(tn||(tn={}));var ze;(function(n){n.BrowserIncompatible="browser-incompatible",n.Disconnected="disconnected",n.InvalidID="invalid-id",n.InvalidKey="invalid-key",n.Network="network",n.PeerUnavailable="peer-unavailable",n.SslUnavailable="ssl-unavailable",n.ServerError="server-error",n.SocketError="socket-error",n.SocketClosed="socket-closed",n.UnavailableID="unavailable-id",n.WebRTC="webrtc"})(ze||(ze={}));var As;(function(n){n.NegotiationFailed="negotiation-failed",n.ConnectionClosed="connection-closed"})(As||(As={}));var Rs;(function(n){n.NotOpenYet="not-open-yet",n.MessageToBig="message-too-big"})(Rs||(Rs={}));var go;(function(n){n.Binary="binary",n.BinaryUTF8="binary-utf8",n.JSON="json",n.None="raw"})(go||(go={}));var en;(function(n){n.Message="message",n.Disconnected="disconnected",n.Error="error",n.Close="close"})(en||(en={}));var je;(function(n){n.Heartbeat="HEARTBEAT",n.Candidate="CANDIDATE",n.Offer="OFFER",n.Answer="ANSWER",n.Open="OPEN",n.Error="ERROR",n.IdTaken="ID-TAKEN",n.InvalidKey="INVALID-KEY",n.Leave="LEAVE",n.Expire="EXPIRE"})(je||(je={}));var Nc={};Nc=JSON.parse('{"name":"peerjs","version":"1.5.4","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Soren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^9.0.0"},"alias":{"process":false,"buffer":false}}');class wT extends Mc.EventEmitter{constructor(e,o,s,l,u,f=5e3){super(),this.pingInterval=f,this._disconnected=!0,this._messagesQueue=[];const h=e?"wss://":"ws://";this._baseUrl=h+o+":"+s+l+"peerjs?key="+u}start(e,o){this._id=e;const s=`${this._baseUrl}&id=${e}&token=${o}`;this._socket||!this._disconnected||(this._socket=new WebSocket(s+"&version="+Nc.version),this._disconnected=!1,this._socket.onmessage=l=>{let u;try{u=JSON.parse(l.data),ee.log("Server message received:",u)}catch{ee.log("Invalid server message",l.data);return}this.emit(en.Message,u)},this._socket.onclose=l=>{this._disconnected||(ee.log("Socket closed.",l),this._cleanup(),this._disconnected=!0,this.emit(en.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),ee.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){ee.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:je.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const o of e)this.send(o)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(en.Error,"Invalid message");return}if(!this._wsOpen())return;const o=JSON.stringify(e);this._socket.send(o)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class Iy{constructor(e){this.connection=e}startConnection(e){const o=this._startPeerConnection();if(this.connection.peerConnection=o,this.connection.type===tn.Media&&e._stream&&this._addTracksToConnection(e._stream,o),e.originator){const s=this.connection,l={ordered:!!e.reliable},u=o.createDataChannel(s.label,l);s._initializeDataChannel(u),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){ee.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const o=this.connection.peer,s=this.connection.connectionId,l=this.connection.type,u=this.connection.provider;ee.log("Listening for ICE candidates."),e.onicecandidate=f=>{!f.candidate||!f.candidate.candidate||(ee.log(`Received ICE candidates for ${o}:`,f.candidate),u.socket.send({type:je.Candidate,payload:{candidate:f.candidate,type:l,connectionId:s},dst:o}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":ee.log("iceConnectionState is failed, closing connections to "+o),this.connection.emitError(As.NegotiationFailed,"Negotiation of connection to "+o+" failed."),this.connection.close();break;case"closed":ee.log("iceConnectionState is closed, closing connections to "+o),this.connection.emitError(As.ConnectionClosed,"Connection to "+o+" closed."),this.connection.close();break;case"disconnected":ee.log("iceConnectionState changed to disconnected on the connection with "+o);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},ee.log("Listening for data channel"),e.ondatachannel=f=>{ee.log("Received data channel");const h=f.channel;u.getConnection(o,s)._initializeDataChannel(h)},ee.log("Listening for remote stream"),e.ontrack=f=>{ee.log("Received remote stream");const h=f.streams[0],y=u.getConnection(o,s);if(y.type===tn.Media){const m=y;this._addStreamToMediaConnection(h,m)}}}cleanup(){ee.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const o=e.signalingState!=="closed";let s=!1;const l=this.connection.dataChannel;l&&(s=!!l.readyState&&l.readyState!=="closed"),(o||s)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,o=this.connection.provider;try{const s=await e.createOffer(this.connection.options.constraints);ee.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),ee.log("Set localDescription:",s,`for:${this.connection.peer}`);let l={sdp:s,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===tn.Data){const u=this.connection;l={...l,label:u.label,reliable:u.reliable,serialization:u.serialization}}o.socket.send({type:je.Offer,payload:l,dst:this.connection.peer})}catch(l){l!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(o.emitError(ze.WebRTC,l),ee.log("Failed to setLocalDescription, ",l))}}catch(s){o.emitError(ze.WebRTC,s),ee.log("Failed to createOffer, ",s)}}async _makeAnswer(){const e=this.connection.peerConnection,o=this.connection.provider;try{const s=await e.createAnswer();ee.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),ee.log("Set localDescription:",s,`for:${this.connection.peer}`),o.socket.send({type:je.Answer,payload:{sdp:s,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(l){o.emitError(ze.WebRTC,l),ee.log("Failed to setLocalDescription, ",l)}}catch(s){o.emitError(ze.WebRTC,s),ee.log("Failed to create answer, ",s)}}async handleSDP(e,o){o=new RTCSessionDescription(o);const s=this.connection.peerConnection,l=this.connection.provider;ee.log("Setting remote description",o);const u=this;try{await s.setRemoteDescription(o),ee.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await u._makeAnswer()}catch(f){l.emitError(ze.WebRTC,f),ee.log("Failed to setRemoteDescription, ",f)}}async handleCandidate(e){ee.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),ee.log(`Added ICE candidate for:${this.connection.peer}`)}catch(o){this.connection.provider.emitError(ze.WebRTC,o),ee.log("Failed to handleCandidate, ",o)}}_addTracksToConnection(e,o){if(ee.log(`add tracks from stream ${e.id} to peer connection`),!o.addTrack)return ee.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(s=>{o.addTrack(s,e)})}_addStreamToMediaConnection(e,o){ee.log(`add stream ${e.id} to media connection ${o.connectionId}`),o.addStream(e)}}class Dy extends Mc.EventEmitter{emitError(e,o){ee.error("Error:",o),this.emit("error",new kT(`${e}`,o))}}class kT extends Error{constructor(e,o){typeof o=="string"?super(o):(super(),Object.assign(this,o)),this.type=e}}class Uy extends Dy{get open(){return this._open}constructor(e,o,s){super(),this.peer=e,this.provider=o,this.options=s,this._open=!1,this.metadata=s.metadata}}var Sc;const Ss=class Ss extends Uy{get type(){return tn.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,o,s){super(e,o,s),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Ss.ID_PREFIX+St.randomToken(),this._negotiator=new Iy(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ee.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{ee.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){ee.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const o=e.type,s=e.payload;switch(e.type){case je.Answer:this._negotiator.handleSDP(o,s.sdp),this._open=!0;break;case je.Candidate:this._negotiator.handleCandidate(s.candidate);break;default:ee.warn(`Unrecognized message type:${o} from peer:${this.peer}`);break}}answer(e,o={}){if(this._localStream){ee.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,o&&o.sdpTransform&&(this.options.sdpTransform=o.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const s=this.provider._getMessages(this.connectionId);for(const l of s)this.handleMessage(l);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};Sc=new WeakMap,ps(Ss,Sc,Ss.ID_PREFIX="mc_");let ll=Ss;class LT{constructor(e){this._options=e}_buildRequest(e){const o=this._options.secure?"https":"http",{host:s,port:l,path:u,key:f}=this._options,h=new URL(`${o}://${s}:${l}${u}${f}/${e}`);return h.searchParams.set("ts",`${Date.now()}${Math.random()}`),h.searchParams.set("version",Nc.version),fetch(h.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){ee.error("Error retrieving ID",e);let o="";throw this._options.path==="/"&&this._options.host!==St.CLOUD_HOST&&(o=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+o)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let o="";throw this._options.host===St.CLOUD_HOST?o="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":o="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+o)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw ee.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}var Cc,Ec;const Ti=class Ti extends Uy{get type(){return tn.Data}constructor(e,o,s){super(e,o,s),this.connectionId=this.options.connectionId||Ti.ID_PREFIX+My(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new Iy(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ee.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=o=>{ee.log(`DC#${this.connectionId} dc onmessage:`,o.data)},this.dataChannel.onclose=()=>{ee.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,o=!1){if(!this.open){this.emitError(Rs.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,o)}async handleMessage(e){const o=e.payload;switch(e.type){case je.Answer:await this._negotiator.handleSDP(e.type,o.sdp);break;case je.Candidate:await this._negotiator.handleCandidate(o.candidate);break;default:ee.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}};Cc=new WeakMap,Ec=new WeakMap,ps(Ti,Cc,Ti.ID_PREFIX="dc_"),ps(Ti,Ec,Ti.MAX_BUFFERED_AMOUNT=8388608);let al=Ti;class Ic extends al{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",o=>this._handleDataMessage(o))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>al.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(o){return ee.error(`DC#:${this.connectionId} Error when sending:`,o),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class $u extends Ic{close(e){super.close(e),this._chunkedData={}}constructor(e,o,s){super(e,o,s),this.chunker=new by,this.serialization=go.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const o=Kg(e),s=o.__peerData;if(s){if(s.type==="close"){this.close();return}this._handleChunk(o);return}this.emit("data",o)}_handleChunk(e){const o=e.__peerData,s=this._chunkedData[o]||{data:[],count:0,total:e.total};if(s.data[e.n]=new Uint8Array(e.data),s.count++,this._chunkedData[o]=s,s.total===s.count){delete this._chunkedData[o];const l=xT(s.data);this._handleDataMessage({data:l})}}_send(e,o){const s=$g(e);if(s instanceof Promise)return this._send_blob(s);if(!o&&s.byteLength>this.chunker.chunkedMTU){this._sendChunks(s);return}this._bufferedSend(s)}async _send_blob(e){const o=await e;if(o.byteLength>this.chunker.chunkedMTU){this._sendChunks(o);return}this._bufferedSend(o)}_sendChunks(e){const o=this.chunker.chunk(e);ee.log(`DC#${this.connectionId} Try to send ${o.length} chunks...`);for(const s of o)this.send(s,!0)}}class PT extends Ic{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,o){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=go.None}}class GT extends Ic{_handleDataMessage({data:e}){const o=this.parse(this.decoder.decode(e)),s=o.__peerData;if(s&&s.type==="close"){this.close();return}this.emit("data",o)}_send(e,o){const s=this.encoder.encode(this.stringify(e));if(s.byteLength>=St.chunkedMTU){this.emitError(Rs.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(s)}constructor(...e){super(...e),this.serialization=go.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var Ac;const Cs=class Cs extends Dy{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[o,s]of this._connections)e[o]=s;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,o){super(),this._serializers={raw:PT,json:GT,binary:$u,"binary-utf8":$u,default:$u},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let s;if(e&&e.constructor==Object?o=e:e&&(s=e.toString()),o={debug:0,host:St.CLOUD_HOST,port:St.CLOUD_PORT,path:"/",key:Cs.DEFAULT_KEY,token:St.randomToken(),config:St.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...o},this._options=o,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==St.CLOUD_HOST?this._options.secure=St.isSecure():this._options.host==St.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&ee.setLogFunction(this._options.logFunction),ee.logLevel=this._options.debug||0,this._api=new LT(o),this._socket=this._createServerConnection(),!St.supports.audioVideo&&!St.supports.data){this._delayedAbort(ze.BrowserIncompatible,"The current browser does not support WebRTC");return}if(s&&!St.validateId(s)){this._delayedAbort(ze.InvalidID,`ID "${s}" is invalid`);return}s?this._initialize(s):this._api.retrieveId().then(l=>this._initialize(l)).catch(l=>this._abort(ze.ServerError,l))}_createServerConnection(){const e=new wT(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(en.Message,o=>{this._handleMessage(o)}),e.on(en.Error,o=>{this._abort(ze.SocketError,o)}),e.on(en.Disconnected,()=>{this.disconnected||(this.emitError(ze.Network,"Lost connection to server."),this.disconnect())}),e.on(en.Close,()=>{this.disconnected||this._abort(ze.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const o=e.type,s=e.payload,l=e.src;switch(o){case je.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case je.Error:this._abort(ze.ServerError,s.msg);break;case je.IdTaken:this._abort(ze.UnavailableID,`ID "${this.id}" is taken`);break;case je.InvalidKey:this._abort(ze.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case je.Leave:ee.log(`Received leave message from ${l}`),this._cleanupPeer(l),this._connections.delete(l);break;case je.Expire:this.emitError(ze.PeerUnavailable,`Could not connect to peer ${l}`);break;case je.Offer:{const u=s.connectionId;let f=this.getConnection(l,u);if(f&&(f.close(),ee.warn(`Offer received for existing Connection ID:${u}`)),s.type===tn.Media){const y=new ll(l,this,{connectionId:u,_payload:s,metadata:s.metadata});f=y,this._addConnection(l,f),this.emit("call",y)}else if(s.type===tn.Data){const y=new this._serializers[s.serialization](l,this,{connectionId:u,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});f=y,this._addConnection(l,f),this.emit("connection",y)}else{ee.warn(`Received malformed connection type:${s.type}`);return}const h=this._getMessages(u);for(const y of h)f.handleMessage(y);break}default:{if(!s){ee.warn(`You received a malformed message from ${l} of type ${o}`);return}const u=s.connectionId,f=this.getConnection(l,u);f&&f.peerConnection?f.handleMessage(e):u?this._storeMessage(u,e):ee.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,o){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(o)}_getMessages(e){const o=this._lostMessages.get(e);return o?(this._lostMessages.delete(e),o):[]}connect(e,o={}){if(o={serialization:"default",...o},this.disconnected){ee.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(ze.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const s=new this._serializers[o.serialization](e,this,o);return this._addConnection(e,s),s}call(e,o,s={}){if(this.disconnected){ee.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(ze.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!o){ee.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const l=new ll(e,this,{...s,_stream:o});return this._addConnection(e,l),l}_addConnection(e,o){ee.log(`add connection ${o.type}:${o.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(o)}_removeConnection(e){const o=this._connections.get(e.peer);if(o){const s=o.indexOf(e);s!==-1&&o.splice(s,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,o){const s=this._connections.get(e);if(!s)return null;for(const l of s)if(l.connectionId===o)return l;return null}_delayedAbort(e,o){setTimeout(()=>{this._abort(e,o)},0)}_abort(e,o){ee.error("Aborting!"),this.emitError(e,o),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(ee.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const o=this._connections.get(e);if(o)for(const s of o)s.close()}disconnect(){if(this.disconnected)return;const e=this.id;ee.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)ee.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)ee.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=o=>{}){this._api.listAllPeers().then(o=>e(o)).catch(o=>this._abort(ze.ServerError,o))}};Ac=new WeakMap,ps(Cs,Ac,Cs.DEFAULT_KEY="peerjs");let sc=Cs;/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=(...n)=>n.filter((e,o,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===o).join(" ").trim();/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,o,s)=>s?s.toUpperCase():o.toLowerCase());/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=n=>{const e=HT(n);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=Le.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:f,...h},y)=>Le.createElement("svg",{ref:y,...VT,width:e,height:e,stroke:n,strokeWidth:s?Number(o)*24/Number(e):o,className:wy("lucide",l),...!u&&!zT(h)&&{"aria-hidden":"true"},...h},[...f.map(([m,v])=>Le.createElement(m,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=(n,e)=>{const o=Le.forwardRef(({className:s,...l},u)=>Le.createElement(BT,{ref:u,iconNode:e,className:wy(`lucide-${OT(um(n))}`,`lucide-${n}`,s),...l}));return o.displayName=um(n),o};/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],cm=nn("hash",qT);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],JT=nn("headphones",FT);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],fm=nn("mic-off",YT);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],ky=nn("mic",KT);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],XT=nn("phone-off",$T);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],dm=nn("plus",QT);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],WT=nn("settings",ZT);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ly=nn("users",jT);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],ul=nn("video",eS);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Py=nn("volume-2",tS);var Cn=(n=>(n.TEXT="TEXT",n.VOICE="VOICE",n))(Cn||{}),cl=(n=>(n.ONLINE="ONLINE",n.IDLE="IDLE",n.DND="DND",n.OFFLINE="OFFLINE",n))(cl||{});const nS=Object.prototype.toString,iS=n=>nS.call(n)==="[object Error]",oS=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function sS(n){if(!(n&&iS(n)&&n.name==="TypeError"&&typeof n.message=="string"))return!1;const{message:o,stack:s}=n;return o==="Load failed"?s===void 0||"__sentry_captured__"in n:o.startsWith("error sending request for url")?!0:oS.has(o)}function rS(n){if(typeof n=="number"){if(n<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(n))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(n!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Yr(n,e,{min:o=0,allowInfinity:s=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${n}\` to be a number${s?" or Infinity":""}.`);if(!s&&!Number.isFinite(e))throw new TypeError(`Expected \`${n}\` to be a finite number.`);if(e<o)throw new TypeError(`Expected \`${n}\` to be  ${o}.`)}}class Gy extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function lS(n,e){const o=Math.max(1,n+1),s=e.randomize?Math.random()+1:1;let l=Math.round(s*e.minTimeout*e.factor**(o-1));return l=Math.min(l,e.maxTimeout),l}function pm(n,e){return Number.isFinite(e)?e-(performance.now()-n):e}async function aS({error:n,attemptNumber:e,retriesConsumed:o,startTime:s,options:l}){var E,b,w,I;const u=n instanceof Error?n:new TypeError(`Non-error was thrown: "${n}". You should only throw errors.`);if(u instanceof Gy)throw u.originalError;const f=Number.isFinite(l.retries)?Math.max(0,l.retries-o):l.retries,h=l.maxRetryTime??Number.POSITIVE_INFINITY,y=Object.freeze({error:u,attemptNumber:e,retriesLeft:f,retriesConsumed:o});if(await l.onFailedAttempt(y),pm(s,h)<=0)throw u;const m=await l.shouldConsumeRetry(y),v=pm(s,h);if(v<=0||f<=0)throw u;if(u instanceof TypeError&&!sS(u)){if(m)throw u;return(E=l.signal)==null||E.throwIfAborted(),!1}if(!await l.shouldRetry(y))throw u;if(!m)return(b=l.signal)==null||b.throwIfAborted(),!1;const _=lS(o,l),S=Math.min(_,v);return(w=l.signal)==null||w.throwIfAborted(),S>0&&await new Promise((z,$)=>{var W,O;const q=()=>{var F;clearTimeout(Y),(F=l.signal)==null||F.removeEventListener("abort",q),$(l.signal.reason)},Y=setTimeout(()=>{var F;(F=l.signal)==null||F.removeEventListener("abort",q),z()},S);l.unref&&((W=Y.unref)==null||W.call(Y)),(O=l.signal)==null||O.addEventListener("abort",q,{once:!0})}),(I=l.signal)==null||I.throwIfAborted(),!0}async function uS(n,e={}){var u,f,h;if(e={...e},rS(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??(e.retries=10),e.factor??(e.factor=2),e.minTimeout??(e.minTimeout=1e3),e.maxTimeout??(e.maxTimeout=Number.POSITIVE_INFINITY),e.maxRetryTime??(e.maxRetryTime=Number.POSITIVE_INFINITY),e.randomize??(e.randomize=!1),e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.shouldConsumeRetry??(e.shouldConsumeRetry=()=>!0),Yr("factor",e.factor,{min:0,allowInfinity:!1}),Yr("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),Yr("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),Yr("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),(u=e.signal)==null||u.throwIfAborted();let o=0,s=0;const l=performance.now();for(;!Number.isFinite(e.retries)||s<=e.retries;){o++;try{(f=e.signal)==null||f.throwIfAborted();const y=await n(o);return(h=e.signal)==null||h.throwIfAborted(),y}catch(y){await aS({error:y,attemptNumber:o,retriesConsumed:s,startTime:l,options:e})&&s++}}throw new Error("Retry attempts exhausted without throwing an error.")}var cS={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let fS,dS;function pS(){return{geminiUrl:fS,vertexUrl:dS}}function hS(n,e,o,s){var l,u;if(!(n!=null&&n.baseUrl)){const f=pS();return e?(l=f.vertexUrl)!==null&&l!==void 0?l:o:(u=f.geminiUrl)!==null&&u!==void 0?u:s}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class An{}function X(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(s,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const u=e[l];return u!=null?String(u):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function d(n,e,o){for(let u=0;u<e.length-1;u++){const f=e[u];if(f.endsWith("[]")){const h=f.slice(0,-2);if(!(h in n))if(Array.isArray(o))n[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(n[h])){const y=n[h];if(Array.isArray(o))for(let m=0;m<y.length;m++){const v=y[m];d(v,e.slice(u+1),o[m])}else for(const m of y)d(m,e.slice(u+1),o)}return}else if(f.endsWith("[0]")){const h=f.slice(0,-3);h in n||(n[h]=[{}]);const y=n[h];d(y[0],e.slice(u+1),o);return}(!n[f]||typeof n[f]!="object")&&(n[f]={}),n=n[f]}const s=e[e.length-1],l=n[s];if(l!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===l)return;if(typeof l=="object"&&typeof o=="object"&&l!==null&&o!==null)Object.assign(l,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(n,o):n[s]=o}function c(n,e,o=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let s=0;s<e.length;s++){if(typeof n!="object"||n===null)return o;const l=e[s];if(l.endsWith("[]")){const u=l.slice(0,-2);if(u in n){const f=n[u];return Array.isArray(f)?f.map(h=>c(h,e.slice(s+1),o)):o}else return o}else n=n[l]}return n}catch(s){if(s instanceof TypeError)return o;throw s}}function mS(n,e){for(const[o,s]of Object.entries(e)){const l=o.split("."),u=s.split("."),f=new Set;let h=-1;for(let y=0;y<l.length;y++)if(l[y]==="*"){h=y;break}if(h!==-1&&u.length>h)for(let y=h;y<u.length;y++){const m=u[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&f.add(m)}rc(n,l,u,0,f)}}function rc(n,e,o,s,l){if(s>=e.length||typeof n!="object"||n===null)return;const u=e[s];if(u.endsWith("[]")){const f=u.slice(0,-2),h=n;if(f in h&&Array.isArray(h[f]))for(const y of h[f])rc(y,e,o,s+1,l)}else if(u==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const f=n,h=Object.keys(f).filter(m=>!m.startsWith("_")&&!l.has(m)),y={};for(const m of h)y[m]=f[m];for(const[m,v]of Object.entries(y)){const _=[];for(const S of o.slice(s))S==="*"?_.push(m):_.push(S);d(f,_,v)}for(const m of h)delete f[m]}}else{const f=n;u in f&&rc(f[u],e,o,s+1,l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dc(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gS(n){const e={},o=c(n,["operationName"]);o!=null&&d(e,["operationName"],o);const s=c(n,["resourceName"]);return s!=null&&d(e,["_url","resourceName"],s),e}function yS(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const s=c(n,["metadata"]);s!=null&&d(e,["metadata"],s);const l=c(n,["done"]);l!=null&&d(e,["done"],l);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response","generateVideoResponse"]);return f!=null&&d(e,["response"],_S(f)),e}function vS(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const s=c(n,["metadata"]);s!=null&&d(e,["metadata"],s);const l=c(n,["done"]);l!=null&&d(e,["done"],l);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],TS(f)),e}function _S(n){const e={},o=c(n,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>SS(f))),d(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&d(e,["raiMediaFilteredReasons"],l),e}function TS(n){const e={},o=c(n,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>CS(f))),d(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&d(e,["raiMediaFilteredReasons"],l),e}function SS(n){const e={},o=c(n,["video"]);return o!=null&&d(e,["video"],MS(o)),e}function CS(n){const e={},o=c(n,["_self"]);return o!=null&&d(e,["video"],NS(o)),e}function ES(n){const e={},o=c(n,["operationName"]);return o!=null&&d(e,["_url","operationName"],o),e}function AS(n){const e={},o=c(n,["operationName"]);return o!=null&&d(e,["_url","operationName"],o),e}function RS(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const s=c(n,["metadata"]);s!=null&&d(e,["metadata"],s);const l=c(n,["done"]);l!=null&&d(e,["done"],l);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],xS(f)),e}function xS(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=c(n,["parent"]);s!=null&&d(e,["parent"],s);const l=c(n,["documentName"]);return l!=null&&d(e,["documentName"],l),e}function Oy(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const s=c(n,["metadata"]);s!=null&&d(e,["metadata"],s);const l=c(n,["done"]);l!=null&&d(e,["done"],l);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],bS(f)),e}function bS(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=c(n,["parent"]);s!=null&&d(e,["parent"],s);const l=c(n,["documentName"]);return l!=null&&d(e,["documentName"],l),e}function MS(n){const e={},o=c(n,["uri"]);o!=null&&d(e,["uri"],o);const s=c(n,["encodedVideo"]);s!=null&&d(e,["videoBytes"],Dc(s));const l=c(n,["encoding"]);return l!=null&&d(e,["mimeType"],l),e}function NS(n){const e={},o=c(n,["gcsUri"]);o!=null&&d(e,["uri"],o);const s=c(n,["bytesBase64Encoded"]);s!=null&&d(e,["videoBytes"],Dc(s));const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(hm||(hm={}));var mm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(mm||(mm={}));var gm;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(gm||(gm={}));var Wn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Wn||(Wn={}));var ym;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ym||(ym={}));var vm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(vm||(vm={}));var _m;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(_m||(_m={}));var Tm;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Tm||(Tm={}));var Sm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Sm||(Sm={}));var Cm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Cm||(Cm={}));var Em;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Em||(Em={}));var Am;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(Am||(Am={}));var Rm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Rm||(Rm={}));var xm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(xm||(xm={}));var bm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(bm||(bm={}));var Mm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(Mm||(Mm={}));var Nm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Nm||(Nm={}));var Im;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Im||(Im={}));var Dm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Dm||(Dm={}));var Um;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Um||(Um={}));var wm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(wm||(wm={}));var xs;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(xs||(xs={}));var km;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(km||(km={}));var Lm;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Lm||(Lm={}));var Pm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Pm||(Pm={}));var lc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(lc||(lc={}));var Gm;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Gm||(Gm={}));var Om;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Om||(Om={}));var ac;(function(n){n.COLLECTION="COLLECTION"})(ac||(ac={}));var Hm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Hm||(Hm={}));var Vm;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Vm||(Vm={}));var zm;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(zm||(zm={}));var Bm;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Bm||(Bm={}));var qm;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(qm||(qm={}));var Fm;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Fm||(Fm={}));var Jm;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Jm||(Jm={}));var Ym;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ym||(Ym={}));var Km;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Km||(Km={}));var $m;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})($m||($m={}));var Xm;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Xm||(Xm={}));var Qm;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Qm||(Qm={}));var Zm;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Zm||(Zm={}));var Wm;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING",n.DISTILLATION="DISTILLATION"})(Wm||(Wm={}));var jm;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(jm||(jm={}));var eg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(eg||(eg={}));var tg;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(tg||(tg={}));var ng;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ng||(ng={}));var ig;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(ig||(ig={}));var og;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(og||(og={}));var sg;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(sg||(sg={}));var rg;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(rg||(rg={}));var lg;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(lg||(lg={}));var ag;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(ag||(ag={}));var ug;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ug||(ug={}));var cg;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(cg||(cg={}));var fg;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(fg||(fg={}));var co;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(co||(co={}));class uc{constructor(e){const o={};for(const s of e.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class ys{get text(){var e,o,s,l,u,f,h,y;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const _=[];for(const S of(y=(h=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[E,b]of Object.entries(S))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(b!==null||b!==void 0)&&_.push(E);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,m+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var e,o,s,l,u,f,h,y;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const _ of(y=(h=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[S,E]of Object.entries(_))S!=="inlineData"&&(E!==null||E!==void 0)&&v.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(m+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,o,s,l,u,f,h,y;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(h=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,o,s,l,u,f,h,y,m;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,o,s,l,u,f,h,y,m;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class dg{}class pg{}class IS{}class DS{}class US{}class wS{}class hg{}class mg{}class gg{}class kS{}class fl{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new fl;let l;const u=e;return o?l=vS(u):l=yS(u),Object.assign(s,l),s}}class yg{}class vg{}class _g{}class Tg{}class LS{}class PS{}class GS{}class Uc{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new Uc,u=RS(e);return Object.assign(s,u),s}}class OS{}class HS{}class VS{}class zS{}class Sg{}class BS{get text(){var e,o,s;let l="",u=!1;const f=[];for(const h of(s=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,m]of Object.entries(h))y!=="text"&&y!=="thought"&&m!==null&&f.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,l+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?l:void 0}get data(){var e,o,s;let l="";const u=[];for(const f of(s=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[h,y]of Object.entries(f))h!=="inlineData"&&y!==null&&u.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(l+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class qS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class wc{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new wc,u=Oy(e);return Object.assign(s,u),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Re(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Hy(n,e){const o=Re(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function Vy(n){return Array.isArray(n)?n.map(e=>dl(e)):[dl(n)]}function dl(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function zy(n){const e=dl(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function By(n){const e=dl(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Cg(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function qy(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Cg(e)):[Cg(n)]}function cc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Eg(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Ag(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function lt(n){if(n==null)throw new Error("ContentUnion is required");return cc(n)?n:{role:"user",parts:qy(n)}}function kc(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const s=lt(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(n.isVertexAI()){const o=lt(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>lt(o)):[lt(e)]}function Bt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Eg(n)||Ag(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[lt(n)]}const e=[],o=[],s=cc(n[0]);for(const l of n){const u=cc(l);if(u!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(l);else{if(Eg(l)||Ag(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(l)}}return s||e.push({role:"user",parts:qy(o)}),e}function FS(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(s=>s!=="null");if(o.length===1)e.type=Object.values(Wn).includes(o[0].toUpperCase())?o[0].toUpperCase():Wn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of o)e.anyOf.push({type:Object.values(Wn).includes(s.toUpperCase())?s.toUpperCase():Wn.TYPE_UNSPECIFIED})}}function ho(n){const e={},o=["items"],s=["anyOf"],l=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=n.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,n=u[1]):u[1].type==="null"&&(e.nullable=!0,n=u[0])),n.type instanceof Array&&FS(n.type,e);for(const[f,h]of Object.entries(n))if(h!=null)if(f=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(Wn).includes(h.toUpperCase())?h.toUpperCase():Wn.TYPE_UNSPECIFIED}else if(o.includes(f))e[f]=ho(h);else if(s.includes(f)){const y=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}y.push(ho(m))}e[f]=y}else if(l.includes(f)){const y={};for(const[m,v]of Object.entries(h))y[m]=ho(v);e[f]=y}else{if(f==="additionalProperties")continue;e[f]=h}return e}function Lc(n){return ho(n)}function Pc(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Gc(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function yo(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ho(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ho(e.response));return n}function vo(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function JS(n,e,o,s=1){const l=!e.startsWith(`${o}/`)&&e.split("/").length===s;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:l?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:l?`${o}/${e}`:e}function Rn(n,e){if(typeof e!="string")throw new Error("name must be a string");return JS(n,e,"cachedContents")}function Fy(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function jn(n){return Dc(n)}function YS(n){return n!=null&&typeof n=="object"&&"name"in n}function KS(n){return n!=null&&typeof n=="object"&&"video"in n}function $S(n){return n!=null&&typeof n=="object"&&"uri"in n}function Jy(n){var e;let o;if(YS(n)&&(o=n.name),!($S(n)&&(o=n.uri,o===void 0))&&!(KS(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const l=o.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${o}`);o=l[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Yy(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function Ky(n){for(const e of["models","tunedModels","publisherModels"])if(XS(n,e))return n[e];return[]}function XS(n,e){return n!==null&&typeof n=="object"&&e in n}function QS(n,e={}){const o=n,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function ZS(n,e={}){const o=[],s=new Set;for(const l of n){const u=l.name;if(s.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);s.add(u);const f=QS(l,e);f.functionDeclarations&&o.push(...f.functionDeclarations)}return{functionDeclarations:o}}function $y(n,e){let o;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,l=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(n.isVertexAI()){if(l>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function WS(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Xy(n){if(typeof n!="object"||n===null)return{};const e=n,o=e.inlinedResponses;if(typeof o!="object"||o===null)return n;const l=o.inlinedResponses;if(!Array.isArray(l)||l.length===0)return n;let u=!1;for(const f of l){if(typeof f!="object"||f===null)continue;const y=f.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function _o(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Qy(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jS(n){const e={},o=c(n,["responsesFile"]);o!=null&&d(e,["fileName"],o);const s=c(n,["inlinedResponses","inlinedResponses"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>wC(f))),d(e,["inlinedResponses"],u)}const l=c(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["inlinedEmbedContentResponses"],u)}return e}function eC(n){const e={},o=c(n,["predictionsFormat"]);o!=null&&d(e,["format"],o);const s=c(n,["gcsDestination","outputUriPrefix"]);s!=null&&d(e,["gcsUri"],s);const l=c(n,["bigqueryDestination","outputUri"]);return l!=null&&d(e,["bigqueryUri"],l),e}function tC(n){const e={},o=c(n,["format"]);o!=null&&d(e,["predictionsFormat"],o);const s=c(n,["gcsUri"]);s!=null&&d(e,["gcsDestination","outputUriPrefix"],s);const l=c(n,["bigqueryUri"]);if(l!=null&&d(e,["bigqueryDestination","outputUri"],l),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function sl(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const s=c(n,["metadata","displayName"]);s!=null&&d(e,["displayName"],s);const l=c(n,["metadata","state"]);l!=null&&d(e,["state"],Qy(l));const u=c(n,["metadata","createTime"]);u!=null&&d(e,["createTime"],u);const f=c(n,["metadata","endTime"]);f!=null&&d(e,["endTime"],f);const h=c(n,["metadata","updateTime"]);h!=null&&d(e,["updateTime"],h);const y=c(n,["metadata","model"]);y!=null&&d(e,["model"],y);const m=c(n,["metadata","output"]);return m!=null&&d(e,["dest"],jS(Xy(m))),e}function fc(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const s=c(n,["displayName"]);s!=null&&d(e,["displayName"],s);const l=c(n,["state"]);l!=null&&d(e,["state"],Qy(l));const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["createTime"]);f!=null&&d(e,["createTime"],f);const h=c(n,["startTime"]);h!=null&&d(e,["startTime"],h);const y=c(n,["endTime"]);y!=null&&d(e,["endTime"],y);const m=c(n,["updateTime"]);m!=null&&d(e,["updateTime"],m);const v=c(n,["model"]);v!=null&&d(e,["model"],v);const _=c(n,["inputConfig"]);_!=null&&d(e,["src"],nC(_));const S=c(n,["outputConfig"]);S!=null&&d(e,["dest"],eC(Xy(S)));const E=c(n,["completionStats"]);return E!=null&&d(e,["completionStats"],E),e}function nC(n){const e={},o=c(n,["instancesFormat"]);o!=null&&d(e,["format"],o);const s=c(n,["gcsSource","uris"]);s!=null&&d(e,["gcsUri"],s);const l=c(n,["bigquerySource","inputUri"]);return l!=null&&d(e,["bigqueryUri"],l),e}function iC(n,e){const o={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=c(e,["fileName"]);s!=null&&d(o,["fileName"],s);const l=c(e,["inlinedRequests"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>UC(n,f))),d(o,["requests","requests"],u)}return o}function oC(n){const e={},o=c(n,["format"]);o!=null&&d(e,["instancesFormat"],o);const s=c(n,["gcsUri"]);s!=null&&d(e,["gcsSource","uris"],s);const l=c(n,["bigqueryUri"]);if(l!=null&&d(e,["bigquerySource","inputUri"],l),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function sC(n){const e={},o=c(n,["data"]);if(o!=null&&d(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function rC(n,e){const o={},s=c(e,["name"]);return s!=null&&d(o,["_url","name"],_o(n,s)),o}function lC(n,e){const o={},s=c(e,["name"]);return s!=null&&d(o,["_url","name"],_o(n,s)),o}function aC(n){const e={},o=c(n,["content"]);o!=null&&d(e,["content"],o);const s=c(n,["citationMetadata"]);s!=null&&d(e,["citationMetadata"],uC(s));const l=c(n,["tokenCount"]);l!=null&&d(e,["tokenCount"],l);const u=c(n,["finishReason"]);u!=null&&d(e,["finishReason"],u);const f=c(n,["avgLogprobs"]);f!=null&&d(e,["avgLogprobs"],f);const h=c(n,["groundingMetadata"]);h!=null&&d(e,["groundingMetadata"],h);const y=c(n,["index"]);y!=null&&d(e,["index"],y);const m=c(n,["logprobsResult"]);m!=null&&d(e,["logprobsResult"],m);const v=c(n,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(E=>E)),d(e,["safetyRatings"],S)}const _=c(n,["urlContextMetadata"]);return _!=null&&d(e,["urlContextMetadata"],_),e}function uC(n){const e={},o=c(n,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),d(e,["citations"],s)}return e}function Zy(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>VC(u))),d(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&d(e,["role"],s),e}function cC(n,e){const o={},s=c(n,["displayName"]);if(e!==void 0&&s!=null&&d(e,["batch","displayName"],s),c(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function fC(n,e){const o={},s=c(n,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const l=c(n,["dest"]);return e!==void 0&&l!=null&&d(e,["outputConfig"],tC(WS(l))),o}function Rg(n,e){const o={},s=c(e,["model"]);s!=null&&d(o,["_url","model"],Re(n,s));const l=c(e,["src"]);l!=null&&d(o,["batch","inputConfig"],iC(n,$y(n,l)));const u=c(e,["config"]);return u!=null&&cC(u,o),o}function dC(n,e){const o={},s=c(e,["model"]);s!=null&&d(o,["model"],Re(n,s));const l=c(e,["src"]);l!=null&&d(o,["inputConfig"],oC($y(n,l)));const u=c(e,["config"]);return u!=null&&fC(u,o),o}function pC(n,e){const o={},s=c(n,["displayName"]);return e!==void 0&&s!=null&&d(e,["batch","displayName"],s),o}function hC(n,e){const o={},s=c(e,["model"]);s!=null&&d(o,["_url","model"],Re(n,s));const l=c(e,["src"]);l!=null&&d(o,["batch","inputConfig"],SC(n,l));const u=c(e,["config"]);return u!=null&&pC(u,o),o}function mC(n,e){const o={},s=c(e,["name"]);return s!=null&&d(o,["_url","name"],_o(n,s)),o}function gC(n,e){const o={},s=c(e,["name"]);return s!=null&&d(o,["_url","name"],_o(n,s)),o}function yC(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=c(n,["name"]);s!=null&&d(e,["name"],s);const l=c(n,["done"]);l!=null&&d(e,["done"],l);const u=c(n,["error"]);return u!=null&&d(e,["error"],u),e}function vC(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=c(n,["name"]);s!=null&&d(e,["name"],s);const l=c(n,["done"]);l!=null&&d(e,["done"],l);const u=c(n,["error"]);return u!=null&&d(e,["error"],u),e}function _C(n,e){const o={},s=c(e,["contents"]);if(s!=null){let u=kc(n,s);Array.isArray(u)&&(u=u.map(f=>f)),d(o,["requests[]","request","content"],u)}const l=c(e,["config"]);return l!=null&&(d(o,["_self"],TC(l,o)),mS(o,{"requests[].*":"requests[].request.*"})),o}function TC(n,e){const o={},s=c(n,["taskType"]);e!==void 0&&s!=null&&d(e,["requests[]","taskType"],s);const l=c(n,["title"]);e!==void 0&&l!=null&&d(e,["requests[]","title"],l);const u=c(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function SC(n,e){const o={},s=c(e,["fileName"]);s!=null&&d(o,["file_name"],s);const l=c(e,["inlinedRequests"]);return l!=null&&d(o,["requests"],_C(n,l)),o}function CC(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function EC(n){const e={},o=c(n,["id"]);o!=null&&d(e,["id"],o);const s=c(n,["args"]);s!=null&&d(e,["args"],s);const l=c(n,["name"]);if(l!=null&&d(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function AC(n){const e={},o=c(n,["allowedFunctionNames"]);o!=null&&d(e,["allowedFunctionNames"],o);const s=c(n,["mode"]);if(s!=null&&d(e,["mode"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function RC(n,e,o){const s={},l=c(e,["systemInstruction"]);o!==void 0&&l!=null&&d(o,["systemInstruction"],Zy(lt(l)));const u=c(e,["temperature"]);u!=null&&d(s,["temperature"],u);const f=c(e,["topP"]);f!=null&&d(s,["topP"],f);const h=c(e,["topK"]);h!=null&&d(s,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&d(s,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&d(s,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&d(s,["stopSequences"],v);const _=c(e,["responseLogprobs"]);_!=null&&d(s,["responseLogprobs"],_);const S=c(e,["logprobs"]);S!=null&&d(s,["logprobs"],S);const E=c(e,["presencePenalty"]);E!=null&&d(s,["presencePenalty"],E);const b=c(e,["frequencyPenalty"]);b!=null&&d(s,["frequencyPenalty"],b);const w=c(e,["seed"]);w!=null&&d(s,["seed"],w);const I=c(e,["responseMimeType"]);I!=null&&d(s,["responseMimeType"],I);const z=c(e,["responseSchema"]);z!=null&&d(s,["responseSchema"],Lc(z));const $=c(e,["responseJsonSchema"]);if($!=null&&d(s,["responseJsonSchema"],$),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const q=c(e,["safetySettings"]);if(o!==void 0&&q!=null){let pe=q;Array.isArray(pe)&&(pe=pe.map(Se=>zC(Se))),d(o,["safetySettings"],pe)}const Y=c(e,["tools"]);if(o!==void 0&&Y!=null){let pe=vo(Y);Array.isArray(pe)&&(pe=pe.map(Se=>qC(yo(Se)))),d(o,["tools"],pe)}const W=c(e,["toolConfig"]);if(o!==void 0&&W!=null&&d(o,["toolConfig"],BC(W)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=c(e,["cachedContent"]);o!==void 0&&O!=null&&d(o,["cachedContent"],Rn(n,O));const F=c(e,["responseModalities"]);F!=null&&d(s,["responseModalities"],F);const fe=c(e,["mediaResolution"]);fe!=null&&d(s,["mediaResolution"],fe);const j=c(e,["speechConfig"]);if(j!=null&&d(s,["speechConfig"],Pc(j)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=c(e,["thinkingConfig"]);ae!=null&&d(s,["thinkingConfig"],ae);const Te=c(e,["imageConfig"]);Te!=null&&d(s,["imageConfig"],DC(Te));const J=c(e,["enableEnhancedCivicAnswers"]);if(J!=null&&d(s,["enableEnhancedCivicAnswers"],J),c(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function xC(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=c(n,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(m=>aC(m))),d(e,["candidates"],y)}const l=c(n,["modelVersion"]);l!=null&&d(e,["modelVersion"],l);const u=c(n,["promptFeedback"]);u!=null&&d(e,["promptFeedback"],u);const f=c(n,["responseId"]);f!=null&&d(e,["responseId"],f);const h=c(n,["usageMetadata"]);return h!=null&&d(e,["usageMetadata"],h),e}function bC(n,e){const o={},s=c(e,["name"]);return s!=null&&d(o,["_url","name"],_o(n,s)),o}function MC(n,e){const o={},s=c(e,["name"]);return s!=null&&d(o,["_url","name"],_o(n,s)),o}function NC(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function IC(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function DC(n){const e={},o=c(n,["aspectRatio"]);o!=null&&d(e,["aspectRatio"],o);const s=c(n,["imageSize"]);if(s!=null&&d(e,["imageSize"],s),c(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function UC(n,e){const o={},s=c(e,["model"]);s!=null&&d(o,["request","model"],Re(n,s));const l=c(e,["contents"]);if(l!=null){let h=Bt(l);Array.isArray(h)&&(h=h.map(y=>Zy(y))),d(o,["request","contents"],h)}const u=c(e,["metadata"]);u!=null&&d(o,["metadata"],u);const f=c(e,["config"]);return f!=null&&d(o,["request","generationConfig"],RC(n,f,c(o,["request"],{}))),o}function wC(n){const e={},o=c(n,["response"]);o!=null&&d(e,["response"],xC(o));const s=c(n,["metadata"]);s!=null&&d(e,["metadata"],s);const l=c(n,["error"]);return l!=null&&d(e,["error"],l),e}function kC(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);if(e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),c(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function LC(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);e!==void 0&&l!=null&&d(e,["_query","pageToken"],l);const u=c(n,["filter"]);return e!==void 0&&u!=null&&d(e,["_query","filter"],u),o}function PC(n){const e={},o=c(n,["config"]);return o!=null&&kC(o,e),e}function GC(n){const e={},o=c(n,["config"]);return o!=null&&LC(o,e),e}function OC(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=c(n,["operations"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>sl(f))),d(e,["batchJobs"],u)}return e}function HC(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=c(n,["batchPredictionJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>fc(f))),d(e,["batchJobs"],u)}return e}function VC(n){const e={},o=c(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&d(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],CC(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],EC(f));const h=c(n,["functionResponse"]);h!=null&&d(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&d(e,["inlineData"],sC(y));const m=c(n,["text"]);m!=null&&d(e,["text"],m);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&d(e,["thoughtSignature"],_);const S=c(n,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function zC(n){const e={},o=c(n,["category"]);if(o!=null&&d(e,["category"],o),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(n,["threshold"]);return s!=null&&d(e,["threshold"],s),e}function BC(n){const e={},o=c(n,["retrievalConfig"]);o!=null&&d(e,["retrievalConfig"],o);const s=c(n,["functionCallingConfig"]);return s!=null&&d(e,["functionCallingConfig"],AC(s)),e}function qC(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(n,["computerUse"]);o!=null&&d(e,["computerUse"],o);const s=c(n,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const l=c(n,["codeExecution"]);if(l!=null&&d(e,["codeExecution"],l),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>_)),d(e,["functionDeclarations"],v)}const f=c(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],NC(f));const h=c(n,["googleSearch"]);h!=null&&d(e,["googleSearch"],IC(h));const y=c(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const m=c(n,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var En;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(En||(En={}));class Ai{constructor(e,o,s,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,s,l)}init(e,o,s){var l,u;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!s||Object.keys(s).length===0?f={config:{}}:typeof s=="object"?f=Object.assign({},s):f=s,f.config&&(f.config.pageToken=o.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(u=(l=f.config)===null||l===void 0?void 0:l.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FC extends An{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Ai(En.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(e){const o=Rg(this.apiClient,e),s=o._url,l=X("{model}:batchGenerateContent",s),h=o.batch.inputConfig.requests,y=h.requests,m=[];for(const v of y){const _=Object.assign({},v);if(_.systemInstruction){const S=_.systemInstruction;delete _.systemInstruction;const E=_.request;E.systemInstruction=S,_.request=E}m.push(_)}return h.requests=m,delete o.config,delete o._url,delete o._query,{path:l,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const s=o?Object.assign({},o):{},l=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${l}`),s.dest===void 0){const u=this.getGcsUri(e),f=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?s.dest=`${u.slice(0,-6)}/dest`:s.dest=`${u}_dest_${l}`;else if(f)s.dest=`${f}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=dC(this.apiClient,e);return h=X("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),f.then(v=>fc(v))}else{const m=Rg(this.apiClient,e);return h=X("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>sl(v))}}async createEmbeddingsInternal(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=hC(this.apiClient,e);return u=X("{model}:asyncBatchEmbedContent",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>sl(y))}}async get(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=MC(this.apiClient,e);return h=X("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),f.then(v=>fc(v))}else{const m=bC(this.apiClient,e);return h=X("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>sl(v))}}async cancel(e){var o,s,l,u;let f="",h={};if(this.apiClient.isVertexAI()){const y=lC(this.apiClient,e);f=X("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=rC(this.apiClient,e);f=X("batches/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=GC(e);return h=X("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=HC(v),S=new Sg;return Object.assign(S,_),S})}else{const m=PC(e);return h=X("batches",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=OC(v),S=new Sg;return Object.assign(S,_),S})}}async delete(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=gC(this.apiClient,e);return h=X("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>vC(v))}else{const m=mC(this.apiClient,e);return h=X("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>yC(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JC(n){const e={},o=c(n,["data"]);if(o!=null&&d(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function xg(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>hE(u))),d(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&d(e,["role"],s),e}function YC(n,e){const o={},s=c(n,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const l=c(n,["expireTime"]);e!==void 0&&l!=null&&d(e,["expireTime"],l);const u=c(n,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const f=c(n,["contents"]);if(e!==void 0&&f!=null){let v=Bt(f);Array.isArray(v)&&(v=v.map(_=>xg(_))),d(e,["contents"],v)}const h=c(n,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],xg(lt(h)));const y=c(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(_=>gE(_))),d(e,["tools"],v)}const m=c(n,["toolConfig"]);if(e!==void 0&&m!=null&&d(e,["toolConfig"],mE(m)),c(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function KC(n,e){const o={},s=c(n,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const l=c(n,["expireTime"]);e!==void 0&&l!=null&&d(e,["expireTime"],l);const u=c(n,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const f=c(n,["contents"]);if(e!==void 0&&f!=null){let _=Bt(f);Array.isArray(_)&&(_=_.map(S=>S)),d(e,["contents"],_)}const h=c(n,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],lt(h));const y=c(n,["tools"]);if(e!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(S=>yE(S))),d(e,["tools"],_)}const m=c(n,["toolConfig"]);e!==void 0&&m!=null&&d(e,["toolConfig"],m);const v=c(n,["kmsKeyName"]);return e!==void 0&&v!=null&&d(e,["encryption_spec","kmsKeyName"],v),o}function $C(n,e){const o={},s=c(e,["model"]);s!=null&&d(o,["model"],Hy(n,s));const l=c(e,["config"]);return l!=null&&YC(l,o),o}function XC(n,e){const o={},s=c(e,["model"]);s!=null&&d(o,["model"],Hy(n,s));const l=c(e,["config"]);return l!=null&&KC(l,o),o}function QC(n,e){const o={},s=c(e,["name"]);return s!=null&&d(o,["_url","name"],Rn(n,s)),o}function ZC(n,e){const o={},s=c(e,["name"]);return s!=null&&d(o,["_url","name"],Rn(n,s)),o}function WC(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function jC(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function eE(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function tE(n){const e={},o=c(n,["id"]);o!=null&&d(e,["id"],o);const s=c(n,["args"]);s!=null&&d(e,["args"],s);const l=c(n,["name"]);if(l!=null&&d(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function nE(n){const e={},o=c(n,["allowedFunctionNames"]);o!=null&&d(e,["allowedFunctionNames"],o);const s=c(n,["mode"]);if(s!=null&&d(e,["mode"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function iE(n){const e={},o=c(n,["description"]);o!=null&&d(e,["description"],o);const s=c(n,["name"]);s!=null&&d(e,["name"],s);const l=c(n,["parameters"]);l!=null&&d(e,["parameters"],l);const u=c(n,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const f=c(n,["response"]);f!=null&&d(e,["response"],f);const h=c(n,["responseJsonSchema"]);if(h!=null&&d(e,["responseJsonSchema"],h),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function oE(n,e){const o={},s=c(e,["name"]);return s!=null&&d(o,["_url","name"],Rn(n,s)),o}function sE(n,e){const o={},s=c(e,["name"]);return s!=null&&d(o,["_url","name"],Rn(n,s)),o}function rE(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function lE(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function aE(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),o}function uE(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),o}function cE(n){const e={},o=c(n,["config"]);return o!=null&&aE(o,e),e}function fE(n){const e={},o=c(n,["config"]);return o!=null&&uE(o,e),e}function dE(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=c(n,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["cachedContents"],u)}return e}function pE(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=c(n,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["cachedContents"],u)}return e}function hE(n){const e={},o=c(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&d(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],eE(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],tE(f));const h=c(n,["functionResponse"]);h!=null&&d(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&d(e,["inlineData"],JC(y));const m=c(n,["text"]);m!=null&&d(e,["text"],m);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&d(e,["thoughtSignature"],_);const S=c(n,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function mE(n){const e={},o=c(n,["retrievalConfig"]);o!=null&&d(e,["retrievalConfig"],o);const s=c(n,["functionCallingConfig"]);return s!=null&&d(e,["functionCallingConfig"],nE(s)),e}function gE(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(n,["computerUse"]);o!=null&&d(e,["computerUse"],o);const s=c(n,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const l=c(n,["codeExecution"]);if(l!=null&&d(e,["codeExecution"],l),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>_)),d(e,["functionDeclarations"],v)}const f=c(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],rE(f));const h=c(n,["googleSearch"]);h!=null&&d(e,["googleSearch"],lE(h));const y=c(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const m=c(n,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}function yE(n){const e={},o=c(n,["retrieval"]);o!=null&&d(e,["retrieval"],o);const s=c(n,["computerUse"]);if(s!=null&&d(e,["computerUse"],s),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=c(n,["codeExecution"]);l!=null&&d(e,["codeExecution"],l);const u=c(n,["enterpriseWebSearch"]);u!=null&&d(e,["enterpriseWebSearch"],u);const f=c(n,["functionDeclarations"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(S=>iE(S))),d(e,["functionDeclarations"],_)}const h=c(n,["googleMaps"]);h!=null&&d(e,["googleMaps"],h);const y=c(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],y);const m=c(n,["googleSearchRetrieval"]);m!=null&&d(e,["googleSearchRetrieval"],m);const v=c(n,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function vE(n,e){const o={},s=c(n,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const l=c(n,["expireTime"]);return e!==void 0&&l!=null&&d(e,["expireTime"],l),o}function _E(n,e){const o={},s=c(n,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const l=c(n,["expireTime"]);return e!==void 0&&l!=null&&d(e,["expireTime"],l),o}function TE(n,e){const o={},s=c(e,["name"]);s!=null&&d(o,["_url","name"],Rn(n,s));const l=c(e,["config"]);return l!=null&&vE(l,o),o}function SE(n,e){const o={},s=c(e,["name"]);s!=null&&d(o,["_url","name"],Rn(n,s));const l=c(e,["config"]);return l!=null&&_E(l,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CE extends An{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Ai(En.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=XC(this.apiClient,e);return h=X("cachedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=$C(this.apiClient,e);return h=X("cachedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async get(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=sE(this.apiClient,e);return h=X("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=oE(this.apiClient,e);return h=X("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async delete(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=ZC(this.apiClient,e);return h=X("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=jC(v),S=new _g;return Object.assign(S,_),S})}else{const m=QC(this.apiClient,e);return h=X("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=WC(v),S=new _g;return Object.assign(S,_),S})}}async update(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=SE(this.apiClient,e);return h=X("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=TE(this.apiClient,e);return h=X("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async listInternal(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=fE(e);return h=X("cachedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=pE(v),S=new Tg;return Object.assign(S,_),S})}else{const m=cE(e);return h=X("cachedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=dE(v),S=new Tg;return Object.assign(S,_),S})}}}function pl(n,e){var o={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(o[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(n);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(n,s[l])&&(o[s[l]]=n[s[l]]);return o}function bg(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],s=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(n){return this instanceof re?(this.v=n,this):new re(n)}function Kt(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(n,e||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",f),l[Symbol.asyncIterator]=function(){return this},l;function f(E){return function(b){return Promise.resolve(b).then(E,_)}}function h(E,b){s[E]&&(l[E]=function(w){return new Promise(function(I,z){u.push([E,w,I,z])>1||y(E,w)})},b&&(l[E]=b(l[E])))}function y(E,b){try{m(s[E](b))}catch(w){S(u[0][3],w)}}function m(E){E.value instanceof re?Promise.resolve(E.value.v).then(v,_):S(u[0][2],E)}function v(E){y("next",E)}function _(E){y("throw",E)}function S(E,b){E(b),u.shift(),u.length&&y(u[0][0],u[0][1])}}function $t(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof bg=="function"?bg(n):n[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(u){o[u]=n[u]&&function(f){return new Promise(function(h,y){f=n[u](f),l(h,y,f.done,f.value)})}}function l(u,f,h,y){Promise.resolve(y).then(function(m){u({value:m,done:h})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EE(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:Wy(o)}function Wy(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function AE(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Mg(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let s=0;for(;s<o;)if(n[s].role==="user")e.push(n[s]),s++;else{const l=[];let u=!0;for(;s<o&&n[s].role==="model";)l.push(n[s]),u&&!Wy(n[s])&&(u=!1),s++;u?e.push(...l):e.pop()}return e}class RE{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new xE(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class xE{constructor(e,o,s,l={},u=[]){this.apiClient=e,this.modelsModule=o,this.model=s,this.config=l,this.history=u,this.sendPromise=Promise.resolve(),AE(u)}async sendMessage(e){var o;await this.sendPromise;const s=lt(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var u,f,h;const y=await l,m=(f=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content,v=y.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];v!=null&&(S=(h=v.slice(_))!==null&&h!==void 0?h:[]);const E=m?[m]:[];this.recordHistory(s,E,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var o;await this.sendPromise;const s=lt(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const u=await l;return this.processStreamResponse(u,s)}getHistory(e=!1){const o=e?Mg(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){return Kt(this,arguments,function*(){var l,u,f,h,y,m;const v=[];try{for(var _=!0,S=$t(e),E;E=yield re(S.next()),l=E.done,!l;_=!0){h=E.value,_=!1;const b=h;if(EE(b)){const w=(m=(y=b.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;w!==void 0&&v.push(w)}yield yield re(b)}}catch(b){u={error:b}}finally{try{!_&&!l&&(f=S.return)&&(yield re(f.call(S)))}finally{if(u)throw u.error}}this.recordHistory(o,v)})}recordHistory(e,o,s){let l=[];o.length>0&&o.every(u=>u.role!==void 0)?l=o:l.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Mg(s)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bs extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,bs.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bE(n){const e={},o=c(n,["file"]);return o!=null&&d(e,["file"],o),e}function ME(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function NE(n){const e={},o=c(n,["name"]);return o!=null&&d(e,["_url","file"],Jy(o)),e}function IE(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function DE(n){const e={},o=c(n,["name"]);return o!=null&&d(e,["_url","file"],Jy(o)),e}function UE(n){const e={},o=c(n,["uris"]);return o!=null&&d(e,["uris"],o),e}function wE(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),o}function kE(n){const e={},o=c(n,["config"]);return o!=null&&wE(o,e),e}function LE(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=c(n,["files"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["files"],u)}return e}function PE(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=c(n,["files"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),d(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GE extends An{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Ai(En.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>o)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=kE(e);return u=X("files",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=LE(y),v=new OS;return Object.assign(v,m),v})}}async createInternal(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=bE(e);return u=X("upload/v1beta/files",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=ME(y),v=new HS;return Object.assign(v,m),v})}}async get(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=DE(e);return u=X("files/{file}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=NE(e);return u=X("files/{file}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=IE(y),v=new VS;return Object.assign(v,m),v})}}async registerFilesInternal(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=UE(e);return u=X("files:register",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=PE(y),v=new zS;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rl(n){const e={},o=c(n,["data"]);if(o!=null&&d(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function OE(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>eA(u))),d(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&d(e,["role"],s),e}function HE(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function VE(n){const e={},o=c(n,["id"]);o!=null&&d(e,["id"],o);const s=c(n,["args"]);s!=null&&d(e,["args"],s);const l=c(n,["name"]);if(l!=null&&d(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zE(n){const e={},o=c(n,["description"]);o!=null&&d(e,["description"],o);const s=c(n,["name"]);s!=null&&d(e,["name"],s);const l=c(n,["parameters"]);l!=null&&d(e,["parameters"],l);const u=c(n,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const f=c(n,["response"]);f!=null&&d(e,["response"],f);const h=c(n,["responseJsonSchema"]);if(h!=null&&d(e,["responseJsonSchema"],h),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function BE(n){const e={},o=c(n,["modelSelectionConfig"]);o!=null&&d(e,["modelConfig"],o);const s=c(n,["responseJsonSchema"]);s!=null&&d(e,["responseJsonSchema"],s);const l=c(n,["audioTimestamp"]);l!=null&&d(e,["audioTimestamp"],l);const u=c(n,["candidateCount"]);u!=null&&d(e,["candidateCount"],u);const f=c(n,["enableAffectiveDialog"]);f!=null&&d(e,["enableAffectiveDialog"],f);const h=c(n,["frequencyPenalty"]);h!=null&&d(e,["frequencyPenalty"],h);const y=c(n,["logprobs"]);y!=null&&d(e,["logprobs"],y);const m=c(n,["maxOutputTokens"]);m!=null&&d(e,["maxOutputTokens"],m);const v=c(n,["mediaResolution"]);v!=null&&d(e,["mediaResolution"],v);const _=c(n,["presencePenalty"]);_!=null&&d(e,["presencePenalty"],_);const S=c(n,["responseLogprobs"]);S!=null&&d(e,["responseLogprobs"],S);const E=c(n,["responseMimeType"]);E!=null&&d(e,["responseMimeType"],E);const b=c(n,["responseModalities"]);b!=null&&d(e,["responseModalities"],b);const w=c(n,["responseSchema"]);w!=null&&d(e,["responseSchema"],w);const I=c(n,["routingConfig"]);I!=null&&d(e,["routingConfig"],I);const z=c(n,["seed"]);z!=null&&d(e,["seed"],z);const $=c(n,["speechConfig"]);$!=null&&d(e,["speechConfig"],$);const q=c(n,["stopSequences"]);q!=null&&d(e,["stopSequences"],q);const Y=c(n,["temperature"]);Y!=null&&d(e,["temperature"],Y);const W=c(n,["thinkingConfig"]);W!=null&&d(e,["thinkingConfig"],W);const O=c(n,["topK"]);O!=null&&d(e,["topK"],O);const F=c(n,["topP"]);if(F!=null&&d(e,["topP"],F),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function qE(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function FE(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function JE(n,e){const o={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],s);const l=c(n,["responseModalities"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","responseModalities"],l);const u=c(n,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const f=c(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const h=c(n,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const v=c(n,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","speechConfig"],Gc(_));const S=c(n,["thinkingConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","thinkingConfig"],S);const E=c(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],E);const b=c(n,["systemInstruction"]);e!==void 0&&b!=null&&d(e,["setup","systemInstruction"],OE(lt(b)));const w=c(n,["tools"]);if(e!==void 0&&w!=null){let O=vo(w);Array.isArray(O)&&(O=O.map(F=>nA(yo(F)))),d(e,["setup","tools"],O)}const I=c(n,["sessionResumption"]);e!==void 0&&I!=null&&d(e,["setup","sessionResumption"],tA(I));const z=c(n,["inputAudioTranscription"]);e!==void 0&&z!=null&&d(e,["setup","inputAudioTranscription"],z);const $=c(n,["outputAudioTranscription"]);e!==void 0&&$!=null&&d(e,["setup","outputAudioTranscription"],$);const q=c(n,["realtimeInputConfig"]);e!==void 0&&q!=null&&d(e,["setup","realtimeInputConfig"],q);const Y=c(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&d(e,["setup","contextWindowCompression"],Y);const W=c(n,["proactivity"]);if(e!==void 0&&W!=null&&d(e,["setup","proactivity"],W),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function YE(n,e){const o={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],BE(s));const l=c(n,["responseModalities"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","responseModalities"],l);const u=c(n,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const f=c(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const h=c(n,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const v=c(n,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","speechConfig"],Gc(_));const S=c(n,["thinkingConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","thinkingConfig"],S);const E=c(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],E);const b=c(n,["systemInstruction"]);e!==void 0&&b!=null&&d(e,["setup","systemInstruction"],lt(b));const w=c(n,["tools"]);if(e!==void 0&&w!=null){let F=vo(w);Array.isArray(F)&&(F=F.map(fe=>iA(yo(fe)))),d(e,["setup","tools"],F)}const I=c(n,["sessionResumption"]);e!==void 0&&I!=null&&d(e,["setup","sessionResumption"],I);const z=c(n,["inputAudioTranscription"]);e!==void 0&&z!=null&&d(e,["setup","inputAudioTranscription"],z);const $=c(n,["outputAudioTranscription"]);e!==void 0&&$!=null&&d(e,["setup","outputAudioTranscription"],$);const q=c(n,["realtimeInputConfig"]);e!==void 0&&q!=null&&d(e,["setup","realtimeInputConfig"],q);const Y=c(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&d(e,["setup","contextWindowCompression"],Y);const W=c(n,["proactivity"]);e!==void 0&&W!=null&&d(e,["setup","proactivity"],W);const O=c(n,["explicitVadSignal"]);return e!==void 0&&O!=null&&d(e,["setup","explicitVadSignal"],O),o}function KE(n,e){const o={},s=c(e,["model"]);s!=null&&d(o,["setup","model"],Re(n,s));const l=c(e,["config"]);return l!=null&&d(o,["config"],JE(l,o)),o}function $E(n,e){const o={},s=c(e,["model"]);s!=null&&d(o,["setup","model"],Re(n,s));const l=c(e,["config"]);return l!=null&&d(o,["config"],YE(l,o)),o}function XE(n){const e={},o=c(n,["musicGenerationConfig"]);return o!=null&&d(e,["musicGenerationConfig"],o),e}function QE(n){const e={},o=c(n,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),d(e,["weightedPrompts"],s)}return e}function ZE(n){const e={},o=c(n,["media"]);if(o!=null){let m=Vy(o);Array.isArray(m)&&(m=m.map(v=>rl(v))),d(e,["mediaChunks"],m)}const s=c(n,["audio"]);s!=null&&d(e,["audio"],rl(By(s)));const l=c(n,["audioStreamEnd"]);l!=null&&d(e,["audioStreamEnd"],l);const u=c(n,["video"]);u!=null&&d(e,["video"],rl(zy(u)));const f=c(n,["text"]);f!=null&&d(e,["text"],f);const h=c(n,["activityStart"]);h!=null&&d(e,["activityStart"],h);const y=c(n,["activityEnd"]);return y!=null&&d(e,["activityEnd"],y),e}function WE(n){const e={},o=c(n,["media"]);if(o!=null){let m=Vy(o);Array.isArray(m)&&(m=m.map(v=>v)),d(e,["mediaChunks"],m)}const s=c(n,["audio"]);s!=null&&d(e,["audio"],By(s));const l=c(n,["audioStreamEnd"]);l!=null&&d(e,["audioStreamEnd"],l);const u=c(n,["video"]);u!=null&&d(e,["video"],zy(u));const f=c(n,["text"]);f!=null&&d(e,["text"],f);const h=c(n,["activityStart"]);h!=null&&d(e,["activityStart"],h);const y=c(n,["activityEnd"]);return y!=null&&d(e,["activityEnd"],y),e}function jE(n){const e={},o=c(n,["setupComplete"]);o!=null&&d(e,["setupComplete"],o);const s=c(n,["serverContent"]);s!=null&&d(e,["serverContent"],s);const l=c(n,["toolCall"]);l!=null&&d(e,["toolCall"],l);const u=c(n,["toolCallCancellation"]);u!=null&&d(e,["toolCallCancellation"],u);const f=c(n,["usageMetadata"]);f!=null&&d(e,["usageMetadata"],oA(f));const h=c(n,["goAway"]);h!=null&&d(e,["goAway"],h);const y=c(n,["sessionResumptionUpdate"]);y!=null&&d(e,["sessionResumptionUpdate"],y);const m=c(n,["voiceActivityDetectionSignal"]);m!=null&&d(e,["voiceActivityDetectionSignal"],m);const v=c(n,["voiceActivity"]);return v!=null&&d(e,["voiceActivity"],sA(v)),e}function eA(n){const e={},o=c(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&d(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],HE(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],VE(f));const h=c(n,["functionResponse"]);h!=null&&d(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&d(e,["inlineData"],rl(y));const m=c(n,["text"]);m!=null&&d(e,["text"],m);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&d(e,["thoughtSignature"],_);const S=c(n,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function tA(n){const e={},o=c(n,["handle"]);if(o!=null&&d(e,["handle"],o),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function nA(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(n,["computerUse"]);o!=null&&d(e,["computerUse"],o);const s=c(n,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const l=c(n,["codeExecution"]);if(l!=null&&d(e,["codeExecution"],l),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>_)),d(e,["functionDeclarations"],v)}const f=c(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],qE(f));const h=c(n,["googleSearch"]);h!=null&&d(e,["googleSearch"],FE(h));const y=c(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const m=c(n,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}function iA(n){const e={},o=c(n,["retrieval"]);o!=null&&d(e,["retrieval"],o);const s=c(n,["computerUse"]);if(s!=null&&d(e,["computerUse"],s),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=c(n,["codeExecution"]);l!=null&&d(e,["codeExecution"],l);const u=c(n,["enterpriseWebSearch"]);u!=null&&d(e,["enterpriseWebSearch"],u);const f=c(n,["functionDeclarations"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(S=>zE(S))),d(e,["functionDeclarations"],_)}const h=c(n,["googleMaps"]);h!=null&&d(e,["googleMaps"],h);const y=c(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],y);const m=c(n,["googleSearchRetrieval"]);m!=null&&d(e,["googleSearchRetrieval"],m);const v=c(n,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function oA(n){const e={},o=c(n,["promptTokenCount"]);o!=null&&d(e,["promptTokenCount"],o);const s=c(n,["cachedContentTokenCount"]);s!=null&&d(e,["cachedContentTokenCount"],s);const l=c(n,["candidatesTokenCount"]);l!=null&&d(e,["responseTokenCount"],l);const u=c(n,["toolUsePromptTokenCount"]);u!=null&&d(e,["toolUsePromptTokenCount"],u);const f=c(n,["thoughtsTokenCount"]);f!=null&&d(e,["thoughtsTokenCount"],f);const h=c(n,["totalTokenCount"]);h!=null&&d(e,["totalTokenCount"],h);const y=c(n,["promptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(b=>b)),d(e,["promptTokensDetails"],E)}const m=c(n,["cacheTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(b=>b)),d(e,["cacheTokensDetails"],E)}const v=c(n,["candidatesTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(b=>b)),d(e,["responseTokensDetails"],E)}const _=c(n,["toolUsePromptTokensDetails"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(b=>b)),d(e,["toolUsePromptTokensDetails"],E)}const S=c(n,["trafficType"]);return S!=null&&d(e,["trafficType"],S),e}function sA(n){const e={},o=c(n,["type"]);return o!=null&&d(e,["voiceActivityType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rA(n,e){const o={},s=c(n,["data"]);if(s!=null&&d(o,["data"],s),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(n,["mimeType"]);return l!=null&&d(o,["mimeType"],l),o}function lA(n,e){const o={},s=c(n,["content"]);s!=null&&d(o,["content"],s);const l=c(n,["citationMetadata"]);l!=null&&d(o,["citationMetadata"],aA(l));const u=c(n,["tokenCount"]);u!=null&&d(o,["tokenCount"],u);const f=c(n,["finishReason"]);f!=null&&d(o,["finishReason"],f);const h=c(n,["avgLogprobs"]);h!=null&&d(o,["avgLogprobs"],h);const y=c(n,["groundingMetadata"]);y!=null&&d(o,["groundingMetadata"],y);const m=c(n,["index"]);m!=null&&d(o,["index"],m);const v=c(n,["logprobsResult"]);v!=null&&d(o,["logprobsResult"],v);const _=c(n,["safetyRatings"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(b=>b)),d(o,["safetyRatings"],E)}const S=c(n,["urlContextMetadata"]);return S!=null&&d(o,["urlContextMetadata"],S),o}function aA(n,e){const o={},s=c(n,["citationSources"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),d(o,["citations"],l)}return o}function uA(n,e,o){const s={},l=c(e,["model"]);l!=null&&d(s,["_url","model"],Re(n,l));const u=c(e,["contents"]);if(u!=null){let f=Bt(u);Array.isArray(f)&&(f=f.map(h=>h)),d(s,["contents"],f)}return s}function cA(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const l=c(n,["tokensInfo"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),d(o,["tokensInfo"],u)}return o}function fA(n,e){const o={},s=c(n,["values"]);s!=null&&d(o,["values"],s);const l=c(n,["statistics"]);return l!=null&&d(o,["statistics"],dA(l)),o}function dA(n,e){const o={},s=c(n,["truncated"]);s!=null&&d(o,["truncated"],s);const l=c(n,["token_count"]);return l!=null&&d(o,["tokenCount"],l),o}function gl(n,e){const o={},s=c(n,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>SR(f))),d(o,["parts"],u)}const l=c(n,["role"]);return l!=null&&d(o,["role"],l),o}function pA(n,e){const o={},s=c(n,["controlType"]);s!=null&&d(o,["controlType"],s);const l=c(n,["enableControlImageComputation"]);return l!=null&&d(o,["computeControl"],l),o}function hA(n,e){const o={};if(c(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return o}function mA(n,e,o){const s={},l=c(n,["systemInstruction"]);e!==void 0&&l!=null&&d(e,["systemInstruction"],lt(l));const u=c(n,["tools"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>nv(y))),d(e,["tools"],h)}const f=c(n,["generationConfig"]);return e!==void 0&&f!=null&&d(e,["generationConfig"],rR(f)),s}function gA(n,e,o){const s={},l=c(e,["model"]);l!=null&&d(s,["_url","model"],Re(n,l));const u=c(e,["contents"]);if(u!=null){let h=Bt(u);Array.isArray(h)&&(h=h.map(y=>gl(y))),d(s,["contents"],h)}const f=c(e,["config"]);return f!=null&&hA(f),s}function yA(n,e,o){const s={},l=c(e,["model"]);l!=null&&d(s,["_url","model"],Re(n,l));const u=c(e,["contents"]);if(u!=null){let h=Bt(u);Array.isArray(h)&&(h=h.map(y=>y)),d(s,["contents"],h)}const f=c(e,["config"]);return f!=null&&mA(f,s),s}function vA(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const l=c(n,["totalTokens"]);l!=null&&d(o,["totalTokens"],l);const u=c(n,["cachedContentTokenCount"]);return u!=null&&d(o,["cachedContentTokenCount"],u),o}function _A(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const l=c(n,["totalTokens"]);return l!=null&&d(o,["totalTokens"],l),o}function TA(n,e,o){const s={},l=c(e,["model"]);return l!=null&&d(s,["_url","name"],Re(n,l)),s}function SA(n,e,o){const s={},l=c(e,["model"]);return l!=null&&d(s,["_url","name"],Re(n,l)),s}function CA(n,e){const o={},s=c(n,["sdkHttpResponse"]);return s!=null&&d(o,["sdkHttpResponse"],s),o}function EA(n,e){const o={},s=c(n,["sdkHttpResponse"]);return s!=null&&d(o,["sdkHttpResponse"],s),o}function AA(n,e,o){const s={},l=c(n,["outputGcsUri"]);e!==void 0&&l!=null&&d(e,["parameters","storageUri"],l);const u=c(n,["negativePrompt"]);e!==void 0&&u!=null&&d(e,["parameters","negativePrompt"],u);const f=c(n,["numberOfImages"]);e!==void 0&&f!=null&&d(e,["parameters","sampleCount"],f);const h=c(n,["aspectRatio"]);e!==void 0&&h!=null&&d(e,["parameters","aspectRatio"],h);const y=c(n,["guidanceScale"]);e!==void 0&&y!=null&&d(e,["parameters","guidanceScale"],y);const m=c(n,["seed"]);e!==void 0&&m!=null&&d(e,["parameters","seed"],m);const v=c(n,["safetyFilterLevel"]);e!==void 0&&v!=null&&d(e,["parameters","safetySetting"],v);const _=c(n,["personGeneration"]);e!==void 0&&_!=null&&d(e,["parameters","personGeneration"],_);const S=c(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&d(e,["parameters","includeSafetyAttributes"],S);const E=c(n,["includeRaiReason"]);e!==void 0&&E!=null&&d(e,["parameters","includeRaiReason"],E);const b=c(n,["language"]);e!==void 0&&b!=null&&d(e,["parameters","language"],b);const w=c(n,["outputMimeType"]);e!==void 0&&w!=null&&d(e,["parameters","outputOptions","mimeType"],w);const I=c(n,["outputCompressionQuality"]);e!==void 0&&I!=null&&d(e,["parameters","outputOptions","compressionQuality"],I);const z=c(n,["addWatermark"]);e!==void 0&&z!=null&&d(e,["parameters","addWatermark"],z);const $=c(n,["labels"]);e!==void 0&&$!=null&&d(e,["labels"],$);const q=c(n,["editMode"]);e!==void 0&&q!=null&&d(e,["parameters","editMode"],q);const Y=c(n,["baseSteps"]);return e!==void 0&&Y!=null&&d(e,["parameters","editConfig","baseSteps"],Y),s}function RA(n,e,o){const s={},l=c(e,["model"]);l!=null&&d(s,["_url","model"],Re(n,l));const u=c(e,["prompt"]);u!=null&&d(s,["instances[0]","prompt"],u);const f=c(e,["referenceImages"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(m=>bR(m))),d(s,["instances[0]","referenceImages"],y)}const h=c(e,["config"]);return h!=null&&AA(h,s),s}function xA(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const l=c(n,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>yl(f))),d(o,["generatedImages"],u)}return o}function bA(n,e,o){const s={},l=c(n,["taskType"]);e!==void 0&&l!=null&&d(e,["requests[]","taskType"],l);const u=c(n,["title"]);e!==void 0&&u!=null&&d(e,["requests[]","title"],u);const f=c(n,["outputDimensionality"]);if(e!==void 0&&f!=null&&d(e,["requests[]","outputDimensionality"],f),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function MA(n,e,o){const s={},l=c(n,["taskType"]);e!==void 0&&l!=null&&d(e,["instances[]","task_type"],l);const u=c(n,["title"]);e!==void 0&&u!=null&&d(e,["instances[]","title"],u);const f=c(n,["outputDimensionality"]);e!==void 0&&f!=null&&d(e,["parameters","outputDimensionality"],f);const h=c(n,["mimeType"]);e!==void 0&&h!=null&&d(e,["instances[]","mimeType"],h);const y=c(n,["autoTruncate"]);return e!==void 0&&y!=null&&d(e,["parameters","autoTruncate"],y),s}function NA(n,e,o){const s={},l=c(e,["model"]);l!=null&&d(s,["_url","model"],Re(n,l));const u=c(e,["contents"]);if(u!=null){let y=kc(n,u);Array.isArray(y)&&(y=y.map(m=>m)),d(s,["requests[]","content"],y)}const f=c(e,["config"]);f!=null&&bA(f,s);const h=c(e,["model"]);return h!==void 0&&d(s,["requests[]","model"],Re(n,h)),s}function IA(n,e,o){const s={},l=c(e,["model"]);l!=null&&d(s,["_url","model"],Re(n,l));const u=c(e,["contents"]);if(u!=null){let h=kc(n,u);Array.isArray(h)&&(h=h.map(y=>y)),d(s,["instances[]","content"],h)}const f=c(e,["config"]);return f!=null&&MA(f,s),s}function DA(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const l=c(n,["embeddings"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>h)),d(o,["embeddings"],f)}const u=c(n,["metadata"]);return u!=null&&d(o,["metadata"],u),o}function UA(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const l=c(n,["predictions[]","embeddings"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>fA(h))),d(o,["embeddings"],f)}const u=c(n,["metadata"]);return u!=null&&d(o,["metadata"],u),o}function wA(n,e){const o={},s=c(n,["endpoint"]);s!=null&&d(o,["name"],s);const l=c(n,["deployedModelId"]);return l!=null&&d(o,["deployedModelId"],l),o}function kA(n,e){const o={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["fileUri"]);s!=null&&d(o,["fileUri"],s);const l=c(n,["mimeType"]);return l!=null&&d(o,["mimeType"],l),o}function LA(n,e){const o={},s=c(n,["id"]);s!=null&&d(o,["id"],s);const l=c(n,["args"]);l!=null&&d(o,["args"],l);const u=c(n,["name"]);if(u!=null&&d(o,["name"],u),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return o}function PA(n,e){const o={},s=c(n,["allowedFunctionNames"]);s!=null&&d(o,["allowedFunctionNames"],s);const l=c(n,["mode"]);if(l!=null&&d(o,["mode"],l),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return o}function GA(n,e){const o={},s=c(n,["description"]);s!=null&&d(o,["description"],s);const l=c(n,["name"]);l!=null&&d(o,["name"],l);const u=c(n,["parameters"]);u!=null&&d(o,["parameters"],u);const f=c(n,["parametersJsonSchema"]);f!=null&&d(o,["parametersJsonSchema"],f);const h=c(n,["response"]);h!=null&&d(o,["response"],h);const y=c(n,["responseJsonSchema"]);if(y!=null&&d(o,["responseJsonSchema"],y),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return o}function OA(n,e,o,s){const l={},u=c(e,["systemInstruction"]);o!==void 0&&u!=null&&d(o,["systemInstruction"],gl(lt(u)));const f=c(e,["temperature"]);f!=null&&d(l,["temperature"],f);const h=c(e,["topP"]);h!=null&&d(l,["topP"],h);const y=c(e,["topK"]);y!=null&&d(l,["topK"],y);const m=c(e,["candidateCount"]);m!=null&&d(l,["candidateCount"],m);const v=c(e,["maxOutputTokens"]);v!=null&&d(l,["maxOutputTokens"],v);const _=c(e,["stopSequences"]);_!=null&&d(l,["stopSequences"],_);const S=c(e,["responseLogprobs"]);S!=null&&d(l,["responseLogprobs"],S);const E=c(e,["logprobs"]);E!=null&&d(l,["logprobs"],E);const b=c(e,["presencePenalty"]);b!=null&&d(l,["presencePenalty"],b);const w=c(e,["frequencyPenalty"]);w!=null&&d(l,["frequencyPenalty"],w);const I=c(e,["seed"]);I!=null&&d(l,["seed"],I);const z=c(e,["responseMimeType"]);z!=null&&d(l,["responseMimeType"],z);const $=c(e,["responseSchema"]);$!=null&&d(l,["responseSchema"],Lc($));const q=c(e,["responseJsonSchema"]);if(q!=null&&d(l,["responseJsonSchema"],q),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=c(e,["safetySettings"]);if(o!==void 0&&Y!=null){let Se=Y;Array.isArray(Se)&&(Se=Se.map(Be=>MR(Be))),d(o,["safetySettings"],Se)}const W=c(e,["tools"]);if(o!==void 0&&W!=null){let Se=vo(W);Array.isArray(Se)&&(Se=Se.map(Be=>LR(yo(Be)))),d(o,["tools"],Se)}const O=c(e,["toolConfig"]);if(o!==void 0&&O!=null&&d(o,["toolConfig"],kR(O)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=c(e,["cachedContent"]);o!==void 0&&F!=null&&d(o,["cachedContent"],Rn(n,F));const fe=c(e,["responseModalities"]);fe!=null&&d(l,["responseModalities"],fe);const j=c(e,["mediaResolution"]);j!=null&&d(l,["mediaResolution"],j);const ae=c(e,["speechConfig"]);if(ae!=null&&d(l,["speechConfig"],Pc(ae)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Te=c(e,["thinkingConfig"]);Te!=null&&d(l,["thinkingConfig"],Te);const J=c(e,["imageConfig"]);J!=null&&d(l,["imageConfig"],fR(J));const pe=c(e,["enableEnhancedCivicAnswers"]);if(pe!=null&&d(l,["enableEnhancedCivicAnswers"],pe),c(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return l}function HA(n,e,o,s){const l={},u=c(e,["systemInstruction"]);o!==void 0&&u!=null&&d(o,["systemInstruction"],lt(u));const f=c(e,["temperature"]);f!=null&&d(l,["temperature"],f);const h=c(e,["topP"]);h!=null&&d(l,["topP"],h);const y=c(e,["topK"]);y!=null&&d(l,["topK"],y);const m=c(e,["candidateCount"]);m!=null&&d(l,["candidateCount"],m);const v=c(e,["maxOutputTokens"]);v!=null&&d(l,["maxOutputTokens"],v);const _=c(e,["stopSequences"]);_!=null&&d(l,["stopSequences"],_);const S=c(e,["responseLogprobs"]);S!=null&&d(l,["responseLogprobs"],S);const E=c(e,["logprobs"]);E!=null&&d(l,["logprobs"],E);const b=c(e,["presencePenalty"]);b!=null&&d(l,["presencePenalty"],b);const w=c(e,["frequencyPenalty"]);w!=null&&d(l,["frequencyPenalty"],w);const I=c(e,["seed"]);I!=null&&d(l,["seed"],I);const z=c(e,["responseMimeType"]);z!=null&&d(l,["responseMimeType"],z);const $=c(e,["responseSchema"]);$!=null&&d(l,["responseSchema"],Lc($));const q=c(e,["responseJsonSchema"]);q!=null&&d(l,["responseJsonSchema"],q);const Y=c(e,["routingConfig"]);Y!=null&&d(l,["routingConfig"],Y);const W=c(e,["modelSelectionConfig"]);W!=null&&d(l,["modelConfig"],W);const O=c(e,["safetySettings"]);if(o!==void 0&&O!=null){let ie=O;Array.isArray(ie)&&(ie=ie.map(Ce=>Ce)),d(o,["safetySettings"],ie)}const F=c(e,["tools"]);if(o!==void 0&&F!=null){let ie=vo(F);Array.isArray(ie)&&(ie=ie.map(Ce=>nv(yo(Ce)))),d(o,["tools"],ie)}const fe=c(e,["toolConfig"]);o!==void 0&&fe!=null&&d(o,["toolConfig"],fe);const j=c(e,["labels"]);o!==void 0&&j!=null&&d(o,["labels"],j);const ae=c(e,["cachedContent"]);o!==void 0&&ae!=null&&d(o,["cachedContent"],Rn(n,ae));const Te=c(e,["responseModalities"]);Te!=null&&d(l,["responseModalities"],Te);const J=c(e,["mediaResolution"]);J!=null&&d(l,["mediaResolution"],J);const pe=c(e,["speechConfig"]);pe!=null&&d(l,["speechConfig"],Pc(pe));const Se=c(e,["audioTimestamp"]);Se!=null&&d(l,["audioTimestamp"],Se);const Be=c(e,["thinkingConfig"]);Be!=null&&d(l,["thinkingConfig"],Be);const P=c(e,["imageConfig"]);if(P!=null&&d(l,["imageConfig"],dR(P)),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const K=c(e,["modelArmorConfig"]);return o!==void 0&&K!=null&&d(o,["modelArmorConfig"],K),l}function Ng(n,e,o){const s={},l=c(e,["model"]);l!=null&&d(s,["_url","model"],Re(n,l));const u=c(e,["contents"]);if(u!=null){let h=Bt(u);Array.isArray(h)&&(h=h.map(y=>gl(y))),d(s,["contents"],h)}const f=c(e,["config"]);return f!=null&&d(s,["generationConfig"],OA(n,f,s)),s}function Ig(n,e,o){const s={},l=c(e,["model"]);l!=null&&d(s,["_url","model"],Re(n,l));const u=c(e,["contents"]);if(u!=null){let h=Bt(u);Array.isArray(h)&&(h=h.map(y=>y)),d(s,["contents"],h)}const f=c(e,["config"]);return f!=null&&d(s,["generationConfig"],HA(n,f,s)),s}function Dg(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const l=c(n,["candidates"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>lA(v))),d(o,["candidates"],m)}const u=c(n,["modelVersion"]);u!=null&&d(o,["modelVersion"],u);const f=c(n,["promptFeedback"]);f!=null&&d(o,["promptFeedback"],f);const h=c(n,["responseId"]);h!=null&&d(o,["responseId"],h);const y=c(n,["usageMetadata"]);return y!=null&&d(o,["usageMetadata"],y),o}function Ug(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const l=c(n,["candidates"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),d(o,["candidates"],v)}const u=c(n,["createTime"]);u!=null&&d(o,["createTime"],u);const f=c(n,["modelVersion"]);f!=null&&d(o,["modelVersion"],f);const h=c(n,["promptFeedback"]);h!=null&&d(o,["promptFeedback"],h);const y=c(n,["responseId"]);y!=null&&d(o,["responseId"],y);const m=c(n,["usageMetadata"]);return m!=null&&d(o,["usageMetadata"],m),o}function VA(n,e,o){const s={};if(c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=c(n,["numberOfImages"]);e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l);const u=c(n,["aspectRatio"]);e!==void 0&&u!=null&&d(e,["parameters","aspectRatio"],u);const f=c(n,["guidanceScale"]);if(e!==void 0&&f!=null&&d(e,["parameters","guidanceScale"],f),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=c(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&d(e,["parameters","safetySetting"],h);const y=c(n,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const m=c(n,["includeSafetyAttributes"]);e!==void 0&&m!=null&&d(e,["parameters","includeSafetyAttributes"],m);const v=c(n,["includeRaiReason"]);e!==void 0&&v!=null&&d(e,["parameters","includeRaiReason"],v);const _=c(n,["language"]);e!==void 0&&_!=null&&d(e,["parameters","language"],_);const S=c(n,["outputMimeType"]);e!==void 0&&S!=null&&d(e,["parameters","outputOptions","mimeType"],S);const E=c(n,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&d(e,["parameters","outputOptions","compressionQuality"],E),c(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=c(n,["imageSize"]);if(e!==void 0&&b!=null&&d(e,["parameters","sampleImageSize"],b),c(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function zA(n,e,o){const s={},l=c(n,["outputGcsUri"]);e!==void 0&&l!=null&&d(e,["parameters","storageUri"],l);const u=c(n,["negativePrompt"]);e!==void 0&&u!=null&&d(e,["parameters","negativePrompt"],u);const f=c(n,["numberOfImages"]);e!==void 0&&f!=null&&d(e,["parameters","sampleCount"],f);const h=c(n,["aspectRatio"]);e!==void 0&&h!=null&&d(e,["parameters","aspectRatio"],h);const y=c(n,["guidanceScale"]);e!==void 0&&y!=null&&d(e,["parameters","guidanceScale"],y);const m=c(n,["seed"]);e!==void 0&&m!=null&&d(e,["parameters","seed"],m);const v=c(n,["safetyFilterLevel"]);e!==void 0&&v!=null&&d(e,["parameters","safetySetting"],v);const _=c(n,["personGeneration"]);e!==void 0&&_!=null&&d(e,["parameters","personGeneration"],_);const S=c(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&d(e,["parameters","includeSafetyAttributes"],S);const E=c(n,["includeRaiReason"]);e!==void 0&&E!=null&&d(e,["parameters","includeRaiReason"],E);const b=c(n,["language"]);e!==void 0&&b!=null&&d(e,["parameters","language"],b);const w=c(n,["outputMimeType"]);e!==void 0&&w!=null&&d(e,["parameters","outputOptions","mimeType"],w);const I=c(n,["outputCompressionQuality"]);e!==void 0&&I!=null&&d(e,["parameters","outputOptions","compressionQuality"],I);const z=c(n,["addWatermark"]);e!==void 0&&z!=null&&d(e,["parameters","addWatermark"],z);const $=c(n,["labels"]);e!==void 0&&$!=null&&d(e,["labels"],$);const q=c(n,["imageSize"]);e!==void 0&&q!=null&&d(e,["parameters","sampleImageSize"],q);const Y=c(n,["enhancePrompt"]);return e!==void 0&&Y!=null&&d(e,["parameters","enhancePrompt"],Y),s}function BA(n,e,o){const s={},l=c(e,["model"]);l!=null&&d(s,["_url","model"],Re(n,l));const u=c(e,["prompt"]);u!=null&&d(s,["instances[0]","prompt"],u);const f=c(e,["config"]);return f!=null&&VA(f,s),s}function qA(n,e,o){const s={},l=c(e,["model"]);l!=null&&d(s,["_url","model"],Re(n,l));const u=c(e,["prompt"]);u!=null&&d(s,["instances[0]","prompt"],u);const f=c(e,["config"]);return f!=null&&zA(f,s),s}function FA(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const l=c(n,["predictions"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>nR(h))),d(o,["generatedImages"],f)}const u=c(n,["positivePromptSafetyAttributes"]);return u!=null&&d(o,["positivePromptSafetyAttributes"],ev(u)),o}function JA(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const l=c(n,["predictions"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>yl(h))),d(o,["generatedImages"],f)}const u=c(n,["positivePromptSafetyAttributes"]);return u!=null&&d(o,["positivePromptSafetyAttributes"],tv(u)),o}function YA(n,e,o){const s={},l=c(n,["numberOfVideos"]);if(e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l),c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=c(n,["durationSeconds"]);if(e!==void 0&&u!=null&&d(e,["parameters","durationSeconds"],u),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=c(n,["aspectRatio"]);e!==void 0&&f!=null&&d(e,["parameters","aspectRatio"],f);const h=c(n,["resolution"]);e!==void 0&&h!=null&&d(e,["parameters","resolution"],h);const y=c(n,["personGeneration"]);if(e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y),c(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=c(n,["negativePrompt"]);e!==void 0&&m!=null&&d(e,["parameters","negativePrompt"],m);const v=c(n,["enhancePrompt"]);if(e!==void 0&&v!=null&&d(e,["parameters","enhancePrompt"],v),c(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=c(n,["lastFrame"]);e!==void 0&&_!=null&&d(e,["instances[0]","lastFrame"],vl(_));const S=c(n,["referenceImages"]);if(e!==void 0&&S!=null){let E=S;Array.isArray(E)&&(E=E.map(b=>$R(b))),d(e,["instances[0]","referenceImages"],E)}if(c(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return s}function KA(n,e,o){const s={},l=c(n,["numberOfVideos"]);e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l);const u=c(n,["outputGcsUri"]);e!==void 0&&u!=null&&d(e,["parameters","storageUri"],u);const f=c(n,["fps"]);e!==void 0&&f!=null&&d(e,["parameters","fps"],f);const h=c(n,["durationSeconds"]);e!==void 0&&h!=null&&d(e,["parameters","durationSeconds"],h);const y=c(n,["seed"]);e!==void 0&&y!=null&&d(e,["parameters","seed"],y);const m=c(n,["aspectRatio"]);e!==void 0&&m!=null&&d(e,["parameters","aspectRatio"],m);const v=c(n,["resolution"]);e!==void 0&&v!=null&&d(e,["parameters","resolution"],v);const _=c(n,["personGeneration"]);e!==void 0&&_!=null&&d(e,["parameters","personGeneration"],_);const S=c(n,["pubsubTopic"]);e!==void 0&&S!=null&&d(e,["parameters","pubsubTopic"],S);const E=c(n,["negativePrompt"]);e!==void 0&&E!=null&&d(e,["parameters","negativePrompt"],E);const b=c(n,["enhancePrompt"]);e!==void 0&&b!=null&&d(e,["parameters","enhancePrompt"],b);const w=c(n,["generateAudio"]);e!==void 0&&w!=null&&d(e,["parameters","generateAudio"],w);const I=c(n,["lastFrame"]);e!==void 0&&I!=null&&d(e,["instances[0]","lastFrame"],Xt(I));const z=c(n,["referenceImages"]);if(e!==void 0&&z!=null){let Y=z;Array.isArray(Y)&&(Y=Y.map(W=>XR(W))),d(e,["instances[0]","referenceImages"],Y)}const $=c(n,["mask"]);e!==void 0&&$!=null&&d(e,["instances[0]","mask"],KR($));const q=c(n,["compressionQuality"]);return e!==void 0&&q!=null&&d(e,["parameters","compressionQuality"],q),s}function $A(n,e){const o={},s=c(n,["name"]);s!=null&&d(o,["name"],s);const l=c(n,["metadata"]);l!=null&&d(o,["metadata"],l);const u=c(n,["done"]);u!=null&&d(o,["done"],u);const f=c(n,["error"]);f!=null&&d(o,["error"],f);const h=c(n,["response","generateVideoResponse"]);return h!=null&&d(o,["response"],WA(h)),o}function XA(n,e){const o={},s=c(n,["name"]);s!=null&&d(o,["name"],s);const l=c(n,["metadata"]);l!=null&&d(o,["metadata"],l);const u=c(n,["done"]);u!=null&&d(o,["done"],u);const f=c(n,["error"]);f!=null&&d(o,["error"],f);const h=c(n,["response"]);return h!=null&&d(o,["response"],jA(h)),o}function QA(n,e,o){const s={},l=c(e,["model"]);l!=null&&d(s,["_url","model"],Re(n,l));const u=c(e,["prompt"]);u!=null&&d(s,["instances[0]","prompt"],u);const f=c(e,["image"]);f!=null&&d(s,["instances[0]","image"],vl(f));const h=c(e,["video"]);h!=null&&d(s,["instances[0]","video"],iv(h));const y=c(e,["source"]);y!=null&&eR(y,s);const m=c(e,["config"]);return m!=null&&YA(m,s),s}function ZA(n,e,o){const s={},l=c(e,["model"]);l!=null&&d(s,["_url","model"],Re(n,l));const u=c(e,["prompt"]);u!=null&&d(s,["instances[0]","prompt"],u);const f=c(e,["image"]);f!=null&&d(s,["instances[0]","image"],Xt(f));const h=c(e,["video"]);h!=null&&d(s,["instances[0]","video"],ov(h));const y=c(e,["source"]);y!=null&&tR(y,s);const m=c(e,["config"]);return m!=null&&KA(m,s),s}function WA(n,e){const o={},s=c(n,["generatedSamples"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>oR(h))),d(o,["generatedVideos"],f)}const l=c(n,["raiMediaFilteredCount"]);l!=null&&d(o,["raiMediaFilteredCount"],l);const u=c(n,["raiMediaFilteredReasons"]);return u!=null&&d(o,["raiMediaFilteredReasons"],u),o}function jA(n,e){const o={},s=c(n,["videos"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>sR(h))),d(o,["generatedVideos"],f)}const l=c(n,["raiMediaFilteredCount"]);l!=null&&d(o,["raiMediaFilteredCount"],l);const u=c(n,["raiMediaFilteredReasons"]);return u!=null&&d(o,["raiMediaFilteredReasons"],u),o}function eR(n,e,o){const s={},l=c(n,["prompt"]);e!==void 0&&l!=null&&d(e,["instances[0]","prompt"],l);const u=c(n,["image"]);e!==void 0&&u!=null&&d(e,["instances[0]","image"],vl(u));const f=c(n,["video"]);return e!==void 0&&f!=null&&d(e,["instances[0]","video"],iv(f)),s}function tR(n,e,o){const s={},l=c(n,["prompt"]);e!==void 0&&l!=null&&d(e,["instances[0]","prompt"],l);const u=c(n,["image"]);e!==void 0&&u!=null&&d(e,["instances[0]","image"],Xt(u));const f=c(n,["video"]);return e!==void 0&&f!=null&&d(e,["instances[0]","video"],ov(f)),s}function nR(n,e){const o={},s=c(n,["_self"]);s!=null&&d(o,["image"],pR(s));const l=c(n,["raiFilteredReason"]);l!=null&&d(o,["raiFilteredReason"],l);const u=c(n,["_self"]);return u!=null&&d(o,["safetyAttributes"],ev(u)),o}function yl(n,e){const o={},s=c(n,["_self"]);s!=null&&d(o,["image"],jy(s));const l=c(n,["raiFilteredReason"]);l!=null&&d(o,["raiFilteredReason"],l);const u=c(n,["_self"]);u!=null&&d(o,["safetyAttributes"],tv(u));const f=c(n,["prompt"]);return f!=null&&d(o,["enhancedPrompt"],f),o}function iR(n,e){const o={},s=c(n,["_self"]);s!=null&&d(o,["mask"],jy(s));const l=c(n,["labels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),d(o,["labels"],u)}return o}function oR(n,e){const o={},s=c(n,["video"]);return s!=null&&d(o,["video"],JR(s)),o}function sR(n,e){const o={},s=c(n,["_self"]);return s!=null&&d(o,["video"],YR(s)),o}function rR(n,e){const o={},s=c(n,["modelSelectionConfig"]);s!=null&&d(o,["modelConfig"],s);const l=c(n,["responseJsonSchema"]);l!=null&&d(o,["responseJsonSchema"],l);const u=c(n,["audioTimestamp"]);u!=null&&d(o,["audioTimestamp"],u);const f=c(n,["candidateCount"]);f!=null&&d(o,["candidateCount"],f);const h=c(n,["enableAffectiveDialog"]);h!=null&&d(o,["enableAffectiveDialog"],h);const y=c(n,["frequencyPenalty"]);y!=null&&d(o,["frequencyPenalty"],y);const m=c(n,["logprobs"]);m!=null&&d(o,["logprobs"],m);const v=c(n,["maxOutputTokens"]);v!=null&&d(o,["maxOutputTokens"],v);const _=c(n,["mediaResolution"]);_!=null&&d(o,["mediaResolution"],_);const S=c(n,["presencePenalty"]);S!=null&&d(o,["presencePenalty"],S);const E=c(n,["responseLogprobs"]);E!=null&&d(o,["responseLogprobs"],E);const b=c(n,["responseMimeType"]);b!=null&&d(o,["responseMimeType"],b);const w=c(n,["responseModalities"]);w!=null&&d(o,["responseModalities"],w);const I=c(n,["responseSchema"]);I!=null&&d(o,["responseSchema"],I);const z=c(n,["routingConfig"]);z!=null&&d(o,["routingConfig"],z);const $=c(n,["seed"]);$!=null&&d(o,["seed"],$);const q=c(n,["speechConfig"]);q!=null&&d(o,["speechConfig"],q);const Y=c(n,["stopSequences"]);Y!=null&&d(o,["stopSequences"],Y);const W=c(n,["temperature"]);W!=null&&d(o,["temperature"],W);const O=c(n,["thinkingConfig"]);O!=null&&d(o,["thinkingConfig"],O);const F=c(n,["topK"]);F!=null&&d(o,["topK"],F);const fe=c(n,["topP"]);if(fe!=null&&d(o,["topP"],fe),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function lR(n,e,o){const s={},l=c(e,["model"]);return l!=null&&d(s,["_url","name"],Re(n,l)),s}function aR(n,e,o){const s={},l=c(e,["model"]);return l!=null&&d(s,["_url","name"],Re(n,l)),s}function uR(n,e){const o={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=c(n,["enableWidget"]);return s!=null&&d(o,["enableWidget"],s),o}function cR(n,e){const o={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=c(n,["timeRangeFilter"]);return s!=null&&d(o,["timeRangeFilter"],s),o}function fR(n,e){const o={},s=c(n,["aspectRatio"]);s!=null&&d(o,["aspectRatio"],s);const l=c(n,["imageSize"]);if(l!=null&&d(o,["imageSize"],l),c(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return o}function dR(n,e){const o={},s=c(n,["aspectRatio"]);s!=null&&d(o,["aspectRatio"],s);const l=c(n,["imageSize"]);l!=null&&d(o,["imageSize"],l);const u=c(n,["personGeneration"]);u!=null&&d(o,["personGeneration"],u);const f=c(n,["outputMimeType"]);f!=null&&d(o,["imageOutputOptions","mimeType"],f);const h=c(n,["outputCompressionQuality"]);return h!=null&&d(o,["imageOutputOptions","compressionQuality"],h),o}function pR(n,e){const o={},s=c(n,["bytesBase64Encoded"]);s!=null&&d(o,["imageBytes"],jn(s));const l=c(n,["mimeType"]);return l!=null&&d(o,["mimeType"],l),o}function jy(n,e){const o={},s=c(n,["gcsUri"]);s!=null&&d(o,["gcsUri"],s);const l=c(n,["bytesBase64Encoded"]);l!=null&&d(o,["imageBytes"],jn(l));const u=c(n,["mimeType"]);return u!=null&&d(o,["mimeType"],u),o}function vl(n,e){const o={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=c(n,["imageBytes"]);s!=null&&d(o,["bytesBase64Encoded"],jn(s));const l=c(n,["mimeType"]);return l!=null&&d(o,["mimeType"],l),o}function Xt(n,e){const o={},s=c(n,["gcsUri"]);s!=null&&d(o,["gcsUri"],s);const l=c(n,["imageBytes"]);l!=null&&d(o,["bytesBase64Encoded"],jn(l));const u=c(n,["mimeType"]);return u!=null&&d(o,["mimeType"],u),o}function hR(n,e,o,s){const l={},u=c(e,["pageSize"]);o!==void 0&&u!=null&&d(o,["_query","pageSize"],u);const f=c(e,["pageToken"]);o!==void 0&&f!=null&&d(o,["_query","pageToken"],f);const h=c(e,["filter"]);o!==void 0&&h!=null&&d(o,["_query","filter"],h);const y=c(e,["queryBase"]);return o!==void 0&&y!=null&&d(o,["_url","models_url"],Yy(n,y)),l}function mR(n,e,o,s){const l={},u=c(e,["pageSize"]);o!==void 0&&u!=null&&d(o,["_query","pageSize"],u);const f=c(e,["pageToken"]);o!==void 0&&f!=null&&d(o,["_query","pageToken"],f);const h=c(e,["filter"]);o!==void 0&&h!=null&&d(o,["_query","filter"],h);const y=c(e,["queryBase"]);return o!==void 0&&y!=null&&d(o,["_url","models_url"],Yy(n,y)),l}function gR(n,e,o){const s={},l=c(e,["config"]);return l!=null&&hR(n,l,s),s}function yR(n,e,o){const s={},l=c(e,["config"]);return l!=null&&mR(n,l,s),s}function vR(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&d(o,["nextPageToken"],l);const u=c(n,["_self"]);if(u!=null){let f=Ky(u);Array.isArray(f)&&(f=f.map(h=>dc(h))),d(o,["models"],f)}return o}function _R(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&d(o,["nextPageToken"],l);const u=c(n,["_self"]);if(u!=null){let f=Ky(u);Array.isArray(f)&&(f=f.map(h=>pc(h))),d(o,["models"],f)}return o}function TR(n,e){const o={},s=c(n,["maskMode"]);s!=null&&d(o,["maskMode"],s);const l=c(n,["segmentationClasses"]);l!=null&&d(o,["maskClasses"],l);const u=c(n,["maskDilation"]);return u!=null&&d(o,["dilation"],u),o}function dc(n,e){const o={},s=c(n,["name"]);s!=null&&d(o,["name"],s);const l=c(n,["displayName"]);l!=null&&d(o,["displayName"],l);const u=c(n,["description"]);u!=null&&d(o,["description"],u);const f=c(n,["version"]);f!=null&&d(o,["version"],f);const h=c(n,["_self"]);h!=null&&d(o,["tunedModelInfo"],PR(h));const y=c(n,["inputTokenLimit"]);y!=null&&d(o,["inputTokenLimit"],y);const m=c(n,["outputTokenLimit"]);m!=null&&d(o,["outputTokenLimit"],m);const v=c(n,["supportedGenerationMethods"]);v!=null&&d(o,["supportedActions"],v);const _=c(n,["temperature"]);_!=null&&d(o,["temperature"],_);const S=c(n,["maxTemperature"]);S!=null&&d(o,["maxTemperature"],S);const E=c(n,["topP"]);E!=null&&d(o,["topP"],E);const b=c(n,["topK"]);b!=null&&d(o,["topK"],b);const w=c(n,["thinking"]);return w!=null&&d(o,["thinking"],w),o}function pc(n,e){const o={},s=c(n,["name"]);s!=null&&d(o,["name"],s);const l=c(n,["displayName"]);l!=null&&d(o,["displayName"],l);const u=c(n,["description"]);u!=null&&d(o,["description"],u);const f=c(n,["versionId"]);f!=null&&d(o,["version"],f);const h=c(n,["deployedModels"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(E=>wA(E))),d(o,["endpoints"],S)}const y=c(n,["labels"]);y!=null&&d(o,["labels"],y);const m=c(n,["_self"]);m!=null&&d(o,["tunedModelInfo"],GR(m));const v=c(n,["defaultCheckpointId"]);v!=null&&d(o,["defaultCheckpointId"],v);const _=c(n,["checkpoints"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(E=>E)),d(o,["checkpoints"],S)}return o}function SR(n,e){const o={},s=c(n,["mediaResolution"]);s!=null&&d(o,["mediaResolution"],s);const l=c(n,["codeExecutionResult"]);l!=null&&d(o,["codeExecutionResult"],l);const u=c(n,["executableCode"]);u!=null&&d(o,["executableCode"],u);const f=c(n,["fileData"]);f!=null&&d(o,["fileData"],kA(f));const h=c(n,["functionCall"]);h!=null&&d(o,["functionCall"],LA(h));const y=c(n,["functionResponse"]);y!=null&&d(o,["functionResponse"],y);const m=c(n,["inlineData"]);m!=null&&d(o,["inlineData"],rA(m));const v=c(n,["text"]);v!=null&&d(o,["text"],v);const _=c(n,["thought"]);_!=null&&d(o,["thought"],_);const S=c(n,["thoughtSignature"]);S!=null&&d(o,["thoughtSignature"],S);const E=c(n,["videoMetadata"]);return E!=null&&d(o,["videoMetadata"],E),o}function CR(n,e){const o={},s=c(n,["productImage"]);return s!=null&&d(o,["image"],Xt(s)),o}function ER(n,e,o){const s={},l=c(n,["numberOfImages"]);e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l);const u=c(n,["baseSteps"]);e!==void 0&&u!=null&&d(e,["parameters","baseSteps"],u);const f=c(n,["outputGcsUri"]);e!==void 0&&f!=null&&d(e,["parameters","storageUri"],f);const h=c(n,["seed"]);e!==void 0&&h!=null&&d(e,["parameters","seed"],h);const y=c(n,["safetyFilterLevel"]);e!==void 0&&y!=null&&d(e,["parameters","safetySetting"],y);const m=c(n,["personGeneration"]);e!==void 0&&m!=null&&d(e,["parameters","personGeneration"],m);const v=c(n,["addWatermark"]);e!==void 0&&v!=null&&d(e,["parameters","addWatermark"],v);const _=c(n,["outputMimeType"]);e!==void 0&&_!=null&&d(e,["parameters","outputOptions","mimeType"],_);const S=c(n,["outputCompressionQuality"]);e!==void 0&&S!=null&&d(e,["parameters","outputOptions","compressionQuality"],S);const E=c(n,["enhancePrompt"]);e!==void 0&&E!=null&&d(e,["parameters","enhancePrompt"],E);const b=c(n,["labels"]);return e!==void 0&&b!=null&&d(e,["labels"],b),s}function AR(n,e,o){const s={},l=c(e,["model"]);l!=null&&d(s,["_url","model"],Re(n,l));const u=c(e,["source"]);u!=null&&xR(u,s);const f=c(e,["config"]);return f!=null&&ER(f,s),s}function RR(n,e){const o={},s=c(n,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>yl(u))),d(o,["generatedImages"],l)}return o}function xR(n,e,o){const s={},l=c(n,["prompt"]);e!==void 0&&l!=null&&d(e,["instances[0]","prompt"],l);const u=c(n,["personImage"]);e!==void 0&&u!=null&&d(e,["instances[0]","personImage","image"],Xt(u));const f=c(n,["productImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>CR(y))),d(e,["instances[0]","productImages"],h)}return s}function bR(n,e){const o={},s=c(n,["referenceImage"]);s!=null&&d(o,["referenceImage"],Xt(s));const l=c(n,["referenceId"]);l!=null&&d(o,["referenceId"],l);const u=c(n,["referenceType"]);u!=null&&d(o,["referenceType"],u);const f=c(n,["maskImageConfig"]);f!=null&&d(o,["maskImageConfig"],TR(f));const h=c(n,["controlImageConfig"]);h!=null&&d(o,["controlImageConfig"],pA(h));const y=c(n,["styleImageConfig"]);y!=null&&d(o,["styleImageConfig"],y);const m=c(n,["subjectImageConfig"]);return m!=null&&d(o,["subjectImageConfig"],m),o}function ev(n,e){const o={},s=c(n,["safetyAttributes","categories"]);s!=null&&d(o,["categories"],s);const l=c(n,["safetyAttributes","scores"]);l!=null&&d(o,["scores"],l);const u=c(n,["contentType"]);return u!=null&&d(o,["contentType"],u),o}function tv(n,e){const o={},s=c(n,["safetyAttributes","categories"]);s!=null&&d(o,["categories"],s);const l=c(n,["safetyAttributes","scores"]);l!=null&&d(o,["scores"],l);const u=c(n,["contentType"]);return u!=null&&d(o,["contentType"],u),o}function MR(n,e){const o={},s=c(n,["category"]);if(s!=null&&d(o,["category"],s),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=c(n,["threshold"]);return l!=null&&d(o,["threshold"],l),o}function NR(n,e){const o={},s=c(n,["image"]);return s!=null&&d(o,["image"],Xt(s)),o}function IR(n,e,o){const s={},l=c(n,["mode"]);e!==void 0&&l!=null&&d(e,["parameters","mode"],l);const u=c(n,["maxPredictions"]);e!==void 0&&u!=null&&d(e,["parameters","maxPredictions"],u);const f=c(n,["confidenceThreshold"]);e!==void 0&&f!=null&&d(e,["parameters","confidenceThreshold"],f);const h=c(n,["maskDilation"]);e!==void 0&&h!=null&&d(e,["parameters","maskDilation"],h);const y=c(n,["binaryColorThreshold"]);e!==void 0&&y!=null&&d(e,["parameters","binaryColorThreshold"],y);const m=c(n,["labels"]);return e!==void 0&&m!=null&&d(e,["labels"],m),s}function DR(n,e,o){const s={},l=c(e,["model"]);l!=null&&d(s,["_url","model"],Re(n,l));const u=c(e,["source"]);u!=null&&wR(u,s);const f=c(e,["config"]);return f!=null&&IR(f,s),s}function UR(n,e){const o={},s=c(n,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>iR(u))),d(o,["generatedMasks"],l)}return o}function wR(n,e,o){const s={},l=c(n,["prompt"]);e!==void 0&&l!=null&&d(e,["instances[0]","prompt"],l);const u=c(n,["image"]);e!==void 0&&u!=null&&d(e,["instances[0]","image"],Xt(u));const f=c(n,["scribbleImage"]);return e!==void 0&&f!=null&&d(e,["instances[0]","scribble"],NR(f)),s}function kR(n,e){const o={},s=c(n,["retrievalConfig"]);s!=null&&d(o,["retrievalConfig"],s);const l=c(n,["functionCallingConfig"]);return l!=null&&d(o,["functionCallingConfig"],PA(l)),o}function LR(n,e){const o={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["computerUse"]);s!=null&&d(o,["computerUse"],s);const l=c(n,["fileSearch"]);l!=null&&d(o,["fileSearch"],l);const u=c(n,["codeExecution"]);if(u!=null&&d(o,["codeExecution"],u),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=c(n,["functionDeclarations"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(S=>S)),d(o,["functionDeclarations"],_)}const h=c(n,["googleMaps"]);h!=null&&d(o,["googleMaps"],uR(h));const y=c(n,["googleSearch"]);y!=null&&d(o,["googleSearch"],cR(y));const m=c(n,["googleSearchRetrieval"]);m!=null&&d(o,["googleSearchRetrieval"],m);const v=c(n,["urlContext"]);return v!=null&&d(o,["urlContext"],v),o}function nv(n,e){const o={},s=c(n,["retrieval"]);s!=null&&d(o,["retrieval"],s);const l=c(n,["computerUse"]);if(l!=null&&d(o,["computerUse"],l),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=c(n,["codeExecution"]);u!=null&&d(o,["codeExecution"],u);const f=c(n,["enterpriseWebSearch"]);f!=null&&d(o,["enterpriseWebSearch"],f);const h=c(n,["functionDeclarations"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(E=>GA(E))),d(o,["functionDeclarations"],S)}const y=c(n,["googleMaps"]);y!=null&&d(o,["googleMaps"],y);const m=c(n,["googleSearch"]);m!=null&&d(o,["googleSearch"],m);const v=c(n,["googleSearchRetrieval"]);v!=null&&d(o,["googleSearchRetrieval"],v);const _=c(n,["urlContext"]);return _!=null&&d(o,["urlContext"],_),o}function PR(n,e){const o={},s=c(n,["baseModel"]);s!=null&&d(o,["baseModel"],s);const l=c(n,["createTime"]);l!=null&&d(o,["createTime"],l);const u=c(n,["updateTime"]);return u!=null&&d(o,["updateTime"],u),o}function GR(n,e){const o={},s=c(n,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&d(o,["baseModel"],s);const l=c(n,["createTime"]);l!=null&&d(o,["createTime"],l);const u=c(n,["updateTime"]);return u!=null&&d(o,["updateTime"],u),o}function OR(n,e,o){const s={},l=c(n,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const u=c(n,["description"]);e!==void 0&&u!=null&&d(e,["description"],u);const f=c(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&d(e,["defaultCheckpointId"],f),s}function HR(n,e,o){const s={},l=c(n,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const u=c(n,["description"]);e!==void 0&&u!=null&&d(e,["description"],u);const f=c(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&d(e,["defaultCheckpointId"],f),s}function VR(n,e,o){const s={},l=c(e,["model"]);l!=null&&d(s,["_url","name"],Re(n,l));const u=c(e,["config"]);return u!=null&&OR(u,s),s}function zR(n,e,o){const s={},l=c(e,["model"]);l!=null&&d(s,["_url","model"],Re(n,l));const u=c(e,["config"]);return u!=null&&HR(u,s),s}function BR(n,e,o){const s={},l=c(n,["outputGcsUri"]);e!==void 0&&l!=null&&d(e,["parameters","storageUri"],l);const u=c(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&d(e,["parameters","safetySetting"],u);const f=c(n,["personGeneration"]);e!==void 0&&f!=null&&d(e,["parameters","personGeneration"],f);const h=c(n,["includeRaiReason"]);e!==void 0&&h!=null&&d(e,["parameters","includeRaiReason"],h);const y=c(n,["outputMimeType"]);e!==void 0&&y!=null&&d(e,["parameters","outputOptions","mimeType"],y);const m=c(n,["outputCompressionQuality"]);e!==void 0&&m!=null&&d(e,["parameters","outputOptions","compressionQuality"],m);const v=c(n,["enhanceInputImage"]);e!==void 0&&v!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],v);const _=c(n,["imagePreservationFactor"]);e!==void 0&&_!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],_);const S=c(n,["labels"]);e!==void 0&&S!=null&&d(e,["labels"],S);const E=c(n,["numberOfImages"]);e!==void 0&&E!=null&&d(e,["parameters","sampleCount"],E);const b=c(n,["mode"]);return e!==void 0&&b!=null&&d(e,["parameters","mode"],b),s}function qR(n,e,o){const s={},l=c(e,["model"]);l!=null&&d(s,["_url","model"],Re(n,l));const u=c(e,["image"]);u!=null&&d(s,["instances[0]","image"],Xt(u));const f=c(e,["upscaleFactor"]);f!=null&&d(s,["parameters","upscaleConfig","upscaleFactor"],f);const h=c(e,["config"]);return h!=null&&BR(h,s),s}function FR(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const l=c(n,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>yl(f))),d(o,["generatedImages"],u)}return o}function JR(n,e){const o={},s=c(n,["uri"]);s!=null&&d(o,["uri"],s);const l=c(n,["encodedVideo"]);l!=null&&d(o,["videoBytes"],jn(l));const u=c(n,["encoding"]);return u!=null&&d(o,["mimeType"],u),o}function YR(n,e){const o={},s=c(n,["gcsUri"]);s!=null&&d(o,["uri"],s);const l=c(n,["bytesBase64Encoded"]);l!=null&&d(o,["videoBytes"],jn(l));const u=c(n,["mimeType"]);return u!=null&&d(o,["mimeType"],u),o}function KR(n,e){const o={},s=c(n,["image"]);s!=null&&d(o,["_self"],Xt(s));const l=c(n,["maskMode"]);return l!=null&&d(o,["maskMode"],l),o}function $R(n,e){const o={},s=c(n,["image"]);s!=null&&d(o,["image"],vl(s));const l=c(n,["referenceType"]);return l!=null&&d(o,["referenceType"],l),o}function XR(n,e){const o={},s=c(n,["image"]);s!=null&&d(o,["image"],Xt(s));const l=c(n,["referenceType"]);return l!=null&&d(o,["referenceType"],l),o}function iv(n,e){const o={},s=c(n,["uri"]);s!=null&&d(o,["uri"],s);const l=c(n,["videoBytes"]);l!=null&&d(o,["encodedVideo"],jn(l));const u=c(n,["mimeType"]);return u!=null&&d(o,["encoding"],u),o}function ov(n,e){const o={},s=c(n,["uri"]);s!=null&&d(o,["gcsUri"],s);const l=c(n,["videoBytes"]);l!=null&&d(o,["bytesBase64Encoded"],jn(l));const u=c(n,["mimeType"]);return u!=null&&d(o,["mimeType"],u),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QR(n,e){const o={},s=c(n,["displayName"]);return e!==void 0&&s!=null&&d(e,["displayName"],s),o}function ZR(n){const e={},o=c(n,["config"]);return o!=null&&QR(o,e),e}function WR(n,e){const o={},s=c(n,["force"]);return e!==void 0&&s!=null&&d(e,["_query","force"],s),o}function jR(n){const e={},o=c(n,["name"]);o!=null&&d(e,["_url","name"],o);const s=c(n,["config"]);return s!=null&&WR(s,e),e}function ex(n){const e={},o=c(n,["name"]);return o!=null&&d(e,["_url","name"],o),e}function tx(n,e){const o={},s=c(n,["customMetadata"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["customMetadata"],u)}const l=c(n,["chunkingConfig"]);return e!==void 0&&l!=null&&d(e,["chunkingConfig"],l),o}function nx(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const s=c(n,["metadata"]);s!=null&&d(e,["metadata"],s);const l=c(n,["done"]);l!=null&&d(e,["done"],l);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],ox(f)),e}function ix(n){const e={},o=c(n,["fileSearchStoreName"]);o!=null&&d(e,["_url","file_search_store_name"],o);const s=c(n,["fileName"]);s!=null&&d(e,["fileName"],s);const l=c(n,["config"]);return l!=null&&tx(l,e),e}function ox(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=c(n,["parent"]);s!=null&&d(e,["parent"],s);const l=c(n,["documentName"]);return l!=null&&d(e,["documentName"],l),e}function sx(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),o}function rx(n){const e={},o=c(n,["config"]);return o!=null&&sx(o,e),e}function lx(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=c(n,["fileSearchStores"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["fileSearchStores"],u)}return e}function sv(n,e){const o={},s=c(n,["mimeType"]);e!==void 0&&s!=null&&d(e,["mimeType"],s);const l=c(n,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const u=c(n,["customMetadata"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>y)),d(e,["customMetadata"],h)}const f=c(n,["chunkingConfig"]);return e!==void 0&&f!=null&&d(e,["chunkingConfig"],f),o}function ax(n){const e={},o=c(n,["fileSearchStoreName"]);o!=null&&d(e,["_url","file_search_store_name"],o);const s=c(n,["config"]);return s!=null&&sv(s,e),e}function ux(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cx="Content-Type",fx="X-Server-Timeout",dx="User-Agent",hc="x-goog-api-client",px="1.41.0",hx=`google-genai-sdk/${px}`,mx="v1beta1",gx="v1beta",yx=5,vx=[408,429,500,502,503,504];class _x{constructor(e){var o,s,l;this.clientOptions=Object.assign({},e),this.customBaseUrl=(o=e.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const u={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const h=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!h?(u.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?u.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(u.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),u.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:mx}else{if(!this.clientOptions.apiKey)throw new bs({message:"API key must be set when using the Gemini API.",status:403});u.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:gx,u.baseUrl="https://generativelanguage.googleapis.com/"}u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,s){const l=[this.getRequestUrlInternal(o)];return s&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e,o){return!(o.baseUrl&&o.baseUrlResourceScope===ac.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e,o),l=this.constructUrl(e.path,o,s);if(e.queryParams)for(const[f,h]of Object.entries(e.queryParams))l.searchParams.append(f,String(h));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,o,l.toString(),e.abortSignal),this.unaryApiCall(l,u,e.httpMethod)}patchHttpOptions(e,o){const s=JSON.parse(JSON.stringify(e));for(const[l,u]of Object.entries(o))typeof u=="object"?s[l]=Object.assign(Object.assign({},s[l]),u):u!==void 0&&(s[l]=u);return s}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e,o),l=this.constructUrl(e.path,o,s);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,o,l.toString(),e.abortSignal),this.streamApiCall(l,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,s,l){if(o&&o.timeout||l){const u=new AbortController,f=u.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const h=setTimeout(()=>u.abort(),o.timeout);h&&typeof h.unref=="function"&&h.unref()}l&&l.addEventListener("abort",()=>{u.abort()}),e.signal=f}return o&&o.extraBody!==null&&Tx(e,o.extraBody),e.headers=await this.getHeadersInternal(o,s),e}async unaryApiCall(e,o,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:s})).then(async l=>(await wg(l),new uc(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,o,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:s})).then(async l=>(await wg(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){return Kt(this,arguments,function*(){var s;const l=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),u=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let f="";const h="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield re(l.read());if(m){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=u.decode(v,{stream:!0});try{const b=JSON.parse(_);if("error"in b){const w=JSON.parse(JSON.stringify(b.error)),I=w.status,z=w.code,$=`got status: ${I}. ${JSON.stringify(b)}`;if(z>=400&&z<600)throw new bs({message:$,status:z})}}catch(b){if(b.name==="ApiError")throw b}f+=_;let S=-1,E=0;for(;;){S=-1,E=0;for(const I of y){const z=f.indexOf(I);z!==-1&&(S===-1||z<S)&&(S=z,E=I.length)}if(S===-1)break;const b=f.substring(0,S);f=f.substring(S+E);const w=b.trim();if(w.startsWith(h)){const I=w.substring(h.length).trim();try{const z=new Response(I,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield re(new uc(z))}catch(z){throw new Error(`exception parsing stream chunk ${I}. ${z}`)}}}}}finally{l.releaseLock()}})}async apiCall(e,o){var s;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(e,o);const l=this.clientOptions.httpOptions.retryOptions;return uS(async()=>{const f=await fetch(e,o);if(f.ok)return f;throw vx.includes(f.status)?new Error(`Retryable HTTP Error: ${f.statusText}`):new Gy(`Non-retryable exception ${f.statusText} sending request`)},{retries:((s=l.attempts)!==null&&s!==void 0?s:yx)-1})}getDefaultHeaders(){const e={},o=hx+" "+this.clientOptions.userAgentExtra;return e[dx]=o,e[hc]=o,e[cx]="application/json",e}async getHeadersInternal(e,o){const s=new Headers;if(e&&e.headers){for(const[l,u]of Object.entries(e.headers))s.append(l,u);e.timeout&&e.timeout>0&&s.append(fx,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(e){var o;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(e,o){var s;const l={};o!=null&&(l.mimeType=o.mimeType,l.name=o.name,l.displayName=o.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const u=this.clientOptions.uploader,f=await u.stat(e);l.sizeBytes=String(f.size);const h=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:f.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=h;const y={file:l},m=this.getFileName(e),v=X("upload/v1beta/files",y._url),_=await this.fetchUploadUrl(v,l.sizeBytes,l.mimeType,m,y,o==null?void 0:o.httpOptions);return u.upload(e,_,this)}async uploadFileToFileSearchStore(e,o,s){var l;const u=this.clientOptions.uploader,f=await u.stat(o),h=String(f.size),y=(l=s==null?void 0:s.mimeType)!==null&&l!==void 0?l:f.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(o),_={};s!=null&&sv(s,_);const S=await this.fetchUploadUrl(m,h,y,v,_,s==null?void 0:s.httpOptions);return u.uploadToFileSearchStore(o,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o,s,l,u,f){var h;let y={};f?y=f:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},l?{"X-Goog-Upload-File-Name":l}:{})};const m=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=m==null?void 0:m.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function wg(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let s;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await n.json():s={error:{message:await n.text(),code:n.status,status:n.statusText}};const l=JSON.stringify(s);throw o>=400&&o<600?new bs({message:l,status:o}):new Error(l)}}function Tx(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const u=JSON.parse(n.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))o=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(u,f){const h=Object.assign({},u);for(const y in f)if(Object.prototype.hasOwnProperty.call(f,y)){const m=f[y],v=h[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?h[y]=s(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),h[y]=m)}return h}const l=s(o,e);n.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sx="mcp_used/unknown";let Cx=!1;function rv(n){for(const e of n)if(Ex(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Cx}function lv(n){var e;const o=(e=n[hc])!==null&&e!==void 0?e:"";n[hc]=(o+` ${Sx}`).trimStart()}function Ex(n){return n!==null&&typeof n=="object"&&n instanceof Oc}function Ax(n){return Kt(this,arguments,function*(o,s=100){let l,u=0;for(;u<s;){const f=yield re(o.listTools({cursor:l}));for(const h of f.tools)yield yield re(h),u++;if(!f.nextCursor)break;l=f.nextCursor}})}class Oc{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new Oc(e,o)}async initialize(){var e,o,s,l;if(this.mcpTools.length>0)return;const u={},f=[];for(const v of this.mcpClients)try{for(var h=!0,y=(o=void 0,$t(Ax(v))),m;m=await y.next(),e=m.done,!e;h=!0){l=m.value,h=!1;const _=l;f.push(_);const S=_.name;if(u[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);u[S]=v}}catch(_){o={error:_}}finally{try{!h&&!e&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}this.mcpTools=f,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),ZS(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[s.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const f=await l.callTool({name:s.name,arguments:s.args},void 0,u);o.push({functionResponse:{name:s.name,response:f.isError?{error:f}:f}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Rx(n,e,o){const s=new qS;let l;o.data instanceof Blob?l=JSON.parse(await o.data.text()):l=JSON.parse(o.data),Object.assign(s,l),e(s)}class xx{constructor(e,o,s){this.apiClient=e,this.auth=o,this.webSocketFactory=s}async connect(e){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),f=Nx(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const v=new Promise(q=>{m=q}),_=e.callbacks,S=function(){m({})},E=this.apiClient,b={onopen:S,onmessage:q=>{Rx(E,_.onmessage,q)},onerror:(o=_==null?void 0:_.onerror)!==null&&o!==void 0?o:function(q){},onclose:(s=_==null?void 0:_.onclose)!==null&&s!==void 0?s:function(q){}},w=this.webSocketFactory.create(y,Mx(f),b);w.connect(),await v;const $={setup:{model:Re(this.apiClient,e.model)}};return w.send(JSON.stringify($)),new bx(w,this.apiClient)}}class bx{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=QE(e);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=XE(e);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const o={playbackControl:e};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(co.PLAY)}pause(){this.sendPlaybackControl(co.PAUSE)}stop(){this.sendPlaybackControl(co.STOP)}resetContext(){this.sendPlaybackControl(co.RESET_CONTEXT)}close(){this.conn.close()}}function Mx(n){const e={};return n.forEach((o,s)=>{e[s]=o}),e}function Nx(n){const e=new Headers;for(const[o,s]of Object.entries(n))e.append(o,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ix="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Dx(n,e,o){const s=new BS;let l;o.data instanceof Blob?l=await o.data.text():o.data instanceof ArrayBuffer?l=new TextDecoder().decode(o.data):l=o.data;const u=JSON.parse(l);if(n.isVertexAI()){const f=jE(u);Object.assign(s,f)}else Object.assign(s,u);e(s)}class Ux{constructor(e,o,s){this.apiClient=e,this.auth=o,this.webSocketFactory=s,this.music=new xx(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,s,l,u,f,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&rv(e.config.tools)&&lv(_);const S=Px(_);if(this.apiClient.isVertexAI()){const j=this.apiClient.getProject(),ae=this.apiClient.getLocation(),Te=this.apiClient.getApiKey(),J=!!j&&!!ae||!!Te;this.apiClient.getCustomBaseUrl()&&!J?v=y:(v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v))}else{const j=this.apiClient.getApiKey();let ae="BidiGenerateContent",Te="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ae="BidiGenerateContentConstrained",Te="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ae}?${Te}=${j}`}let E=()=>{};const b=new Promise(j=>{E=j}),w=e.callbacks,I=function(){var j;(j=w==null?void 0:w.onopen)===null||j===void 0||j.call(w),E({})},z=this.apiClient,$={onopen:I,onmessage:j=>{Dx(z,w.onmessage,j)},onerror:(o=w==null?void 0:w.onerror)!==null&&o!==void 0?o:function(j){},onclose:(s=w==null?void 0:w.onclose)!==null&&s!==void 0?s:function(j){}},q=this.webSocketFactory.create(v,Lx(S),$);q.connect(),await b;let Y=Re(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&Y.startsWith("publishers/")){const j=this.apiClient.getProject(),ae=this.apiClient.getLocation();j&&ae&&(Y=`projects/${j}/locations/${ae}/`+Y)}let W={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[xs.AUDIO]}:e.config.responseModalities=[xs.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const O=(h=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&h!==void 0?h:[],F=[];for(const j of O)if(this.isCallableTool(j)){const ae=j;F.push(await ae.tool())}else F.push(j);F.length>0&&(e.config.tools=F);const fe={model:Y,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?W=$E(this.apiClient,fe):W=KE(this.apiClient,fe),delete W.config,q.send(JSON.stringify(W)),new kx(q,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const wx={turnComplete:!0};class kx{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=Bt(o.turns),e.isVertexAI()||(s=s.map(l=>gl(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(Ix)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},wx),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:WE(e)}:o={realtimeInput:ZE(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function Lx(n){const e={};return n.forEach((o,s)=>{e[s]=o}),e}function Px(n){const e=new Headers;for(const[o,s]of Object.entries(n))e.append(o,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kg=10;function Lg(n){var e,o,s;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const f of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(mo(f)){l=!0;break}if(!l)return!0;const u=(s=n==null?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function mo(n){return"callTool"in n&&typeof n.callTool=="function"}function Gx(n){var e,o,s;return(s=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(l=>mo(l)))!==null&&s!==void 0?s:!1}function Pg(n){var e;const o=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((s,l)=>{if(mo(s))return;const u=s;u.functionDeclarations&&u.functionDeclarations.length>0&&o.push(l)}),o}function Gg(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ox extends An{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var s,l,u,f,h;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!Gx(o)||Lg(o.config))return await this.generateContentInternal(y);const m=Pg(o);if(m.length>0){const w=m.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let v,_;const S=Bt(y.contents),E=(u=(l=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&u!==void 0?u:kg;let b=0;for(;b<E&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const w=v.candidates[0].content,I=[];for(const z of(h=(f=o.config)===null||f===void 0?void 0:f.tools)!==null&&h!==void 0?h:[])if(mo(z)){const q=await z.callTool(v.functionCalls);I.push(...q)}b++,_={role:"user",parts:I},y.contents=Bt(y.contents),y.contents.push(w),y.contents.push(_),Gg(y.config)&&(S.push(w),S.push(_))}return Gg(y.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async o=>{var s,l,u,f,h;if(this.maybeMoveToResponseJsonSchem(o),Lg(o.config)){const _=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(_)}const y=Pg(o);if(y.length>0){const _=y.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(u=(l=(s=o==null?void 0:o.config)===null||s===void 0?void 0:s.toolConfig)===null||l===void 0?void 0:l.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(h=(f=o==null?void 0:o.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var l;let u;const f=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((l=y==null?void 0:y.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:f.push(y);let h;return u?h={generatedImages:f,positivePromptSafetyAttributes:u,sdkHttpResponse:s.sdkHttpResponse}:h={generatedImages:f,sdkHttpResponse:s.sdkHttpResponse},h}),this.list=async o=>{var s;const f={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((s=f.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new Ai(En.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(f),f)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const l={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(l)},this.generateVideos=async o=>{var s,l,u,f,h,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((l=o.video)===null||l===void 0)&&l.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((f=(u=o.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.uri&&(!((y=(h=o.source)===null||h===void 0?void 0:h.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,s,l;const u=(o=e.config)===null||o===void 0?void 0:o.tools;if(!u)return e;const f=await Promise.all(u.map(async y=>mo(y)?await y.tool():y)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(h.config.tools=f,e.config&&e.config.tools&&rv(e.config.tools)){const y=(l=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&l!==void 0?l:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),lv(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var o,s,l;const u=new Map;for(const f of(s=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(mo(f)){const h=f,y=await h.tool();for(const m of(l=y.functionDeclarations)!==null&&l!==void 0?l:[]){if(!m.name)throw new Error("Function declaration name is required.");if(u.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);u.set(m.name,h)}}return u}async processAfcStream(e){var o,s,l;const u=(l=(s=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&l!==void 0?l:kg;let f=!1,h=0;const y=await this.initAfcToolsMap(e);return(function(m,v,_){return Kt(this,arguments,function*(){for(var S,E,b,w,I,z;h<u;){f&&(h++,f=!1);const W=yield re(m.processParamsMaybeAddMcpUsage(_)),O=yield re(m.generateContentStreamInternal(W)),F=[],fe=[];try{for(var $=!0,q=(E=void 0,$t(O)),Y;Y=yield re(q.next()),S=Y.done,!S;$=!0){w=Y.value,$=!1;const j=w;if(yield yield re(j),j.candidates&&(!((I=j.candidates[0])===null||I===void 0)&&I.content)){fe.push(j.candidates[0].content);for(const ae of(z=j.candidates[0].content.parts)!==null&&z!==void 0?z:[])if(h<u&&ae.functionCall){if(!ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ae.functionCall.name)){const Te=yield re(v.get(ae.functionCall.name).callTool([ae.functionCall]));F.push(...Te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ae.functionCall.name}`)}}}}catch(j){E={error:j}}finally{try{!$&&!S&&(b=q.return)&&(yield re(b.call(q)))}finally{if(E)throw E.error}}if(F.length>0){f=!0;const j=new ys;j.candidates=[{content:{role:"user",parts:F}}],yield yield re(j);const ae=[];ae.push(...fe),ae.push({role:"user",parts:F});const Te=Bt(_.contents).concat(ae);_.contents=Te}else break}})})(this,y,e)}async generateContentInternal(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=Ig(this.apiClient,e);return h=X("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=Ug(v),S=new ys;return Object.assign(S,_),S})}else{const m=Ng(this.apiClient,e);return h=X("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=Dg(v),S=new ys;return Object.assign(S,_),S})}}async generateContentStreamInternal(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=Ig(this.apiClient,e);return h=X("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),f.then(function(_){return Kt(this,arguments,function*(){var S,E,b,w;try{for(var I=!0,z=$t(_),$;$=yield re(z.next()),S=$.done,!S;I=!0){w=$.value,I=!1;const q=w,Y=Ug(yield re(q.json()),e);Y.sdkHttpResponse={headers:q.headers};const W=new ys;Object.assign(W,Y),yield yield re(W)}}catch(q){E={error:q}}finally{try{!I&&!S&&(b=z.return)&&(yield re(b.call(z)))}finally{if(E)throw E.error}}})})}else{const m=Ng(this.apiClient,e);return h=X("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),f.then(function(_){return Kt(this,arguments,function*(){var S,E,b,w;try{for(var I=!0,z=$t(_),$;$=yield re(z.next()),S=$.done,!S;I=!0){w=$.value,I=!1;const q=w,Y=Dg(yield re(q.json()),e);Y.sdkHttpResponse={headers:q.headers};const W=new ys;Object.assign(W,Y),yield yield re(W)}}catch(q){E={error:q}}finally{try{!I&&!S&&(b=z.return)&&(yield re(b.call(z)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=IA(this.apiClient,e);return h=X("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=UA(v),S=new dg;return Object.assign(S,_),S})}else{const m=NA(this.apiClient,e);return h=X("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=DA(v),S=new dg;return Object.assign(S,_),S})}}async generateImagesInternal(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=qA(this.apiClient,e);return h=X("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=JA(v),S=new pg;return Object.assign(S,_),S})}else{const m=BA(this.apiClient,e);return h=X("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=FA(v),S=new pg;return Object.assign(S,_),S})}}async editImageInternal(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=RA(this.apiClient,e);return u=X("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=xA(y),v=new IS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=qR(this.apiClient,e);return u=X("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=FR(y),v=new DS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=AR(this.apiClient,e);return u=X("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=RR(y),v=new US;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=DR(this.apiClient,e);return u=X("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=UR(y),v=new wS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=aR(this.apiClient,e);return h=X("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),f.then(v=>pc(v))}else{const m=lR(this.apiClient,e);return h=X("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>dc(v))}}async listInternal(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=yR(this.apiClient,e);return h=X("{models_url}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=_R(v),S=new hg;return Object.assign(S,_),S})}else{const m=gR(this.apiClient,e);return h=X("{models_url}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=vR(v),S=new hg;return Object.assign(S,_),S})}}async update(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=zR(this.apiClient,e);return h=X("{model}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),f.then(v=>pc(v))}else{const m=VR(this.apiClient,e);return h=X("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>dc(v))}}async delete(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=SA(this.apiClient,e);return h=X("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=EA(v),S=new mg;return Object.assign(S,_),S})}else{const m=TA(this.apiClient,e);return h=X("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=CA(v),S=new mg;return Object.assign(S,_),S})}}async countTokens(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=yA(this.apiClient,e);return h=X("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=_A(v),S=new gg;return Object.assign(S,_),S})}else{const m=gA(this.apiClient,e);return h=X("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=vA(v),S=new gg;return Object.assign(S,_),S})}}async computeTokens(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=uA(this.apiClient,e);return u=X("{model}:computeTokens",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=cA(y),v=new kS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=ZA(this.apiClient,e);return h=X("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),f.then(v=>{const _=XA(v),S=new fl;return Object.assign(S,_),S})}else{const m=QA(this.apiClient,e);return h=X("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>{const _=$A(v),S=new fl;return Object.assign(S,_),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hx extends An{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,s=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=o.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:l,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async get(e){const o=e.operation,s=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=o.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:l,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async getVideosOperationInternal(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=AS(e);return h=X("{operationName}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),f}else{const m=ES(e);return h=X("{operationName}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f}}async fetchPredictVideosOperationInternal(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=gS(e);return u=X("{resourceName}:fetchPredictOperation",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vx(n){const e={},o=c(n,["data"]);if(o!=null&&d(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function zx(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Qx(u))),d(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&d(e,["role"],s),e}function Bx(n,e,o){const s={},l=c(e,["expireTime"]);o!==void 0&&l!=null&&d(o,["expireTime"],l);const u=c(e,["newSessionExpireTime"]);o!==void 0&&u!=null&&d(o,["newSessionExpireTime"],u);const f=c(e,["uses"]);o!==void 0&&f!=null&&d(o,["uses"],f);const h=c(e,["liveConnectConstraints"]);o!==void 0&&h!=null&&d(o,["bidiGenerateContentSetup"],Xx(n,h));const y=c(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&d(o,["fieldMask"],y),s}function qx(n,e){const o={},s=c(e,["config"]);return s!=null&&d(o,["config"],Bx(n,s,o)),o}function Fx(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function Jx(n){const e={},o=c(n,["id"]);o!=null&&d(e,["id"],o);const s=c(n,["args"]);s!=null&&d(e,["args"],s);const l=c(n,["name"]);if(l!=null&&d(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Yx(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function Kx(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function $x(n,e){const o={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],s);const l=c(n,["responseModalities"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","responseModalities"],l);const u=c(n,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const f=c(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const h=c(n,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const v=c(n,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","speechConfig"],Gc(_));const S=c(n,["thinkingConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","thinkingConfig"],S);const E=c(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],E);const b=c(n,["systemInstruction"]);e!==void 0&&b!=null&&d(e,["setup","systemInstruction"],zx(lt(b)));const w=c(n,["tools"]);if(e!==void 0&&w!=null){let O=vo(w);Array.isArray(O)&&(O=O.map(F=>Wx(yo(F)))),d(e,["setup","tools"],O)}const I=c(n,["sessionResumption"]);e!==void 0&&I!=null&&d(e,["setup","sessionResumption"],Zx(I));const z=c(n,["inputAudioTranscription"]);e!==void 0&&z!=null&&d(e,["setup","inputAudioTranscription"],z);const $=c(n,["outputAudioTranscription"]);e!==void 0&&$!=null&&d(e,["setup","outputAudioTranscription"],$);const q=c(n,["realtimeInputConfig"]);e!==void 0&&q!=null&&d(e,["setup","realtimeInputConfig"],q);const Y=c(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&d(e,["setup","contextWindowCompression"],Y);const W=c(n,["proactivity"]);if(e!==void 0&&W!=null&&d(e,["setup","proactivity"],W),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function Xx(n,e){const o={},s=c(e,["model"]);s!=null&&d(o,["setup","model"],Re(n,s));const l=c(e,["config"]);return l!=null&&d(o,["config"],$x(l,o)),o}function Qx(n){const e={},o=c(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&d(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],Fx(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],Jx(f));const h=c(n,["functionResponse"]);h!=null&&d(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&d(e,["inlineData"],Vx(y));const m=c(n,["text"]);m!=null&&d(e,["text"],m);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&d(e,["thoughtSignature"],_);const S=c(n,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function Zx(n){const e={},o=c(n,["handle"]);if(o!=null&&d(e,["handle"],o),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Wx(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(n,["computerUse"]);o!=null&&d(e,["computerUse"],o);const s=c(n,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const l=c(n,["codeExecution"]);if(l!=null&&d(e,["codeExecution"],l),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>_)),d(e,["functionDeclarations"],v)}const f=c(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],Yx(f));const h=c(n,["googleSearch"]);h!=null&&d(e,["googleSearch"],Kx(h));const y=c(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const m=c(n,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jx(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const s=n[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const l=Object.keys(s).map(u=>`${o}.${u}`);e.push(...l)}else e.push(o)}return e.join(",")}function eb(n,e){let o=null;const s=n.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const u=s.setup;typeof u=="object"&&u!==null?(n.bidiGenerateContentSetup=u,o=u):delete n.bidiGenerateContentSetup}else s!==void 0&&delete n.bidiGenerateContentSetup;const l=n.fieldMask;if(o){const u=jx(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?n.fieldMask=u:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];l.length>0&&(h=l.map(m=>f.includes(m)?`generationConfig.${m}`:m));const y=[];u&&y.push(u),h.length>0&&y.push(...h),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?n.fieldMask=l.join(","):delete n.fieldMask;return n}class tb extends An{constructor(e){super(),this.apiClient=e}async create(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=qx(this.apiClient,e);u=X("auth_tokens",h._url),f=h._query,delete h.config,delete h._url,delete h._query;const y=eb(h,e.config);return l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nb(n,e){const o={},s=c(n,["force"]);return e!==void 0&&s!=null&&d(e,["_query","force"],s),o}function ib(n){const e={},o=c(n,["name"]);o!=null&&d(e,["_url","name"],o);const s=c(n,["config"]);return s!=null&&nb(s,e),e}function ob(n){const e={},o=c(n,["name"]);return o!=null&&d(e,["_url","name"],o),e}function sb(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),o}function rb(n){const e={},o=c(n,["parent"]);o!=null&&d(e,["_url","parent"],o);const s=c(n,["config"]);return s!=null&&sb(s,e),e}function lb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=c(n,["documents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ab extends An{constructor(e){super(),this.apiClient=e,this.list=async o=>new Ai(En.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ob(e);return u=X("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var o,s;let l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=ib(e);l=X("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=rb(e);return u=X("{parent}/documents",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=lb(y),v=new LS;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ub extends An{constructor(e,o=new ab(e)){super(),this.apiClient=e,this.documents=o,this.list=async(s={})=>new Ai(En.PAGED_ITEM_FILE_SEARCH_STORES,l=>this.listInternal(l),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ZR(e);return u=X("fileSearchStores",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async get(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ex(e);return u=X("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var o,s;let l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=jR(e);l=X("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=rx(e);return u=X("fileSearchStores",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=lx(y),v=new PS;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ax(e);return u=X("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=ux(y),v=new GS;return Object.assign(v,m),v})}}async importFile(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ix(e);return u=X("{file_search_store_name}:importFile",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=nx(y),v=new Uc;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let av=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return av=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),o=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^o()&15>>+s/4).toString(16))};const cb=()=>av();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mc(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const gc=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qt extends Error{}class pt extends qt{constructor(e,o,s,l){super(`${pt.makeMessage(e,o,s)}`),this.status=e,this.headers=l,this.error=o}static makeMessage(e,o,s){const l=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):s;return e&&l?`${e} ${l}`:e?`${e} status code (no body)`:l||"(no status code or body)"}static generate(e,o,s,l){if(!e||!l)return new _l({message:s,cause:gc(o)});const u=o;return e===400?new cv(e,u,s,l):e===401?new fv(e,u,s,l):e===403?new dv(e,u,s,l):e===404?new pv(e,u,s,l):e===409?new hv(e,u,s,l):e===422?new mv(e,u,s,l):e===429?new gv(e,u,s,l):e>=500?new yv(e,u,s,l):new pt(e,u,s,l)}}class yc extends pt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class _l extends pt{constructor({message:e,cause:o}){super(void 0,void 0,e||"Connection error.",void 0),o&&(this.cause=o)}}class uv extends _l{constructor({message:e}={}){super({message:e??"Request timed out."})}}class cv extends pt{}class fv extends pt{}class dv extends pt{}class pv extends pt{}class hv extends pt{}class mv extends pt{}class gv extends pt{}class yv extends pt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fb=/^[a-z][a-z0-9+.-]*:/i,db=n=>fb.test(n);let vc=n=>(vc=Array.isArray,vc(n));const pb=vc;let hb=pb;const Og=hb;function mb(n){if(!n)return!0;for(const e in n)return!1;return!0}function gb(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const yb=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new qt(`${n} must be an integer`);if(e<0)throw new qt(`${n} must be a positive integer`);return e},vb=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _b=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tb(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Sb=()=>{var n,e,o,s,l;const u=Tb();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":uo,"X-Stainless-OS":Vg(Deno.build.os),"X-Stainless-Arch":Hg(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":uo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":uo,"X-Stainless-OS":Vg((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Hg((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(l=globalThis.process.version)!==null&&l!==void 0?l:"unknown"};const f=Cb();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":uo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":uo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Cb(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:o}of n){const s=o.exec(navigator.userAgent);if(s){const l=s[1]||0,u=s[2]||0,f=s[3]||0;return{browser:e,version:`${l}.${u}.${f}`}}}return null}const Hg=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",Vg=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let Kr;const Eb=()=>Kr??(Kr=Sb());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ab(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function vv(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function Rb(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return vv({start(){},async pull(o){const{done:s,value:l}=await e.next();s?o.close():o.enqueue(l)},async cancel(){var o;await((o=e.return)===null||o===void 0?void 0:o.call(e))}})}function _v(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const o=await e.read();return o!=null&&o.done&&e.releaseLock(),o}catch(o){throw e.releaseLock(),o}},async return(){const o=e.cancel();return e.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function xb(n){var e,o;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((o=(e=n[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(e));return}const s=n.getReader(),l=s.cancel();s.releaseLock(),await l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bb=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tv=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,o=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Xu(n,e,o){return Tv(),new File(n,e??"unknown_file",o)}function Mb(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const Nb=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sv=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",Ib=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&Sv(n),Db=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function Ub(n,e,o){if(Tv(),n=await n,Ib(n))return n instanceof File?n:Xu([await n.arrayBuffer()],n.name);if(Db(n)){const l=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),Xu(await _c(l),e,o)}const s=await _c(n);if(e||(e=Mb(n)),!(o!=null&&o.type)){const l=s.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof l=="string"&&(o=Object.assign(Object.assign({},o),{type:l}))}return Xu(s,e,o)}async function _c(n){var e,o,s,l,u;let f=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)f.push(n);else if(Sv(n))f.push(n instanceof Blob?n:await n.arrayBuffer());else if(Nb(n))try{for(var h=!0,y=$t(n),m;m=await y.next(),e=m.done,!e;h=!0){l=m.value,h=!1;const v=l;f.push(...await _c(v))}}catch(v){o={error:v}}finally{try{!h&&!e&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}else{const v=(u=n==null?void 0:n.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof n}${v?`; constructor: ${v}`:""}${wb(n)}`)}return f}function wb(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cv{constructor(e){this._client=e}}Cv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ev(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const zg=Object.freeze(Object.create(null)),kb=(n=Ev)=>(function(o,...s){if(o.length===1)return o[0];let l=!1;const u=[],f=o.reduce((v,_,S)=>{var E,b,w;/[?#]/.test(_)&&(l=!0);const I=s[S];let z=(l?encodeURIComponent:n)(""+I);return S!==s.length&&(I==null||typeof I=="object"&&I.toString===((w=Object.getPrototypeOf((b=Object.getPrototypeOf((E=I.hasOwnProperty)!==null&&E!==void 0?E:zg))!==null&&b!==void 0?b:zg))===null||w===void 0?void 0:w.toString))&&(z=I+"",u.push({start:v.length+_.length,length:z.length,error:`Value of type ${Object.prototype.toString.call(I).slice(8,-1)} is not a valid path parameter`})),v+_+(S===s.length?"":z)},""),h=f.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=y.exec(h))!==null;)u.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(u.sort((v,_)=>v.start-_.start),u.length>0){let v=0;const _=u.reduce((S,E)=>{const b=" ".repeat(E.start-v),w="^".repeat(E.length);return v=E.start+E.length,S+b+w},"");throw new qt(`Path parameters result in path with invalid segments:
${u.map(S=>S.error).join(`
`)}
${f}
${_}`)}return f}),$r=kb(Ev);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Av extends Cv{create(e,o){var s;const{api_version:l=this._client.apiVersion}=e,u=pl(e,["api_version"]);if("model"in u&&"agent_config"in u)throw new qt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new qt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post($r`/${l}/interactions`,Object.assign(Object.assign({body:u},o),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,o={},s){const{api_version:l=this._client.apiVersion}=o??{};return this._client.delete($r`/${l}/interactions/${e}`,s)}cancel(e,o={},s){const{api_version:l=this._client.apiVersion}=o??{};return this._client.post($r`/${l}/interactions/${e}/cancel`,s)}get(e,o={},s){var l;const u=o??{},{api_version:f=this._client.apiVersion}=u,h=pl(u,["api_version"]);return this._client.get($r`/${f}/interactions/${e}`,Object.assign(Object.assign({query:h},s),{stream:(l=o==null?void 0:o.stream)!==null&&l!==void 0?l:!1}))}}Av._key=Object.freeze(["interactions"]);class Rv extends Av{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lb(n){let e=0;for(const l of n)e+=l.length;const o=new Uint8Array(e);let s=0;for(const l of n)o.set(l,s),s+=l.length;return o}let Xr;function Hc(n){let e;return(Xr??(e=new globalThis.TextEncoder,Xr=e.encode.bind(e)))(n)}let Qr;function Bg(n){let e;return(Qr??(e=new globalThis.TextDecoder,Qr=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tl{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const o=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Hc(e):e;this.buffer=Lb([this.buffer,o]);const s=[];let l;for(;(l=Pb(this.buffer,this.carriageReturnIndex))!=null;){if(l.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=l.index;continue}if(this.carriageReturnIndex!=null&&(l.index!==this.carriageReturnIndex+1||l.carriage)){s.push(Bg(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?l.preceding-1:l.preceding,f=Bg(this.buffer.subarray(0,u));s.push(f),this.buffer=this.buffer.subarray(l.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Tl.NEWLINE_CHARS=new Set([`
`,"\r"]);Tl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Pb(n,e){for(let l=e??0;l<n.length;l++){if(n[l]===10)return{preceding:l,index:l+1,carriage:!1};if(n[l]===13)return{preceding:l,index:l+1,carriage:!0}}return null}function Gb(n){for(let s=0;s<n.length-1;s++){if(n[s]===10&&n[s+1]===10||n[s]===13&&n[s+1]===13)return s+2;if(n[s]===13&&n[s+1]===10&&s+3<n.length&&n[s+2]===13&&n[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hl={off:0,error:200,warn:300,info:400,debug:500},qg=(n,e,o)=>{if(n){if(gb(hl,n))return n;ft(o).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(hl))}`)}};function Ts(){}function Zr(n,e,o){return!e||hl[n]>hl[o]?Ts:e[n].bind(e)}const Ob={error:Ts,warn:Ts,info:Ts,debug:Ts};let Fg=new WeakMap;function ft(n){var e;const o=n.logger,s=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!o)return Ob;const l=Fg.get(o);if(l&&l[0]===s)return l[1];const u={error:Zr("error",o,s),warn:Zr("warn",o,s),info:Zr("info",o,s),debug:Zr("debug",o,s)};return Fg.set(o,[s,u]),u}const _i=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,o])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fo{constructor(e,o,s){this.iterator=e,this.controller=o,this.client=s}static fromSSEResponse(e,o,s){let l=!1;const u=s?ft(s):console;function f(){return Kt(this,arguments,function*(){var y,m,v,_;if(l)throw new qt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let S=!1;try{try{for(var E=!0,b=$t(Hb(e,o)),w;w=yield re(b.next()),y=w.done,!y;E=!0){_=w.value,E=!1;const I=_;if(!S)if(I.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield re(JSON.parse(I.data))}catch(z){throw u.error("Could not parse message into JSON:",I.data),u.error("From chunk:",I.raw),z}}}catch(I){m={error:I}}finally{try{!E&&!y&&(v=b.return)&&(yield re(v.call(b)))}finally{if(m)throw m.error}}S=!0}catch(I){if(mc(I))return yield re(void 0);throw I}finally{S||o.abort()}})}return new fo(f,o,s)}static fromReadableStream(e,o,s){let l=!1;function u(){return Kt(this,arguments,function*(){var y,m,v,_;const S=new Tl,E=_v(e);try{for(var b=!0,w=$t(E),I;I=yield re(w.next()),y=I.done,!y;b=!0){_=I.value,b=!1;const z=_;for(const $ of S.decode(z))yield yield re($)}}catch(z){m={error:z}}finally{try{!b&&!y&&(v=w.return)&&(yield re(v.call(w)))}finally{if(m)throw m.error}}for(const z of S.flush())yield yield re(z)})}function f(){return Kt(this,arguments,function*(){var y,m,v,_;if(l)throw new qt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let S=!1;try{try{for(var E=!0,b=$t(u()),w;w=yield re(b.next()),y=w.done,!y;E=!0){_=w.value,E=!1;const I=_;S||I&&(yield yield re(JSON.parse(I)))}}catch(I){m={error:I}}finally{try{!E&&!y&&(v=b.return)&&(yield re(v.call(b)))}finally{if(m)throw m.error}}S=!0}catch(I){if(mc(I))return yield re(void 0);throw I}finally{S||o.abort()}})}return new fo(f,o,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],o=[],s=this.iterator(),l=u=>({next:()=>{if(u.length===0){const f=s.next();e.push(f),o.push(f)}return u.shift()}});return[new fo(()=>l(e),this.controller,this.client),new fo(()=>l(o),this.controller,this.client)]}toReadableStream(){const e=this;let o;return vv({async start(){o=e[Symbol.asyncIterator]()},async pull(s){try{const{value:l,done:u}=await o.next();if(u)return s.close();const f=Hc(JSON.stringify(l)+`
`);s.enqueue(f)}catch(l){s.error(l)}},async cancel(){var s;await((s=o.return)===null||s===void 0?void 0:s.call(o))}})}}function Hb(n,e){return Kt(this,arguments,function*(){var s,l,u,f;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new qt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new qt("Attempted to iterate over a response with no body");const h=new zb,y=new Tl,m=_v(n.body);try{for(var v=!0,_=$t(Vb(m)),S;S=yield re(_.next()),s=S.done,!s;v=!0){f=S.value,v=!1;const E=f;for(const b of y.decode(E)){const w=h.decode(b);w&&(yield yield re(w))}}}catch(E){l={error:E}}finally{try{!v&&!s&&(u=_.return)&&(yield re(u.call(_)))}finally{if(l)throw l.error}}for(const E of y.flush()){const b=h.decode(E);b&&(yield yield re(b))}})}function Vb(n){return Kt(this,arguments,function*(){var o,s,l,u;let f=new Uint8Array;try{for(var h=!0,y=$t(n),m;m=yield re(y.next()),o=m.done,!o;h=!0){u=m.value,h=!1;const v=u;if(v==null)continue;const _=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Hc(v):v;let S=new Uint8Array(f.length+_.length);S.set(f),S.set(_,f.length),f=S;let E;for(;(E=Gb(f))!==-1;)yield yield re(f.slice(0,E)),f=f.slice(E)}}catch(v){s={error:v}}finally{try{!h&&!o&&(l=y.return)&&(yield re(l.call(y)))}finally{if(s)throw s.error}}f.length>0&&(yield yield re(f))})}class zb{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[o,s,l]=Bb(e,":");return l.startsWith(" ")&&(l=l.substring(1)),o==="event"?this.event=l:o==="data"&&this.data.push(l),null}}function Bb(n,e){const o=n.indexOf(e);return o!==-1?[n.substring(0,o),e,n.substring(o+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function qb(n,e){const{response:o,requestLogID:s,retryOfRequestLogID:l,startTime:u}=e,f=await(async()=>{var h;if(e.options.stream)return ft(n).debug("response",o.status,o.url,o.headers,o.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(o,e.controller,n):fo.fromSSEResponse(o,e.controller,n);if(o.status===204)return null;if(e.options.__binaryResponse)return o;const y=o.headers.get("content-type"),m=(h=y==null?void 0:y.split(";")[0])===null||h===void 0?void 0:h.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?o.headers.get("content-length")==="0"?void 0:await o.json():await o.text()})();return ft(n).debug(`[${s}] response parsed`,_i({retryOfRequestLogID:l,url:o.url,status:o.status,body:f,durationMs:Date.now()-u})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vc extends Promise{constructor(e,o,s=qb){super(l=>{l(null)}),this.responsePromise=o,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new Vc(this.client,this.responsePromise,async(o,s)=>e(await this.parseResponse(o,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,o){return this.parse().then(e,o)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xv=Symbol("brand.privateNullableHeaders");function*Fb(n){if(!n)return;if(xv in n){const{values:s,nulls:l}=n;yield*s.entries();for(const u of l)yield[u,null];return}let e=!1,o;n instanceof Headers?o=n.entries():Og(n)?o=n:(e=!0,o=Object.entries(n??{}));for(let s of o){const l=s[0];if(typeof l!="string")throw new TypeError("expected header name to be a string");const u=Og(s[1])?s[1]:[s[1]];let f=!1;for(const h of u)h!==void 0&&(e&&!f&&(f=!0,yield[l,null]),yield[l,h])}}const vs=n=>{const e=new Headers,o=new Set;for(const s of n){const l=new Set;for(const[u,f]of Fb(s)){const h=u.toLowerCase();l.has(h)||(e.delete(u),l.add(h)),f===null?(e.delete(u),o.add(h)):(e.append(u,f),o.delete(h))}}return{[xv]:!0,values:e,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qu=n=>{var e,o,s,l,u,f;if(typeof globalThis.process<"u")return(s=(o=(e=cS)===null||e===void 0?void 0:e[n])===null||o===void 0?void 0:o.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(f=(u=(l=globalThis.Deno.env)===null||l===void 0?void 0:l.get)===null||u===void 0?void 0:u.call(l,n))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bv;class Sl{constructor(e){var o,s,l,u,f,h,y,{baseURL:m=Qu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=Qu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:_="v1beta"}=e,S=pl(e,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:v,apiVersion:_},S),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(s=E.timeout)!==null&&s!==void 0?s:Sl.DEFAULT_TIMEOUT,this.logger=(l=E.logger)!==null&&l!==void 0?l:console;const b="warn";this.logLevel=b,this.logLevel=(f=(u=qg(E.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:qg(Qu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:b,this.fetchOptions=E.fetchOptions,this.maxRetries=(h=E.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(y=E.fetch)!==null&&y!==void 0?y:Ab(),this.encoder=bb,this._options=E,this.apiKey=v,this.apiVersion=_,this.clientAdapter=E.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:o}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const o=vs([e.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return vs([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return vs([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([o,s])=>typeof s<"u").map(([o,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(o)}=`;throw new qt(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${uo}`}defaultIdempotencyKey(){return`stainless-node-retry-${cb()}`}makeStatusError(e,o,s,l){return pt.generate(e,o,s,l)}buildURL(e,o,s){const l=!this.baseURLOverridden()&&s||this.baseURL,u=db(e)?new URL(e):new URL(l+(l.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),f=this.defaultQuery();return mb(f)||(o=Object.assign(Object.assign({},f),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(u.search=this.stringifyQuery(o)),u.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const o=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(e,{url:o,options:s}){}get(e,o){return this.methodRequest("get",e,o)}post(e,o){return this.methodRequest("post",e,o)}patch(e,o){return this.methodRequest("patch",e,o)}put(e,o){return this.methodRequest("put",e,o)}delete(e,o){return this.methodRequest("delete",e,o)}methodRequest(e,o,s){return this.request(Promise.resolve(s).then(l=>Object.assign({method:e,path:o},l)))}request(e,o=null){return new Vc(this,this.makeRequest(e,o,void 0))}async makeRequest(e,o,s){var l,u,f;const h=await e,y=(l=h.maxRetries)!==null&&l!==void 0?l:this.maxRetries;o==null&&(o=y),await this.prepareOptions(h);const{req:m,url:v,timeout:_}=await this.buildRequest(h,{retryCount:y-o});await this.prepareRequest(m,{url:v,options:h});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=s===void 0?"":`, retryOf: ${s}`,b=Date.now();if(ft(this).debug(`[${S}] sending request`,_i({retryOfRequestLogID:s,method:h.method,url:v,options:h,headers:m.headers})),!((u=h.signal)===null||u===void 0)&&u.aborted)throw new yc;const w=new AbortController,I=await this.fetchWithTimeout(v,m,_,w).catch(gc),z=Date.now();if(I instanceof globalThis.Error){const q=`retrying, ${o} attempts remaining`;if(!((f=h.signal)===null||f===void 0)&&f.aborted)throw new yc;const Y=mc(I)||/timed? ?out/i.test(String(I)+("cause"in I?String(I.cause):""));if(o)return ft(this).info(`[${S}] connection ${Y?"timed out":"failed"} - ${q}`),ft(this).debug(`[${S}] connection ${Y?"timed out":"failed"} (${q})`,_i({retryOfRequestLogID:s,url:v,durationMs:z-b,message:I.message})),this.retryRequest(h,o,s??S);throw ft(this).info(`[${S}] connection ${Y?"timed out":"failed"} - error; no more retries left`),ft(this).debug(`[${S}] connection ${Y?"timed out":"failed"} (error; no more retries left)`,_i({retryOfRequestLogID:s,url:v,durationMs:z-b,message:I.message})),Y?new uv:new _l({cause:I})}const $=`[${S}${E}] ${m.method} ${v} ${I.ok?"succeeded":"failed"} with status ${I.status} in ${z-b}ms`;if(!I.ok){const q=await this.shouldRetry(I);if(o&&q){const j=`retrying, ${o} attempts remaining`;return await xb(I.body),ft(this).info(`${$} - ${j}`),ft(this).debug(`[${S}] response error (${j})`,_i({retryOfRequestLogID:s,url:I.url,status:I.status,headers:I.headers,durationMs:z-b})),this.retryRequest(h,o,s??S,I.headers)}const Y=q?"error; no more retries left":"error; not retryable";ft(this).info(`${$} - ${Y}`);const W=await I.text().catch(j=>gc(j).message),O=vb(W),F=O?void 0:W;throw ft(this).debug(`[${S}] response error (${Y})`,_i({retryOfRequestLogID:s,url:I.url,status:I.status,headers:I.headers,message:F,durationMs:Date.now()-b})),this.makeStatusError(I.status,O,F,I.headers)}return ft(this).info($),ft(this).debug(`[${S}] response start`,_i({retryOfRequestLogID:s,url:I.url,status:I.status,headers:I.headers,durationMs:z-b})),{response:I,options:h,controller:w,requestLogID:S,retryOfRequestLogID:s,startTime:b}}async fetchWithTimeout(e,o,s,l){const u=o||{},{signal:f,method:h}=u,y=pl(u,["signal","method"]),m=this._makeAbort(l);f&&f.addEventListener("abort",m,{once:!0});const v=setTimeout(m,s),_=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,S=Object.assign(Object.assign(Object.assign({signal:l.signal},_?{duplex:"half"}:{}),{method:"GET"}),y);h&&(S.method=h.toUpperCase());try{return await this.fetch.call(void 0,e,S)}finally{clearTimeout(v)}}async shouldRetry(e){const o=e.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,o,s,l){var u;let f;const h=l==null?void 0:l.get("retry-after-ms");if(h){const m=parseFloat(h);Number.isNaN(m)||(f=m)}const y=l==null?void 0:l.get("retry-after");if(y&&!f){const m=parseFloat(y);Number.isNaN(m)?f=Date.parse(y)-Date.now():f=m*1e3}if(!(f&&0<=f&&f<60*1e3)){const m=(u=e.maxRetries)!==null&&u!==void 0?u:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(o,m)}return await _b(f),this.makeRequest(e,o-1,s)}calculateDefaultRetryTimeoutMillis(e,o){const u=o-e,f=Math.min(.5*Math.pow(2,u),8),h=1-Math.random()*.25;return f*h*1e3}async buildRequest(e,{retryCount:o=0}={}){var s,l,u;const f=Object.assign({},e),{method:h,path:y,query:m,defaultBaseURL:v}=f,_=this.buildURL(y,m,v);"timeout"in f&&yb("timeout",f.timeout),f.timeout=(s=f.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:S,body:E}=this.buildBody({options:f}),b=await this.buildHeaders({options:e,method:h,bodyHeaders:S,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:b},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(l=this.fetchOptions)!==null&&l!==void 0?l:{}),(u=f.fetchOptions)!==null&&u!==void 0?u:{}),url:_,timeout:f.timeout}}async buildHeaders({options:e,method:o,bodyHeaders:s,retryCount:l}){let u={};this.idempotencyHeader&&o!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const f=await this.authHeaders(e);let h=vs([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(l)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Eb()),this._options.defaultHeaders,s,e.headers,f]);return this.validateHeaders(h),h.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:o}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=vs([o]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Rb(e)}:this.encoder({body:e,headers:s})}}Sl.DEFAULT_TIMEOUT=6e4;class et extends Sl{constructor(){super(...arguments),this.interactions=new Rv(this)}}bv=et;et.GeminiNextGenAPIClient=bv;et.GeminiNextGenAPIClientError=qt;et.APIError=pt;et.APIConnectionError=_l;et.APIConnectionTimeoutError=uv;et.APIUserAbortError=yc;et.NotFoundError=pv;et.ConflictError=hv;et.RateLimitError=gv;et.BadRequestError=cv;et.AuthenticationError=fv;et.InternalServerError=yv;et.PermissionDeniedError=dv;et.UnprocessableEntityError=mv;et.toFile=Ub;et.Interactions=Rv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jb(n,e){const o={},s=c(n,["name"]);return s!=null&&d(o,["_url","name"],s),o}function Yb(n,e){const o={},s=c(n,["name"]);return s!=null&&d(o,["_url","name"],s),o}function Kb(n,e){const o={},s=c(n,["sdkHttpResponse"]);return s!=null&&d(o,["sdkHttpResponse"],s),o}function $b(n,e){const o={},s=c(n,["sdkHttpResponse"]);return s!=null&&d(o,["sdkHttpResponse"],s),o}function Xb(n,e,o){const s={};if(c(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=c(n,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&d(e,["displayName"],l),c(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(n,["epochCount"]);e!==void 0&&u!=null&&d(e,["tuningTask","hyperparameters","epochCount"],u);const f=c(n,["learningRateMultiplier"]);if(f!=null&&d(s,["tuningTask","hyperparameters","learningRateMultiplier"],f),c(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(c(n,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(c(n,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const h=c(n,["batchSize"]);e!==void 0&&h!=null&&d(e,["tuningTask","hyperparameters","batchSize"],h);const y=c(n,["learningRate"]);if(e!==void 0&&y!=null&&d(e,["tuningTask","hyperparameters","learningRate"],y),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(c(n,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(c(n,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(c(n,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(c(n,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(c(n,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return s}function Qb(n,e,o){const s={};let l=c(o,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const O=c(n,["validationDataset"]);e!==void 0&&O!=null&&d(e,["supervisedTuningSpec"],Zu(O))}else if(l==="PREFERENCE_TUNING"){const O=c(n,["validationDataset"]);e!==void 0&&O!=null&&d(e,["preferenceOptimizationSpec"],Zu(O))}else if(l==="DISTILLATION"){const O=c(n,["validationDataset"]);e!==void 0&&O!=null&&d(e,["distillationSpec"],Zu(O))}const u=c(n,["tunedModelDisplayName"]);e!==void 0&&u!=null&&d(e,["tunedModelDisplayName"],u);const f=c(n,["description"]);e!==void 0&&f!=null&&d(e,["description"],f);let h=c(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const O=c(n,["epochCount"]);e!==void 0&&O!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],O)}else if(h==="PREFERENCE_TUNING"){const O=c(n,["epochCount"]);e!==void 0&&O!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],O)}else if(h==="DISTILLATION"){const O=c(n,["epochCount"]);e!==void 0&&O!=null&&d(e,["distillationSpec","hyperParameters","epochCount"],O)}let y=c(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const O=c(n,["learningRateMultiplier"]);e!==void 0&&O!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],O)}else if(y==="PREFERENCE_TUNING"){const O=c(n,["learningRateMultiplier"]);e!==void 0&&O!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],O)}else if(y==="DISTILLATION"){const O=c(n,["learningRateMultiplier"]);e!==void 0&&O!=null&&d(e,["distillationSpec","hyperParameters","learningRateMultiplier"],O)}let m=c(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const O=c(n,["exportLastCheckpointOnly"]);e!==void 0&&O!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],O)}else if(m==="PREFERENCE_TUNING"){const O=c(n,["exportLastCheckpointOnly"]);e!==void 0&&O!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],O)}else if(m==="DISTILLATION"){const O=c(n,["exportLastCheckpointOnly"]);e!==void 0&&O!=null&&d(e,["distillationSpec","exportLastCheckpointOnly"],O)}let v=c(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const O=c(n,["adapterSize"]);e!==void 0&&O!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],O)}else if(v==="PREFERENCE_TUNING"){const O=c(n,["adapterSize"]);e!==void 0&&O!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],O)}else if(v==="DISTILLATION"){const O=c(n,["adapterSize"]);e!==void 0&&O!=null&&d(e,["distillationSpec","hyperParameters","adapterSize"],O)}let _=c(o,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const O=c(n,["tuningMode"]);e!==void 0&&O!=null&&d(e,["supervisedTuningSpec","tuningMode"],O)}const S=c(n,["customBaseModel"]);e!==void 0&&S!=null&&d(e,["customBaseModel"],S);let E=c(o,["config","method"]);if(E===void 0&&(E="SUPERVISED_FINE_TUNING"),E==="SUPERVISED_FINE_TUNING"){const O=c(n,["batchSize"]);e!==void 0&&O!=null&&d(e,["supervisedTuningSpec","hyperParameters","batchSize"],O)}let b=c(o,["config","method"]);if(b===void 0&&(b="SUPERVISED_FINE_TUNING"),b==="SUPERVISED_FINE_TUNING"){const O=c(n,["learningRate"]);e!==void 0&&O!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRate"],O)}const w=c(n,["labels"]);e!==void 0&&w!=null&&d(e,["labels"],w);const I=c(n,["beta"]);e!==void 0&&I!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],I);const z=c(n,["baseTeacherModel"]);e!==void 0&&z!=null&&d(e,["distillationSpec","baseTeacherModel"],z);const $=c(n,["tunedTeacherModelSource"]);e!==void 0&&$!=null&&d(e,["distillationSpec","tunedTeacherModelSource"],$);const q=c(n,["sftLossWeightMultiplier"]);e!==void 0&&q!=null&&d(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],q);const Y=c(n,["outputUri"]);e!==void 0&&Y!=null&&d(e,["outputUri"],Y);const W=c(n,["encryptionSpec"]);return e!==void 0&&W!=null&&d(e,["encryptionSpec"],W),s}function Zb(n,e){const o={},s=c(n,["baseModel"]);s!=null&&d(o,["baseModel"],s);const l=c(n,["preTunedModel"]);l!=null&&d(o,["preTunedModel"],l);const u=c(n,["trainingDataset"]);u!=null&&aM(u);const f=c(n,["config"]);return f!=null&&Xb(f,o),o}function Wb(n,e){const o={},s=c(n,["baseModel"]);s!=null&&d(o,["baseModel"],s);const l=c(n,["preTunedModel"]);l!=null&&d(o,["preTunedModel"],l);const u=c(n,["trainingDataset"]);u!=null&&uM(u,o,e);const f=c(n,["config"]);return f!=null&&Qb(f,o,e),o}function jb(n,e){const o={},s=c(n,["name"]);return s!=null&&d(o,["_url","name"],s),o}function eM(n,e){const o={},s=c(n,["name"]);return s!=null&&d(o,["_url","name"],s),o}function tM(n,e,o){const s={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const f=c(n,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),s}function nM(n,e,o){const s={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const f=c(n,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),s}function iM(n,e){const o={},s=c(n,["config"]);return s!=null&&tM(s,o),o}function oM(n,e){const o={},s=c(n,["config"]);return s!=null&&nM(s,o),o}function sM(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&d(o,["nextPageToken"],l);const u=c(n,["tunedModels"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>Mv(h))),d(o,["tuningJobs"],f)}return o}function rM(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&d(o,["nextPageToken"],l);const u=c(n,["tuningJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>Tc(h))),d(o,["tuningJobs"],f)}return o}function lM(n,e){const o={},s=c(n,["name"]);s!=null&&d(o,["model"],s);const l=c(n,["name"]);return l!=null&&d(o,["endpoint"],l),o}function aM(n,e){const o={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=c(n,["examples"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),d(o,["examples","examples"],l)}return o}function uM(n,e,o){const s={};let l=c(o,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const f=c(n,["gcsUri"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(l==="PREFERENCE_TUNING"){const f=c(n,["gcsUri"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}else if(l==="DISTILLATION"){const f=c(n,["gcsUri"]);e!==void 0&&f!=null&&d(e,["distillationSpec","promptDatasetUri"],f)}let u=c(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const f=c(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(u==="PREFERENCE_TUNING"){const f=c(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}else if(u==="DISTILLATION"){const f=c(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["distillationSpec","promptDatasetUri"],f)}if(c(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Mv(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const l=c(n,["name"]);l!=null&&d(o,["name"],l);const u=c(n,["state"]);u!=null&&d(o,["state"],Fy(u));const f=c(n,["createTime"]);f!=null&&d(o,["createTime"],f);const h=c(n,["tuningTask","startTime"]);h!=null&&d(o,["startTime"],h);const y=c(n,["tuningTask","completeTime"]);y!=null&&d(o,["endTime"],y);const m=c(n,["updateTime"]);m!=null&&d(o,["updateTime"],m);const v=c(n,["description"]);v!=null&&d(o,["description"],v);const _=c(n,["baseModel"]);_!=null&&d(o,["baseModel"],_);const S=c(n,["_self"]);return S!=null&&d(o,["tunedModel"],lM(S)),o}function Tc(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const l=c(n,["name"]);l!=null&&d(o,["name"],l);const u=c(n,["state"]);u!=null&&d(o,["state"],Fy(u));const f=c(n,["createTime"]);f!=null&&d(o,["createTime"],f);const h=c(n,["startTime"]);h!=null&&d(o,["startTime"],h);const y=c(n,["endTime"]);y!=null&&d(o,["endTime"],y);const m=c(n,["updateTime"]);m!=null&&d(o,["updateTime"],m);const v=c(n,["error"]);v!=null&&d(o,["error"],v);const _=c(n,["description"]);_!=null&&d(o,["description"],_);const S=c(n,["baseModel"]);S!=null&&d(o,["baseModel"],S);const E=c(n,["tunedModel"]);E!=null&&d(o,["tunedModel"],E);const b=c(n,["preTunedModel"]);b!=null&&d(o,["preTunedModel"],b);const w=c(n,["supervisedTuningSpec"]);w!=null&&d(o,["supervisedTuningSpec"],w);const I=c(n,["preferenceOptimizationSpec"]);I!=null&&d(o,["preferenceOptimizationSpec"],I);const z=c(n,["distillationSpec"]);z!=null&&d(o,["distillationSpec"],z);const $=c(n,["tuningDataStats"]);$!=null&&d(o,["tuningDataStats"],$);const q=c(n,["encryptionSpec"]);q!=null&&d(o,["encryptionSpec"],q);const Y=c(n,["partnerModelTuningSpec"]);Y!=null&&d(o,["partnerModelTuningSpec"],Y);const W=c(n,["customBaseModel"]);W!=null&&d(o,["customBaseModel"],W);const O=c(n,["experiment"]);O!=null&&d(o,["experiment"],O);const F=c(n,["labels"]);F!=null&&d(o,["labels"],F);const fe=c(n,["outputUri"]);fe!=null&&d(o,["outputUri"],fe);const j=c(n,["pipelineJob"]);j!=null&&d(o,["pipelineJob"],j);const ae=c(n,["serviceAccount"]);ae!=null&&d(o,["serviceAccount"],ae);const Te=c(n,["tunedModelDisplayName"]);Te!=null&&d(o,["tunedModelDisplayName"],Te);const J=c(n,["veoTuningSpec"]);return J!=null&&d(o,["veoTuningSpec"],J),o}function cM(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const l=c(n,["name"]);l!=null&&d(o,["name"],l);const u=c(n,["metadata"]);u!=null&&d(o,["metadata"],u);const f=c(n,["done"]);f!=null&&d(o,["done"],f);const h=c(n,["error"]);return h!=null&&d(o,["error"],h),o}function Zu(n,e){const o={},s=c(n,["gcsUri"]);s!=null&&d(o,["validationDatasetUri"],s);const l=c(n,["vertexDatasetResource"]);return l!=null&&d(o,["validationDatasetUri"],l),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fM extends An{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Ai(En.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const l={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(l.checkpointId=o.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},o),{preTunedModel:l});return u.baseModel=void 0,await this.tuneInternal(u)}else{const l=Object.assign({},o);return await this.tuneInternal(l)}else{const l=Object.assign({},o),u=await this.tuneMldevInternal(l);let f="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?f=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(f=u.name.split("/operations/")[0]),{name:f,state:lc.JOB_STATE_QUEUED}}}}async getInternal(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=eM(e);return h=X("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>Tc(v))}else{const m=jb(e);return h=X("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>Mv(v))}}async listInternal(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=oM(e);return h=X("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=rM(v),S=new yg;return Object.assign(S,_),S})}else{const m=iM(e);return h=X("tunedModels",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=sM(v),S=new yg;return Object.assign(S,_),S})}}async cancel(e){var o,s,l,u;let f,h="",y={};if(this.apiClient.isVertexAI()){const m=Yb(e);return h=X("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=$b(v),S=new vg;return Object.assign(S,_),S})}else{const m=Jb(e);return h=X("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=Kb(v),S=new vg;return Object.assign(S,_),S})}}async tuneInternal(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=Wb(e,e);return u=X("tuningJobs",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>Tc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Zb(e);return u=X("tunedModels",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>cM(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dM{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const pM=1024*1024*8,hM=3,mM=1e3,gM=2,ml="x-goog-upload-status";async function yM(n,e,o){var s;const l=await Nv(n,e,o),u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[ml])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function vM(n,e,o){var s;const l=await Nv(n,e,o),u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[ml])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=Oy(u),h=new wc;return Object.assign(h,f),h}async function Nv(n,e,o){var s,l;let u=0,f=0,h=new uc(new Response),y="upload";for(u=n.size;f<u;){const m=Math.min(pM,u-f),v=n.slice(f,f+m);f+m>=u&&(y+=", finalize");let _=0,S=mM;for(;_<hM&&(h=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(f),"Content-Length":String(m)}}}),!(!((s=h==null?void 0:h.headers)===null||s===void 0)&&s[ml]));)_++,await TM(S),S=S*gM;if(f+=m,((l=h==null?void 0:h.headers)===null||l===void 0?void 0:l[ml])!=="active")break;if(u<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function _M(n){return{size:n.size,type:n.type}}function TM(n){return new Promise(e=>setTimeout(e,n))}class SM{async upload(e,o,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await yM(e,o,s)}async uploadToFileSearchStore(e,o,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await vM(e,o,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _M(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CM{create(e,o,s){return new EM(e,o,s)}}class EM{constructor(e,o,s){this.url=e,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jg="x-goog-api-key";class AM{constructor(e){this.apiKey=e}async addAuthHeaders(e,o){if(e.get(Jg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Jg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RM="gl-node/";class xM{get interactions(){var e;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const o=this.httpOptions;o!=null&&o.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const s=new et({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:o==null?void 0:o.timeout,maxRetries:(e=o==null?void 0:o.retryOptions)===null||e===void 0?void 0:e.attempts});return this._interactions=s.interactions,this._interactions}constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const s=hS(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const l=new AM(this.apiKey);this.apiClient=new _x({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:RM+"web",uploader:new SM,downloader:new dM}),this.models=new Ox(this.apiClient),this.live=new Ux(this.apiClient,l,new CM),this.batches=new FC(this.apiClient),this.chats=new RE(this.models,this.apiClient),this.caches=new CE(this.apiClient),this.files=new GE(this.apiClient),this.operations=new Hx(this.apiClient),this.authTokens=new tb(this.apiClient),this.tunings=new fM(this.apiClient),this.fileSearchStores=new ub(this.apiClient)}}function bM(n){const e=atob(n),o=e.length,s=new Uint8Array(o);for(let l=0;l<o;l++)s[l]=e.charCodeAt(l);return s}function MM(n){let e="";const o=n.byteLength;for(let s=0;s<o;s++)e+=String.fromCharCode(n[s]);return btoa(e)}async function NM(n,e,o=24e3,s=1){const l=new Int16Array(n.buffer),u=l.length/s,f=e.createBuffer(s,u,o);for(let h=0;h<s;h++){const y=f.getChannelData(h);for(let m=0;m<u;m++)y[m]=l[m*s+h]/32768}return f}function IM(n){const e=n.length,o=new Int16Array(e);for(let s=0;s<e;s++){const l=Math.max(-1,Math.min(1,n[s]));o[s]=l<0?l*32768:l*32767}return{data:MM(new Uint8Array(o.buffer)),mimeType:"audio/pcm;rate=16000"}}class DM{constructor(){this.ai=null,this.inputAudioContext=null,this.outputAudioContext=null,this.mediaStream=null,this.sessionPromise=null,this.processor=null,this.source=null,this.nextStartTime=0,this.outputNode=null,this.isConnected=!1;const e="PLACEHOLDER_API_KEY";this.ai=new xM({apiKey:e})}async connect(e,o){if(!this.ai){o("error"),console.error("API Key not found");return}o("connecting");try{this.inputAudioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),this.outputAudioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),this.outputNode=this.outputAudioContext.createGain(),this.outputNode.connect(this.outputAudioContext.destination),this.mediaStream=await navigator.mediaDevices.getUserMedia({audio:!0}),this.isConnected=!0,this.sessionPromise=this.ai.live.connect({model:"gemini-2.5-flash-native-audio-preview-12-2025",config:{responseModalities:[xs.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}},systemInstruction:"You are a casual, fun friend in a Discord voice call. Keep responses relatively short and conversational. You are hanging out with friends."},callbacks:{onopen:()=>{console.log("Gemini Live Connected"),o("connected"),this.startAudioStreaming()},onmessage:async s=>{this.handleMessage(s,e)},onclose:()=>{console.log("Gemini Live Closed"),o("disconnected"),this.cleanup()},onerror:s=>{console.error("Gemini Live Error",s),o("error"),this.cleanup()}}})}catch(s){console.error("Failed to initialize audio or connection",s),o("error"),this.cleanup()}}startAudioStreaming(){!this.inputAudioContext||!this.mediaStream||!this.sessionPromise||(this.source=this.inputAudioContext.createMediaStreamSource(this.mediaStream),this.processor=this.inputAudioContext.createScriptProcessor(4096,1,1),this.processor.onaudioprocess=e=>{var l;if(!this.isConnected)return;const o=e.inputBuffer.getChannelData(0),s=IM(o);(l=this.sessionPromise)==null||l.then(u=>{u.sendRealtimeInput({media:s})})},this.source.connect(this.processor),this.processor.connect(this.inputAudioContext.destination))}async handleMessage(e,o){var l,u,f,h,y;const s=(y=(h=(f=(u=(l=e.serverContent)==null?void 0:l.modelTurn)==null?void 0:u.parts)==null?void 0:f[0])==null?void 0:h.inlineData)==null?void 0:y.data;if(s&&this.outputAudioContext&&this.outputNode){o(Math.random()*.5+.5),this.nextStartTime=Math.max(this.nextStartTime,this.outputAudioContext.currentTime);const m=await NM(bM(s),this.outputAudioContext,24e3,1),v=this.outputAudioContext.createBufferSource();v.buffer=m,v.connect(this.outputNode),v.start(this.nextStartTime),this.nextStartTime+=m.duration}}disconnect(){this.isConnected=!1,this.sessionPromise&&this.sessionPromise.then(e=>{try{e.close()}catch{}}),this.cleanup()}cleanup(){this.isConnected=!1,this.mediaStream&&(this.mediaStream.getTracks().forEach(e=>e.stop()),this.mediaStream=null),this.processor&&(this.processor.disconnect(),this.processor=null),this.source&&(this.source.disconnect(),this.source=null),this.inputAudioContext&&(this.inputAudioContext.close(),this.inputAudioContext=null),this.outputAudioContext&&(this.outputAudioContext.close(),this.outputAudioContext=null)}}const Yg=new DM,UM=({channelName:n,isAiChannel:e,participants:o,onDisconnect:s,currentUser:l,remoteStream:u})=>{const[f,h]=Le.useState(!0),[y,m]=Le.useState(!!u),[v,_]=Le.useState("idle"),[S,E]=Le.useState(0),b=Le.useRef(null),w=Le.useRef(null);return Le.useEffect(()=>{let I=null;return y?navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(z=>{I=z,b.current&&(b.current.srcObject=I,b.current.muted=!0)}).catch(z=>console.error("Camera error:",z)):b.current&&(b.current.srcObject=null),()=>{I&&I.getTracks().forEach(z=>z.stop())}},[y]),Le.useEffect(()=>{w.current&&u&&(w.current.srcObject=u)},[u]),Le.useEffect(()=>(e&&Yg.connect(I=>{E(I),setTimeout(()=>E(0),200)},I=>{_(I==="disconnected"?"idle":I==="error"?"error":I==="connecting"?"connecting":"connected")}),()=>{e&&Yg.disconnect()}),[e]),N.jsxs("div",{className:"flex-1 bg-nexus-darkest flex flex-col h-full relative overflow-hidden",children:[N.jsx("div",{className:"h-12 border-b border-nexus-darker flex items-center px-4 justify-between shrink-0",children:N.jsxs("div",{className:"flex items-center text-gray-200 font-semibold",children:[N.jsx("span",{className:"text-nexus-gray mr-2",children:e?N.jsx(Ly,{size:20}):N.jsx(Py,{size:20})}),n,N.jsx("span",{className:"ml-2 text-xs font-normal px-2 py-0.5 rounded bg-nexus-green/10 text-nexus-green",children:e?v==="connected"?"LIVE":v.toUpperCase():"Connected"})]})}),N.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 h-full max-h-full",children:[e&&N.jsxs("div",{className:"bg-black rounded-lg relative overflow-hidden flex items-center justify-center min-h-[300px] border-2 border-nexus-accent/50 shadow-[0_0_20px_rgba(88,101,242,0.2)]",children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-nexus-accent/20 to-purple-900/20"}),N.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[N.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-tr from-blue-500 to-pink-500 mb-4 flex items-center justify-center transition-all duration-75",style:{transform:`scale(${1+S*.4})`},children:N.jsx("span",{className:"text-white font-bold text-2xl",children:"AI"})}),N.jsx("h3",{className:"text-white font-semibold",children:"Gemini Live"}),N.jsx("p",{className:"text-nexus-gray text-sm animate-pulse",children:v==="connecting"?"Establishing uplink...":"Listening..."})]}),N.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 flex items-end justify-center gap-1 pb-4 opacity-50",children:[1,2,3,4,5].map(I=>N.jsx("div",{className:"w-2 bg-white rounded-t",style:{height:`${20+S*100*Math.random()}%`,transition:"height 0.1s"}},I))})]}),!e&&u&&N.jsxs("div",{className:"bg-black rounded-lg relative overflow-hidden flex items-center justify-center min-h-[300px] border border-nexus-hover",children:[N.jsx("video",{ref:w,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),N.jsx("div",{className:"absolute bottom-3 left-3 bg-black/60 px-2 py-1 rounded text-sm text-white font-medium backdrop-blur-sm",children:"Friend (Remote)"})]}),!e&&!u&&o.filter(I=>I.id!==l.id).map(I=>N.jsxs("div",{className:"bg-nexus-darker rounded-lg relative overflow-hidden min-h-[300px] flex items-center justify-center border border-nexus-darker",children:[N.jsx("div",{className:"relative",children:N.jsx("img",{src:I.avatarUrl,alt:I.username,className:`w-24 h-24 rounded-full border-4 ${I.status==="ONLINE"?"border-nexus-green":"border-gray-600"}`})}),N.jsx("div",{className:"absolute bottom-3 left-3 bg-black/60 px-2 py-1 rounded text-sm text-white font-medium backdrop-blur-sm",children:I.username})]},I.id)),N.jsxs("div",{className:"bg-nexus-darker rounded-lg relative overflow-hidden min-h-[300px] group border border-transparent hover:border-nexus-hover transition-colors",children:[y?N.jsx("video",{ref:b,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover transform scale-x-[-1]"}):N.jsx("div",{className:"w-full h-full flex items-center justify-center bg-nexus-darker",children:N.jsx("img",{src:l.avatarUrl,alt:"Me",className:"w-24 h-24 rounded-full opacity-80"})}),N.jsxs("div",{className:"absolute bottom-3 left-3 bg-black/60 px-2 py-1 rounded text-sm text-white font-medium backdrop-blur-sm",children:[l.username," (You)"]}),N.jsx("div",{className:"absolute bottom-3 right-3 flex gap-2",children:!f&&N.jsx("div",{className:"p-1.5 bg-nexus-red rounded-full",children:N.jsx(fm,{size:14,className:"text-white"})})})]})]})}),N.jsxs("div",{className:"h-20 bg-nexus-darker flex items-center justify-center gap-4 shrink-0 pb-4",children:[N.jsx("button",{onClick:()=>m(!y),className:`p-4 rounded-full transition-all ${y?"bg-white text-nexus-darkest":"bg-nexus-dark hover:bg-nexus-hover text-white"}`,children:y?N.jsx(ul,{size:24}):N.jsx(ul,{size:24,className:"opacity-50 relative",children:N.jsx("div",{className:"absolute top-0 right-0 w-full h-0.5 bg-red-500 rotate-45 transform origin-center translate-y-3"})})}),N.jsx("button",{onClick:()=>h(!f),className:`p-4 rounded-full transition-all ${f?"bg-nexus-dark hover:bg-nexus-hover text-white":"bg-white text-nexus-darkest"}`,children:f?N.jsx(ky,{size:24}):N.jsx(fm,{size:24})}),N.jsx("button",{onClick:s,className:"p-4 rounded-full bg-nexus-red hover:bg-red-600 text-white transition-all shadow-lg hover:scale-105",children:N.jsx(XT,{size:24})})]})]})},Zn={id:"u1",username:"Traveler_01",avatarUrl:"https://picsum.photos/200/200?random=1",status:cl.ONLINE,isSelf:!0},Wu=[{id:"s1",name:"Global Friends",iconUrl:"https://picsum.photos/200/200?random=2",channels:[{id:"c1",name:"general",type:Cn.TEXT},{id:"c2",name:"memes",type:Cn.TEXT},{id:"c3",name:"Lobby",type:Cn.VOICE}]},{id:"s2",name:"Gemini AI Lab",iconUrl:"https://picsum.photos/200/200?random=3",channels:[{id:"c5",name:"updates",type:Cn.TEXT},{id:"c6",name:"AI Companion",type:Cn.VOICE}]}],wM={c1:[{id:"m1",userId:"u2",content:"Hey everyone! Connecting from Tokyo!",timestamp:"10:00 AM"},{id:"m2",userId:"u3",content:"Greetings from London! The weather is gray as usual.",timestamp:"10:02 AM"},{id:"m3",userId:"u1",content:"Awesome to see you all online.",timestamp:"10:05 AM"}],c5:[{id:"m4",userId:"u1",content:"The voice latency is incredible.",timestamp:"Yesterday"}]},Wr=[{id:"u2",username:"Akira_JP",avatarUrl:"https://picsum.photos/200/200?random=4",status:cl.ONLINE},{id:"u3",username:"Sarah_UK",avatarUrl:"https://picsum.photos/200/200?random=5",status:cl.IDLE}];function kM(){var ae,Te;const[n,e]=Le.useState("home"),[o,s]=Le.useState(Wu[0].channels[0].id),[l,u]=Le.useState(!1),[f,h]=Le.useState(""),[y,m]=Le.useState(""),[v,_]=Le.useState(null),[S,E]=Le.useState(null),b=Le.useRef(null),[w,I]=Le.useState(""),[z,$]=Le.useState(wM);Le.useEffect(()=>{if(b.current)return;const J=new sc;return J.on("open",pe=>{console.log("My Peer ID is: "+pe),h(pe)}),J.on("call",pe=>{console.log("Receiving call..."),E(pe)}),b.current=J,()=>{}},[]);const q=()=>{S&&navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(J=>{S.answer(J),S.on("stream",pe=>{_(pe),u(!0),e("p2p")}),E(null)}).catch(J=>{console.error("Failed to get local stream",J),alert("Camera/Mic permission required to answer.")})},Y=()=>{!y||!b.current||navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(J=>{const pe=b.current.call(y,J);pe.on("stream",Se=>{_(Se),u(!0),e("p2p")}),pe.on("close",()=>{W()})}).catch(J=>{console.error("Failed to get local stream",J),alert("Camera/Mic permission required to call.")})},W=()=>{u(!1),_(null),n==="p2p"&&e("home")},O=Wu.find(J=>J.id===n),F=(O==null?void 0:O.channels.find(J=>J.id===o))||(O==null?void 0:O.channels[0]),fe=J=>{s(J.id),J.type===Cn.VOICE&&(u(!0),_(null))},j=J=>{if(J.preventDefault(),!w.trim())return;const pe={id:Date.now().toString(),userId:Zn.id,content:w,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};$(Se=>({...Se,[o]:[...Se[o]||[],pe]})),I("")};return N.jsxs("div",{className:"flex w-full h-screen font-sans antialiased text-gray-100 relative",children:[S&&N.jsx("div",{className:"absolute inset-0 z-50 bg-black/80 flex items-center justify-center backdrop-blur-sm",children:N.jsxs("div",{className:"bg-nexus-darker p-6 rounded-lg shadow-2xl border border-nexus-accent text-center max-w-sm w-full animate-bounce-short",children:[N.jsx("div",{className:"w-20 h-20 bg-nexus-dark rounded-full mx-auto mb-4 flex items-center justify-center",children:N.jsx("img",{src:"https://picsum.photos/200/200?random=99",className:"w-full h-full rounded-full opacity-80"})}),N.jsx("h2",{className:"text-xl font-bold mb-2",children:"Incoming Call..."}),N.jsx("p",{className:"text-nexus-gray text-sm mb-6",children:"Someone is trying to connect via Neural Link."}),N.jsxs("div",{className:"flex gap-4 justify-center",children:[N.jsx("button",{onClick:()=>E(null),className:"px-6 py-2 bg-nexus-red rounded hover:bg-red-600 transition",children:"Decline"}),N.jsx("button",{onClick:q,className:"px-6 py-2 bg-nexus-green rounded hover:bg-green-600 text-white font-bold transition shadow-lg shadow-green-900/50",children:"Accept"})]})]})}),N.jsxs("nav",{className:"w-[72px] bg-nexus-darkest flex flex-col items-center py-3 gap-2 overflow-y-auto hidden-scrollbar z-20",children:[N.jsxs("div",{className:"relative group",children:[N.jsx("div",{className:`absolute left-0 bg-white rounded-r-lg w-1 transition-all top-1/2 -translate-y-1/2 ${n==="home"?"h-10 opacity-100":"h-2 opacity-0 group-hover:opacity-100 group-hover:h-5"}`}),N.jsx("button",{onClick:()=>{e("home"),u(!1)},className:`w-12 h-12 rounded-[24px] transition-all flex items-center justify-center 
              ${n==="home"?"bg-nexus-accent rounded-[16px] text-white":"bg-nexus-darker group-hover:bg-nexus-accent group-hover:rounded-[16px] text-nexus-gray group-hover:text-white"}`,children:N.jsx("img",{src:"https://assets-global.website-files.com/6257adef93867e56f84d3092/636e0a6a49cf127bf92de1e2_icon_clyde_blurple_RGB.png",alt:"Home",className:"w-7 h-7",style:{filter:n==="home"?"brightness(0) invert(1)":""}})})]}),N.jsx("div",{className:"w-8 h-[2px] bg-nexus-darker rounded-lg mx-auto my-1"}),Wu.map(J=>N.jsxs("div",{className:"relative group",children:[N.jsx("div",{className:`absolute left-0 bg-white rounded-r-lg w-1 transition-all top-1/2 -translate-y-1/2 ${n===J.id?"h-10 opacity-100":"h-2 opacity-0 group-hover:opacity-100 group-hover:h-5"}`}),N.jsx("button",{onClick:()=>{e(J.id),s(J.channels[0].id),u(!1)},className:`w-12 h-12 rounded-[24px] transition-all flex items-center justify-center overflow-hidden
                 ${n===J.id?"bg-nexus-accent rounded-[16px]":"bg-nexus-darker group-hover:bg-nexus-accent group-hover:rounded-[16px]"}`,children:J.iconUrl?N.jsx("img",{src:J.iconUrl,alt:J.name,className:"w-full h-full object-cover"}):J.name.substring(0,2)})]},J.id)),N.jsx("div",{className:"w-12 h-12 bg-nexus-darker hover:bg-nexus-green text-nexus-green hover:text-white rounded-[24px] transition-all flex items-center justify-center cursor-pointer mt-2 group",children:N.jsx(dm,{size:24,className:"group-hover:rotate-90 transition-transform"})})]}),N.jsxs("div",{className:"w-60 bg-nexus-darker flex flex-col rounded-tl-lg",children:[n==="home"?N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"h-12 border-b border-nexus-darkest flex items-center px-4 shadow-sm z-10",children:N.jsx("input",{placeholder:"Find or start a conversation",className:"bg-nexus-darkest text-sm w-full px-2 py-1 rounded text-gray-200 placeholder-gray-500 outline-none"})}),N.jsxs("div",{className:"flex-1 p-2",children:[N.jsx("div",{className:"pt-4 pb-1 px-2 text-xs font-bold text-nexus-gray uppercase",children:"Direct Messages"}),N.jsxs("div",{className:"flex items-center gap-3 p-2 rounded hover:bg-nexus-hover cursor-pointer group",children:[N.jsxs("div",{className:"relative",children:[N.jsx("img",{src:"https://picsum.photos/200/200?random=4",className:"w-8 h-8 rounded-full"}),N.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-nexus-green rounded-full border-2 border-nexus-darker"})]}),N.jsx("div",{className:"text-gray-300 font-medium group-hover:text-white",children:"Akira_JP"})]}),N.jsxs("div",{className:"flex items-center gap-3 p-2 rounded hover:bg-nexus-hover cursor-pointer group",children:[N.jsxs("div",{className:"relative",children:[N.jsx("img",{src:"https://picsum.photos/200/200?random=5",className:"w-8 h-8 rounded-full"}),N.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-yellow-500 rounded-full border-2 border-nexus-darker"})]}),N.jsx("div",{className:"text-gray-300 font-medium group-hover:text-white",children:"Sarah_UK"})]})]})]}):n==="p2p"?N.jsxs("div",{className:"flex-1 flex flex-col p-4 items-center justify-center text-center",children:[N.jsx("div",{className:"w-20 h-20 rounded-full bg-nexus-green animate-pulse mb-4 flex items-center justify-center",children:N.jsx(ul,{size:32,className:"text-white"})}),N.jsx("h3",{className:"text-white font-bold",children:"In Call"}),N.jsx("p",{className:"text-nexus-gray text-sm",children:"Secure P2P Connection"})]}):N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"h-12 border-b border-nexus-darkest flex items-center px-4 hover:bg-nexus-hover cursor-pointer transition-colors shadow-sm z-10",children:N.jsx("h1",{className:"font-bold truncate text-white",children:O==null?void 0:O.name})}),N.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-0.5",children:[N.jsxs("div",{className:"pt-4 pb-1 px-2 text-xs font-bold text-nexus-gray uppercase hover:text-gray-300 cursor-pointer flex items-center",children:[N.jsx("span",{className:"mr-0.5",children:""})," Text Channels"]}),O==null?void 0:O.channels.filter(J=>J.type===Cn.TEXT).map(J=>N.jsxs("button",{onClick:()=>fe(J),className:`w-full flex items-center px-2 py-1.5 rounded group transition-all
                      ${o===J.id?"bg-nexus-active text-white":"text-nexus-gray hover:bg-nexus-hover hover:text-gray-200"}`,children:[N.jsx(cm,{size:20,className:"mr-1.5 text-nexus-gray"}),N.jsx("span",{className:"truncate font-medium",children:J.name})]},J.id)),N.jsxs("div",{className:"pt-4 pb-1 px-2 text-xs font-bold text-nexus-gray uppercase hover:text-gray-300 cursor-pointer flex items-center",children:[N.jsx("span",{className:"mr-0.5",children:""})," Voice Channels"]}),O==null?void 0:O.channels.filter(J=>J.type===Cn.VOICE).map(J=>N.jsxs("button",{onClick:()=>fe(J),className:`w-full flex items-center px-2 py-1.5 rounded group transition-all mb-1
                      ${o===J.id&&l?"bg-nexus-active text-white":"text-nexus-gray hover:bg-nexus-hover hover:text-gray-200"}`,children:[N.jsx(Py,{size:20,className:"mr-1.5 text-nexus-gray"}),N.jsx("span",{className:"truncate font-medium",children:J.name})]},J.id))]})]}),N.jsxs("div",{className:"bg-nexus-darkest/50 p-2 flex items-center gap-2",children:[N.jsxs("div",{className:"relative cursor-pointer hover:opacity-80",children:[N.jsx("img",{src:Zn.avatarUrl,alt:"Me",className:"w-8 h-8 rounded-full"}),N.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-nexus-green rounded-full border-2 border-nexus-darker"})]}),N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsx("div",{className:"text-sm font-semibold truncate text-white",children:Zn.username}),N.jsx("div",{className:"text-xs text-nexus-gray truncate",children:"#8842"})]}),N.jsx("button",{className:"p-1.5 hover:bg-nexus-hover rounded",children:N.jsx(ky,{size:16})}),N.jsx("button",{className:"p-1.5 hover:bg-nexus-hover rounded",children:N.jsx(JT,{size:16})}),N.jsx("button",{className:"p-1.5 hover:bg-nexus-hover rounded",children:N.jsx(WT,{size:16})})]})]}),N.jsx("div",{className:"flex-1 bg-nexus-dark flex flex-col min-w-0",children:n==="home"?N.jsxs("div",{className:"flex-1 p-8 flex flex-col items-center justify-center",children:[N.jsxs("div",{className:"max-w-md w-full bg-nexus-darker p-8 rounded-lg shadow-xl border border-nexus-darkest",children:[N.jsxs("div",{className:"text-center mb-8",children:[N.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Connect with Friends"}),N.jsx("p",{className:"text-nexus-gray",children:"Enter a Friend ID below to start a secure P2P video call directly in browser."})]}),N.jsxs("div",{className:"mb-6",children:[N.jsx("label",{className:"block text-xs font-bold text-nexus-gray uppercase mb-2",children:"Your ID (Share this)"}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("div",{className:"flex-1 bg-black/30 p-2 rounded border border-nexus-darkest text-nexus-green font-mono text-sm truncate select-all",children:f||"Generating ID..."}),N.jsx("button",{onClick:()=>navigator.clipboard.writeText(f),className:"bg-nexus-accent hover:bg-blue-600 text-white px-3 rounded font-medium text-sm transition",children:"Copy"})]})]}),N.jsx("div",{className:"w-full h-px bg-gray-700 my-6"}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-bold text-nexus-gray uppercase mb-2",children:"Friend's ID"}),N.jsx("input",{value:y,onChange:J=>m(J.target.value),placeholder:"e.g. 1234-abcd-5678-efgh",className:"w-full bg-nexus-darkest p-3 rounded text-white placeholder-gray-500 outline-none focus:ring-2 focus:ring-nexus-accent border border-nexus-darkest mb-4"}),N.jsxs("button",{onClick:Y,disabled:!y||!f,className:`w-full p-3 rounded font-bold text-white transition flex items-center justify-center gap-2
                        ${!y||!f?"bg-nexus-hover cursor-not-allowed text-gray-400":"bg-nexus-green hover:bg-green-600 shadow-lg"}`,children:[N.jsx(ul,{size:20}),"Start Video Call"]})]})]}),N.jsx("p",{className:"mt-8 text-xs text-nexus-gray max-w-lg text-center opacity-50",children:"Note: This uses WebRTC technology. Connections are peer-to-peer and do not pass through a central recording server. Works best when both users are on this page."})]}):l?N.jsx(UM,{channelName:n==="p2p"?"Private Call":(F==null?void 0:F.name)||"Voice",isAiChannel:((ae=F==null?void 0:F.name)==null?void 0:ae.toLowerCase().includes("ai"))||!1,participants:[Zn,...Wr],onDisconnect:W,currentUser:Zn,remoteStream:v}):N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"h-12 border-b border-nexus-darker flex items-center px-4 justify-between shrink-0 shadow-sm",children:[N.jsxs("div",{className:"flex items-center text-white font-bold text-lg",children:[N.jsx(cm,{size:24,className:"text-nexus-gray mr-2"}),F==null?void 0:F.name]}),N.jsx(Ly,{size:24,className:"cursor-pointer text-nexus-gray hover:text-gray-200"})]}),N.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:(Te=z[o])==null?void 0:Te.map((J,pe)=>{const Se=Wr.find(K=>K.id===J.userId)||Zn,Be=pe>0?z[o][pe-1]:null,P=Be&&Be.userId===J.userId;return N.jsxs("div",{className:`flex group ${P?"mt-0.5":"mt-4"}`,children:[P?N.jsx("div",{className:"w-10"}):N.jsx("img",{src:Se.avatarUrl,className:"w-10 h-10 rounded-full mt-0.5 cursor-pointer hover:opacity-80 active:translate-y-px transition-transform"}),N.jsxs("div",{className:"ml-4 flex-1",children:[!P&&N.jsxs("div",{className:"flex items-baseline gap-2",children:[N.jsx("span",{className:"font-medium hover:underline cursor-pointer text-white",children:Se.username}),N.jsx("span",{className:"text-xs text-nexus-gray",children:J.timestamp})]}),N.jsx("p",{className:`text-gray-300 leading-relaxed ${P?"hover:bg-black/5 -ml-2 pl-2 rounded pr-2":""}`,children:J.content})]})]},J.id)})}),N.jsx("div",{className:"px-4 pb-6 pt-2",children:N.jsxs("div",{className:"bg-nexus-darker rounded-lg p-3 flex items-center",children:[N.jsx("button",{className:"bg-nexus-gray/20 rounded-full p-1 mr-3 text-nexus-gray hover:text-white hover:bg-nexus-gray/40 transition-colors",children:N.jsx(dm,{size:16})}),N.jsx("form",{className:"flex-1",onSubmit:j,children:N.jsx("input",{type:"text",value:w,onChange:J=>I(J.target.value),placeholder:`Message #${F==null?void 0:F.name}`,className:"bg-transparent text-gray-100 placeholder-gray-500 outline-none w-full font-light"})})]})})]})}),n!=="home"&&n!=="p2p"&&N.jsxs("div",{className:"w-60 bg-nexus-darker hidden lg:flex flex-col p-4 border-l border-nexus-darkest",children:[N.jsxs("h3",{className:"text-xs font-bold text-nexus-gray uppercase mb-4",children:["Online  ",Wr.length+1]}),N.jsxs("div",{className:"flex items-center gap-3 mb-3 opacity-50 hover:opacity-100 transition-opacity cursor-pointer",children:[N.jsxs("div",{className:"relative",children:[N.jsx("img",{src:Zn.avatarUrl,className:"w-8 h-8 rounded-full"}),N.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-nexus-green rounded-full border-2 border-nexus-darker"})]}),N.jsx("div",{children:N.jsx("div",{className:"text-white font-medium text-sm",children:Zn.username})})]}),Wr.map(J=>N.jsxs("div",{className:"flex items-center gap-3 mb-3 hover:bg-nexus-hover/50 p-1.5 -mx-1.5 rounded cursor-pointer group",children:[N.jsxs("div",{className:"relative",children:[N.jsx("img",{src:J.avatarUrl,className:"w-8 h-8 rounded-full"}),N.jsx("div",{className:`absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-nexus-darker 
                    ${J.status==="ONLINE"?"bg-nexus-green":J.status==="IDLE"?"bg-yellow-500":J.status==="DND"?"bg-nexus-red":"bg-gray-500"}`})]}),N.jsx("div",{className:"flex-1 min-w-0",children:N.jsx("div",{className:`text-sm font-medium ${J.status==="OFFLINE"?"text-nexus-gray":"text-gray-300 group-hover:text-white"}`,children:J.username})})]},J.id))]})]})}const Iv=document.getElementById("root");if(!Iv)throw new Error("Could not find root element to mount to");const LM=pT.createRoot(Iv);LM.render(N.jsx(sT.StrictMode,{children:N.jsx(kM,{})}));
