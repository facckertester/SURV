const d=async e=>r(e.situation),r=(e,t)=>{const s=o=>o[Math.floor(Math.random()*o.length)];switch(e){case"LEVEL_UP":return s(["Power surges through your veins.","The abyss gazes back, and you blink not.","Your soul grows darker, yet stronger.","Ascension is inevitable.","More power. More blood.","You are becoming something else.","The shadows bow to you.","Limitless potential unleashed.","A new plateau of strength.","The ancient seals weaken."]);case"GAME_OVER":return s(["The darkness consumes you.","Your light has faded.","Rest now, warrior.","The horde was too many.","A valiant effort, extinguished.","Return to the void.","Your journey ends here.","Dust to dust.","The night claims another.","You fought well, but the shadows won."]);case"BOSS_SPAWN":return s(["A terrible presence approaches.","The ground trembles beneath you.","Something ancient has awoken.","Prepare yourself. It is here.","A titan of the void emerges.","Death comes for you.","Face your doom!","The air grows heavy with malice.","An entity of pure dread manifests.","The master of this realm descends."]);default:return"Survive."}},l="crimson_survivor_stats_v3",a={totalKills:0,totalTime:0,maxLevel:1,gamesPlayed:0,bossesKilled:0,unlockedWeapons:["shadow_bolt"],totalGems:0,maxKills:0,gold:0,powerUps:{}},n=()=>{try{const e=localStorage.getItem(l);if(!e)return a;const t=JSON.parse(e);return{...a,...t}}catch(e){return console.error("Failed to load stats",e),a}},h=e=>{const t=n();let s={...t};e&&(s={...t,totalKills:t.totalKills+e.kills,totalTime:t.totalTime+e.time,maxLevel:Math.max(t.maxLevel,e.level),gamesPlayed:t.gamesPlayed+1,bossesKilled:t.bossesKilled+(e.bossKilled?1:0),totalGems:(t.totalGems||0)+e.gemsCollected,maxKills:Math.max(t.maxKills||0,e.kills),gold:(t.gold||0)+e.goldCollected});try{localStorage.setItem(l,JSON.stringify(s))}catch(o){console.error("Failed to save stats",o)}return s},u=e=>{try{localStorage.setItem(l,JSON.stringify(e))}catch(t){console.error("Failed to save stats",t)}};export{d as g,n as l,u as p,h as s};
